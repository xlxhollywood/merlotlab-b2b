!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="557edf55-ba30-420b-af32-00479d446e7b",e._sentryDebugIdIdentifier="sentry-dbid-557edf55-ba30-420b-af32-00479d446e7b")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1356],{757:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(56947),s=a(65172),r=a(63492),o=a(92403);async function i(e,t){let{projectRef:a}=e;if(!a)throw Error("Project ref is required");let{data:n,error:r}=await (0,s.Jt)("/platform/projects/{ref}/config/supavisor",{params:{path:{ref:a}},signal:t});return r&&(0,s.H4)(r),n}let l=function(e){let{projectRef:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)(o.c.poolingConfiguration(t),e=>{let{signal:a}=e;return i({projectRef:t},a)},{enabled:a&&void 0!==t&&r.pe,...s})}},1266:(e,t,a)=>{"use strict";a.d(t,{ol:()=>X,Ev:()=>Q,mV:()=>Y,Bx:()=>Z,Yv:()=>ee});var n=a(80263),s=a(37055),r=a(88712),o=a(11021),i=a.n(o),l=a(75225),c=a(53346),d=a(15427),u=a(68095),p=a(99443),m=a(76679),x=a(61195),h=a(15601),f=a.n(h),g=a(24400),b=a(53239),y=a(90478),j=a(97420),v=a(96637),N=a(32137),w=a(32267),k=a(97175),_=a(60018),S=a(26367),C=a(90777),A=a(63492);let P=(e,t,a)=>{let s=(null==t?void 0:t.status)===A.BU.COMING_UP,r="/project/".concat(e);return[{key:"editor",label:"Table Editor",icon:(0,n.jsx)(C.Ue,{size:Q,strokeWidth:Y}),link:e&&(s?r:"/project/".concat(e,"/editor")),linkElement:(0,n.jsx)(S.h,{projectRef:e})},{key:"sql",label:"SQL Editor",icon:(0,n.jsx)(C.mx,{size:Q,strokeWidth:Y}),link:A.pe?e&&(s?r:"/project/".concat(e,"/sql")):"/project/".concat(e,"/sql/1")}]},L=(e,t,a)=>{var s,r,o,i;let l=(null==t?void 0:t.status)===A.BU.ACTIVE_HEALTHY,c=(null==t?void 0:t.status)===A.BU.COMING_UP,d="/project/".concat(e),u=null==(s=null==a?void 0:a.auth)||s,p=null==(r=null==a?void 0:a.edgeFunctions)||r,m=null==(o=null==a?void 0:a.storage)||o,x=null==(i=null==a?void 0:a.realtime)||i,h=(0,k.k)(t),f=(0,w.B)(e);return[{key:"database",label:"Database",icon:(0,n.jsx)(C.Wm,{size:Q,strokeWidth:Y}),link:e&&(c?d:l?"/project/".concat(e,"/database/schemas"):"/project/".concat(e,"/database/backups/scheduled")),items:h},...u?[{key:"auth",label:"Authentication",icon:(0,n.jsx)(C.Nj,{size:Q,strokeWidth:Y}),link:e&&(c?d:"/project/".concat(e,"/auth/users")),items:f}]:[],...m?[{key:"storage",label:"Storage",icon:(0,n.jsx)(C.wc,{size:Q,strokeWidth:Y}),link:e&&(c?d:"/project/".concat(e,"/storage/buckets"))}]:[],...p?[{key:"functions",label:"Edge Functions",icon:(0,n.jsx)(C.n7,{size:Q,strokeWidth:Y}),link:e&&(c?d:"/project/".concat(e,"/functions"))}]:[],...x?[{key:"realtime",label:"Realtime",icon:(0,n.jsx)(C.Se,{size:Q,strokeWidth:Y}),link:e&&(c?d:"/project/".concat(e,"/realtime/inspector"))}]:[]]},I=(e,t,a)=>{let s=(null==t?void 0:t.status)===A.BU.COMING_UP,r="/project/".concat(e);return[{key:"advisors",label:"Advisors",icon:(0,n.jsx)(j.A,{size:Q,strokeWidth:Y}),link:e&&(s?r:"/project/".concat(e,"/advisors/security"))},...A.pe?[{key:"reports",label:"Reports",icon:(0,n.jsx)(C.eM,{size:Q,strokeWidth:Y}),link:e&&(s?r:"/project/".concat(e,"/reports"))}]:[],{key:"logs",label:"Logs",icon:(0,n.jsx)(v.A,{size:Q,strokeWidth:Y}),link:e&&(s?r:"/project/".concat(e,"/logs"))},{key:"api",label:"API Docs",icon:(0,n.jsx)(N.A,{size:Q,strokeWidth:Y}),link:e&&(s?r:"/project/".concat(e,"/api"))},{key:"integrations",label:"Integrations",icon:(0,n.jsx)(u.A,{size:Q,strokeWidth:Y}),link:e&&(s?r:"/project/".concat(e,"/integrations"))}]},R=(e,t)=>{let a=(0,_.M)(e);return[...A.pe?[{key:"settings",label:"Project Settings",icon:(0,n.jsx)(x.A,{size:Q,strokeWidth:Y}),link:e&&"/project/".concat(e,"/settings/general"),items:a}]:[]]};var D=a(98832),E=a(95566),z=a(96383),T=a(97600),F=a(99127);let B=()=>{let{ref:e}=(0,y.g)(),{data:t}=(0,F.b)({projectRef:e}),a=(null!=t?t:[]).filter(e=>e.categories.includes("SECURITY")),n=a.filter(e=>"ERROR"===e.level);return{securityLints:a,errorLints:n}};var M=a(65303),O=a(23385),W=a(54660),H=a(37411),U=a(86177),q=a(71139),G=a(40022),V=a(51500),$=a(77635),K=a(72035);let Q=32,Y=1.5,X="expandable",J=(0,s.P)(U.Bx),Z=e=>{let{className:t,...a}=e,{setOpen:s}=(0,U.cL)(),o=function(){var e;let t=null!=(e=(0,z.usePathname)())?e:"";return t.startsWith("/account")||t.startsWith("/new")||"/support/new"===t||"/organizations"===t||"/sign-in"===t}(),[i,c]=(0,M.U)(y.rS.SIDEBAR_BEHAVIOR,X);return(0,b.useEffect)(()=>{"open"===i&&s(!0),"closed"===i&&s(!1)},[i,s]),(0,n.jsx)(r.N,{"data-sentry-element":"AnimatePresence","data-sentry-component":"Sidebar","data-sentry-source-file":"Sidebar.tsx",children:!o&&(0,n.jsx)(J,{...a,transition:{delay:.4,duration:.4},overflowing:"expandable"===i,collapsible:"icon",variant:"sidebar",onMouseEnter:()=>{"expandable"===i&&s(!0)},onMouseLeave:()=>{"expandable"===i&&s(!1)},children:(0,n.jsx)(ee,{footer:(0,n.jsxs)(q.rI,{children:[(0,n.jsx)(q.ty,{asChild:!0,children:(0,n.jsx)(G.$,{type:"text",className:"w-min px-1.5 mx-0.5 ".concat("open"===i?"!px-2":""),icon:(0,n.jsx)(l.A,{size:Q,strokeWidth:Y})})}),(0,n.jsx)(q.SQ,{side:"top",align:"start",className:"w-40",children:(0,n.jsxs)(q.Hr,{value:i,onValueChange:e=>c(e),children:[(0,n.jsx)(q.lp,{children:"Sidebar control"}),(0,n.jsx)(q.mB,{}),(0,n.jsx)(q.Ht,{value:"open",children:"Expanded"}),(0,n.jsx)(q.Ht,{value:"closed",children:"Collapsed"}),(0,n.jsx)(q.Ht,{value:"expandable",children:"Expand on hover"})]})})]})})})})},ee=e=>{let{footer:t}=e,{ref:a}=(0,y.g)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.N,{mode:"wait","data-sentry-element":"AnimatePresence","data-sentry-source-file":"Sidebar.tsx",children:(0,n.jsx)(U.Yv,{"data-sentry-element":"SidebarContentPrimitive","data-sentry-source-file":"Sidebar.tsx",children:a?(0,n.jsx)(s.P.div,{children:(0,n.jsx)(en,{})},"project-links"):(0,n.jsx)(s.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,ease:"easeOut"},children:(0,n.jsx)(es,{})},"org-links")})}),(0,n.jsx)(U.CG,{"data-sentry-element":"SidebarFooter","data-sentry-source-file":"Sidebar.tsx",children:(0,n.jsx)(U.Cn,{className:"p-0","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:t})})]})};function et(e){let{route:t,active:a,onClick:s,disabled:r,...o}=e,[i]=(0,M.U)(y.rS.SIDEBAR_BEHAVIOR,X),l={disabled:r,tooltip:"closed"===i?t.label:"",isActive:a,className:(0,V.cn)("text-sm","open"===i?"!px-2":""),size:"default",onClick:s},c=o.children?o.children:(0,n.jsxs)(n.Fragment,{children:[t.icon,(0,n.jsx)("span",{children:t.label})]});return(0,n.jsx)(U.FX,{"data-sentry-element":"SidebarMenuItem","data-sentry-component":"SideBarNavLink","data-sentry-source-file":"Sidebar.tsx",children:t.link&&!r?(0,n.jsx)(U.Uj,{...l,asChild:!0,children:(0,n.jsx)(f(),{href:t.link,children:c})}):(0,n.jsx)(U.Uj,{...l,children:c})})}let ea=(e,t)=>(0,n.jsx)("div",{className:(0,V.cn)("absolute pointer-events-none flex h-2 w-2 left-[18px] group-data-[state=expanded]:left-[20px] top-2 z-10 rounded-full",e.length>0?"bg-destructive-600":t.length>0?"bg-warning-600":"bg-transparent"),"data-sentry-component":"ActiveDot","data-sentry-source-file":"Sidebar.tsx"}),en=()=>{let e=(0,g.useRouter)(),{ref:t}=(0,y.g)(),{project:a}=(0,D.Om)(),s=(0,H.qM)(),r=(0,K.hx)(),{securityLints:o,errorLints:l}=B(),c=(0,W._P)("warehouse"),d=e.pathname.split("/")[3],{projectAuthAll:u,projectEdgeFunctionAll:p,projectStorageAll:m,realtimeAll:x}=(0,T.x)(["project_auth:all","project_edge_function:all","project_storage:all","realtime:all"]),h=P(t,a),f=L(t,a,{auth:u,edgeFunctions:p,storage:m,realtime:x}),b=I(t,a),j=R(t,a);return(0,n.jsxs)(U.wZ,{"data-sentry-element":"SidebarMenu","data-sentry-component":"ProjectLinks","data-sentry-source-file":"Sidebar.tsx",children:[(0,n.jsxs)(U.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:[(0,n.jsx)(et,{active:i()(d)&&!i()(e.query.ref),route:{key:"HOME",label:"Project overview",icon:(0,n.jsx)(C.ww,{size:Q,strokeWidth:Y}),link:"/project/".concat(t),linkElement:(0,n.jsx)(E.L,{projectRef:t})},"data-sentry-element":"SideBarNavLink","data-sentry-source-file":"Sidebar.tsx"},"home"),h.map((e,t)=>(0,n.jsx)(et,{route:e,active:d===e.key},"tools-routes-".concat(t)))]}),(0,n.jsx)($.w,{className:"w-[calc(100%-1rem)] mx-auto","data-sentry-element":"Separator","data-sentry-source-file":"Sidebar.tsx"}),(0,n.jsx)(U.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:f.map((e,t)=>(0,n.jsx)(et,{route:e,active:d===e.key},"product-routes-".concat(t)))}),(0,n.jsx)($.w,{className:"w-[calc(100%-1rem)] mx-auto","data-sentry-element":"Separator","data-sentry-source-file":"Sidebar.tsx"}),(0,n.jsx)(U.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:b.map((e,t)=>{if("api"===e.key&&r)return(0,n.jsx)(et,{route:{label:e.label,icon:e.icon,key:e.key},onClick:()=>{s.setShowProjectApiDocs(!0)}},"other-routes-".concat(t));if("advisors"===e.key)return(0,n.jsxs)("div",{className:"relative",children:[ea(l,o),(0,n.jsx)(et,{route:e,active:d===e.key},"other-routes-".concat(t))]},e.key);if("logs"!==e.key)return(0,n.jsx)(et,{route:e,active:d===e.key},"other-routes-".concat(t));{let a=c?"Logs & Analytics":e.label,s={...e,label:a};return(0,n.jsx)(et,{route:s,active:d===s.key},"other-routes-".concat(t))}})}),(0,n.jsx)(U.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:j.map((e,t)=>(0,n.jsx)(et,{route:e,active:d===e.key},"settings-routes-".concat(t)))})]})},es=()=>{let e=(0,g.useRouter)(),{slug:t}=(0,y.g)(),a=(0,O.a)(),s=(0,y.fG)(),r=(null==a?void 0:a.organization_requires_mfa)&&!s,o=e.pathname.split("/")[3],i=[{label:"Projects",href:"/org/".concat(t),key:"projects",icon:(0,n.jsx)(c.A,{size:Q,strokeWidth:Y})},{label:"Team",href:"/org/".concat(t,"/team"),key:"team",icon:(0,n.jsx)(d.A,{size:Q,strokeWidth:Y})},{label:"Integrations",href:"/org/".concat(t,"/integrations"),key:"integrations",icon:(0,n.jsx)(u.A,{size:Q,strokeWidth:Y})},{label:"Usage",href:"/org/".concat(t,"/usage"),key:"usage",icon:(0,n.jsx)(p.A,{size:Q,strokeWidth:Y})},{label:"Billing",href:"/org/".concat(t,"/billing"),key:"billing",icon:(0,n.jsx)(m.A,{size:Q,strokeWidth:Y})},{label:"Organization settings",href:"/org/".concat(t,"/general"),key:"settings",icon:(0,n.jsx)(x.A,{size:Q,strokeWidth:Y})}];return(0,n.jsx)(U.wZ,{className:"flex flex-col gap-1 items-start","data-sentry-element":"SidebarMenu","data-sentry-component":"OrganizationLinks","data-sentry-source-file":"Sidebar.tsx",children:(0,n.jsx)(U.Cn,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:i.map((t,a)=>(0,n.jsx)(et,{disabled:r,active:0===a?void 0===o:"settings"===t.key?e.pathname.includes("/general")||e.pathname.includes("/apps")||e.pathname.includes("/audit")||e.pathname.includes("/documents")||e.pathname.includes("/security"):o===t.key,route:{label:t.label,link:t.href,key:t.label,icon:t.icon}},t.key))})})}},1356:(e,t,a)=>{"use strict";a.d(t,{A:()=>av});var n=a(80263),s=a(90478),r=a(25207),o=a(79880),i=a(1266),l=a(24400),c=a(86177),d=a(88712),u=a(37055),p=a(15601),m=a.n(p),x=a(53239),h=a(72035),f=a(60045),g=a(70629),b=a(23445),y=a(32466),j=a(72259),v=a(46312),N=a(20313),w=a(16265),k=a(12578),_=a(90437),S=a(50348),C=a(757),A=a(6772),P=a(20438),L=a(57132),I=a(23385),R=a(63492),D=a(34531),E=a(54474),z=a(51500),T=a(16838),F=a(40990),B=a(55501),M=a(55966),O=a(40022),W=a(2119),H=a(77635),U=a(47142);let q=[{id:"uri",label:"URI",contentType:"input",lang:"bash",fileTitle:void 0},{id:"psql",label:"PSQL",contentType:"code",lang:"bash",fileTitle:void 0},{id:"golang",label:"Golang",contentType:"code",lang:"go",fileTitle:".env"},{id:"jdbc",label:"JDBC",contentType:"input",lang:"bash",fileTitle:void 0},{id:"dotnet",label:".NET",contentType:"code",lang:"csharp",fileTitle:"appsettings.json"},{id:"nodejs",label:"Node.js",contentType:"code",lang:"js",fileTitle:".env"},{id:"php",label:"PHP",contentType:"code",lang:"php",fileTitle:".env"},{id:"python",label:"Python",contentType:"code",lang:"python",fileTitle:".env"},{id:"sqlalchemy",label:"SQLAlchemy",contentType:"code",lang:"python",fileTitle:".env"}],G={host:{key:"host",description:"The hostname of your database"},port:{key:"port",description:"Port number for the connection"},database:{key:"database",description:"Default database name"},user:{key:"user",description:"Database user"},pool_mode:{key:"pool_mode",description:"Connection pooling behavior"}},V=[{key:"nextjs",label:"Next.js",icon:"nextjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nextjs",children:[{key:"app",label:"App Router",icon:"",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"pages",label:"Pages Router",icon:"",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"remix",label:"Remix",icon:"remix",guideLink:"https://supabase.com/docs/guides/auth/server-side/creating-a-client?framework=remix&environment=remix-loader",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"react",label:"React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/reactjs",children:[{key:"create-react-app",label:"Create React App",icon:"react",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"vite",label:"Vite",icon:"vite",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"nuxt",label:"Nuxt",icon:"nuxt",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nuxtjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"vuejs",label:"Vue.JS",icon:"vuejs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/vue",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"sveltekit",label:"SvelteKit",icon:"sveltekit",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/sveltekit",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"solidjs",label:"Solid.js",icon:"solidjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/solidjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"astro",label:"Astro",icon:"astro",guideLink:"https://docs.astro.build/en/guides/backend/supabase/",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"refine",label:"refine",icon:"refine",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/refine",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],$=[{key:"exporeactnative",label:"Expo React Native",icon:"expo",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-expo-react-native",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"flutter",label:"Flutter",icon:"flutter",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-flutter",children:[{key:"supabaseflutter",label:"supabase-flutter",children:[],icon:"supabase"}]},{key:"ionicreact",label:"Ionic React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-react",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"swift",label:"Swift",icon:"swift",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-swift",children:[{key:"supabaseswift",label:"supabase-swift",children:[],icon:"supabase"}]},{key:"androidkotlin",label:"Android Kotlin",icon:"kotlin",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-kotlin",children:[{key:"supabasekt",label:"supabase-kt",children:[],icon:"supabase"}]},{key:"ionicangular",label:"Ionic Angular",icon:"ionic-angular",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-angular",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],K=[{key:"prisma",label:"Prisma",icon:"prisma",guideLink:"https://supabase.com/partners/integrations/prisma",children:[]},{key:"drizzle",label:"Drizzle",icon:"drizzle",guideLink:"https://supabase.com/docs/guides/database/connecting-to-postgres#connecting-with-drizzle",children:[]}],Q=[{key:"direct",label:"Connection String",obj:[]},{key:"frameworks",label:"App Frameworks",obj:V},{key:"mobiles",label:"Mobile Frameworks",obj:$},{key:"orms",label:"ORMs",obj:K}],Y="Purchase IPv4 add-on or use Shared Pooler if on a IPv4 network",X="Connections are IPv4 proxied with IPv4 add-on";var J=a(25643),Z=a(47831),ee=a(95043),et=a(86254),ea=a(80903),en=a(29012),es=a(52647);let er=e=>{let{parameters:t}=e,[a,s]=(0,x.useState)(!1),[r,o]=(0,x.useState)({});return(0,n.jsxs)(M.Nt,{open:a,onOpenChange:s,className:"group -space-y-px","data-sentry-element":"Collapsible_Shadcn_","data-sentry-component":"ConnectionParameters","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,n.jsx)(M.R6,{asChild:!0,className:"w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light px-3","data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:(0,n.jsx)(O.$,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,n.jsx)(ee.A,{className:(0,z.cn)("text-foreground-muted transition-transform",a?"rotate-90":"")}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectionParameters.tsx",children:"View parameters"})}),(0,n.jsxs)(M.Ke,{className:"bg-dash-sidebar rounded-b border font-mono text-sm","data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,n.jsx)("div",{className:"px-4 py-2",children:t.map(e=>(0,n.jsx)("div",{className:"py-0.5 group/param",children:(0,n.jsxs)("div",{className:"text-xs flex items-center",children:[(0,n.jsxs)("span",{className:"text-foreground-lighter",children:[e.key,": "]}),(0,n.jsx)("span",{className:"ml-1 text-foreground",children:e.value}),(0,n.jsx)("button",{onClick:()=>{(0,es.l)(e.value,()=>{o(t=>({...t,[e.key]:!0})),setTimeout(()=>{o(t=>({...t,[e.key]:!1}))},1e3)})},className:(0,z.cn)("text-foreground-lighter","ml-2 opacity-0 group-hover/param:opacity-100","hover:text-foreground rounded-sm p-1",r[e.key]&&"opacity-100","transition-all"),children:r[e.key]?(0,n.jsx)(ea.A,{size:12,strokeWidth:1.5}):(0,n.jsx)(en.A,{size:12,strokeWidth:1.5})})]})},e.key))}),(0,n.jsx)(H.w,{"data-sentry-element":"Separator","data-sentry-source-file":"ConnectionParameters.tsx"}),(0,n.jsx)("div",{className:"text-foreground-muted text-xs px-4 py-1 font-sans",children:"For security reasons, your database password is never shown."})]})]})};var eo=a(90777);let ei=e=>{let{x:t,y1:a,y2:s,isActive:r}=e;return(0,n.jsx)(d.N,{"data-sentry-element":"AnimatePresence","data-sentry-component":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx",children:r&&(0,n.jsxs)("svg",{width:2,height:s-a+6,viewBox:"0 0 ".concat(2," ").concat(s-a+6),style:{position:"absolute",left:t-1,top:a-3},children:[(0,n.jsx)(u.P.line,{x1:"1",y1:"3",x2:"1",y2:s-a+3,stroke:"hsl(var(--foreground-default) / 0.6)",strokeWidth:1,strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},exit:{pathLength:0,opacity:0},transition:{duration:.2}}),(0,n.jsx)("defs",{children:(0,n.jsxs)(u.P.linearGradient,{id:"lineGradient-".concat(t,"-").concat(a,"-").concat(s),gradientUnits:"userSpaceOnUse",x1:"2",y1:"-20",x2:"2",y2:s-a+26,animate:{y1:[-20,s-a+26],y2:[0,s-a+46]},transition:{duration:1,repeat:1/0,ease:"linear",repeatDelay:0},children:[(0,n.jsx)("stop",{offset:"0",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"0.8",stopColor:"hsl(var(--foreground-default))"}),(0,n.jsx)("stop",{offset:"1",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"})]})}),(0,n.jsx)(u.P.line,{x1:"2",y1:"3",x2:"2",y2:s-a+3,stroke:"url(#lineGradient-".concat(t,"-").concat(a,"-").concat(s,")"),strokeWidth:1,strokeLinecap:"round",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})]})})},el=e=>{let{isActive:t}=e;return(0,n.jsx)(u.P.rect,{width:em,height:3,className:(0,z.cn)("fill-background-surface-200 stroke-border-stronger stroke-[1]",t&&"stroke-foreground/40"),x:ep,y:ed,rx:"1.5",animate:{boxShadow:t?"0 0 8px #86efac":"0 0 0px #86efac"},transition:{duration:.2},"data-sentry-element":"unknown","data-sentry-component":"TopRect","data-sentry-source-file":"PoolerIcons.tsx"})},ec=e=>{let{isActive:t}=e;return(0,n.jsxs)("g",{"data-sentry-element":"g","data-sentry-component":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,n.jsx)(u.P.rect,{width:em,height:32,className:(0,z.cn)("stroke-border fill-background-surface-100 stroke-[1] transition-all",t&&"fill-background-surface-100 stroke-border-stronger","flex items-center justify-center"),x:ep,y:eu,rx:"4",animate:{fill:t?"#2563eb":"#1e40af",stroke:"#93c5fd",boxShadow:t?"0 0 8px #93c5fd":"0 0 0px #93c5fd"},transition:{duration:.2},"data-sentry-element":"unknown","data-sentry-source-file":"PoolerIcons.tsx"}),(0,n.jsx)(eo.Wm,{size:21,className:(0,z.cn)("w-4 h-4 text-foreground-lighter transition-all",t&&"text-foreground"),x:ep+em/6,y:eu+5.5,strokeWidth:1,"data-sentry-element":"Database","data-sentry-source-file":"PoolerIcons.tsx"})]})},ed=30.72,eu=61.44,ep=8.16,em=32.160000000000004,ex=()=>{let[e,t]=(0,x.useState)([!1,!1,!1]),[a,s]=(0,x.useState)([!1,!1,!1]),[r,o]=(0,x.useState)(!1);return(0,x.useEffect)(()=>{o(a.some(Boolean))},[a]),(0,x.useEffect)(()=>{let e=e=>{t(t=>{let a=[...t];return a[e]=!1,a}),s(t=>{let a=[...t];return a[e]=!1,a}),setTimeout(()=>{t(t=>{let a=[...t];return a[e]=!0,a})},0),setTimeout(()=>{s(t=>{let a=[...t];return a[e]=!0,a})},400),setTimeout(()=>{t(t=>{let a=[...t];return a[e]=!1,a}),s(t=>{let a=[...t];return a[e]=!1,a})},1e3)};setTimeout(()=>e(0),0),setTimeout(()=>e(1),200),setTimeout(()=>e(2),400);let a=[0,1,2].map(t=>setInterval(()=>e(t),3e3+200*t));return()=>a.forEach(clearInterval)},[]),(0,n.jsxs)("div",{style:{position:"relative",width:48,height:96},"data-sentry-component":"TransactionIcon","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,n.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),"data-sentry-element":"svg","data-sentry-source-file":"PoolerIcons.tsx",children:[[0,1,2].map(t=>(0,n.jsx)(x.Fragment,{children:(0,n.jsx)(d.N,{children:e[t]&&(0,n.jsx)(u.P.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,n.jsx)(el,{isActive:r,"data-sentry-element":"TopRect","data-sentry-source-file":"PoolerIcons.tsx"}),(0,n.jsx)(ec,{isActive:!0,"data-sentry-element":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx"})]}),[0,1,2].map(e=>(0,n.jsx)(ei,{x:12+12*e,y1:17.28,y2:26.880000000000003,isActive:a[e]},e)),(0,n.jsx)(ei,{x:18,y1:38.400000000000006,y2:56.64,isActive:!0,"data-sentry-element":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx"}),(0,n.jsx)(ei,{x:30,y1:38.400000000000006,y2:56.64,isActive:!0,"data-sentry-element":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx"})]})},eh=()=>{let[e,t]=(0,x.useState)([!1,!1,!1]),[a,s]=(0,x.useState)([!1,!1,!1]);return(0,x.useEffect)(()=>{let e=e=>{t(t=>{let a=[...t];return a[e]=!0,a}),s(t=>{let a=[...t];return a[e]=!0,a}),setTimeout(()=>{t(t=>{let a=[...t];return a[e]=!1,a}),s(t=>{let a=[...t];return a[e]=!1,a})},2500)};setTimeout(()=>e(0),100),setTimeout(()=>e(1),1500),setTimeout(()=>e(2),3e3);let a=[0,1,2].map(t=>setInterval(()=>e(t),3e3*Math.random()+8e3));return()=>a.forEach(clearInterval)},[]),(0,n.jsxs)("div",{style:{position:"relative",width:48,height:96},"data-sentry-component":"DirectConnectionIcon","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,n.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),"data-sentry-element":"svg","data-sentry-source-file":"PoolerIcons.tsx",children:[[0,1,2].map(t=>(0,n.jsx)(x.Fragment,{children:(0,n.jsx)(d.N,{children:e[t]&&(0,n.jsx)(u.P.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,n.jsx)(ec,{isActive:a.some(e=>e),"data-sentry-element":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx"})]}),[0,1,2].map(e=>(0,n.jsx)(ei,{x:12+12*e,y1:17.28,y2:56.64,isActive:a[e]},e))]})},ef=e=>{let{className:t,active:a}=e;return(0,n.jsxs)("div",{className:(0,z.cn)("relative inline-flex",t),"data-sentry-component":"IPv4StatusIcon","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1",stroke:"currentColor",className:"size-6 stroke-foreground-lighter","data-sentry-element":"svg","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418","data-sentry-element":"path","data-sentry-source-file":"ConnectionPanel.tsx"})}),a?(0,n.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-brand-500 rounded w-4 h-4 flex items-center justify-center",children:(0,n.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M8.33325 2.5L3.74992 7.08333L1.66659 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,n.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-destructive rounded w-4 h-4 flex items-center justify-center",children:(0,n.jsx)(J.A,{size:10,strokeWidth:4,className:"text-white rounded-full"})})]})},eg=e=>{let{title:t}=e;return(0,n.jsx)("div",{className:"flex items-center justify-between px-4 py-1 bg-surface-100/50 border border-b-0 border-surface rounded-t","data-sentry-component":"CodeBlockFileHeader","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(Z.A,{size:12,className:"text-foreground-muted",strokeWidth:1.5,"data-sentry-element":"FileCode","data-sentry-source-file":"ConnectionPanel.tsx"}),(0,n.jsx)("span",{className:"text-xs text-foreground-light",children:t})]})})},eb=e=>{var t;let{type:a="direct",badge:r,title:o,description:i,connectionString:l,ipv4Status:c,notice:d,parameters:u=[],lang:p="bash",fileTitle:x,children:h,onCopyCallback:f}=e,{ref:g}=(0,s.g)(),b=(0,E.RE)(),{data:y}=(0,C.A)({projectRef:g}),j=null==y?void 0:y.find(e=>e.identifier===b.selectedDatabaseId),v=(null==j?void 0:j.pool_mode)==="session",N=null!=(t=c.links)?t:[];return(0,n.jsxs)("div",{className:"flex flex-col gap-5 lg:grid lg:grid-cols-2 lg:gap-20 w-full","data-sentry-component":"ConnectionPanel","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-2 mb-2",children:[(0,n.jsx)("h1",{className:"text-sm",children:o}),!!r&&(0,n.jsx)(W.E,{children:r})]}),(0,n.jsx)("p",{className:"text-sm text-foreground-light mb-4",children:i}),(0,n.jsxs)("div",{className:"flex flex-col -space-y-px",children:[x&&(0,n.jsx)(eg,{title:x}),"transaction"===a&&v?(0,n.jsx)(U.Z,{showIcon:!1,type:"default",className:"[&>h5]:text-xs [&>div]:text-xs",title:"Transaction pooler is unavailable as pool mode is set to Session",description:"If you'd like to use transaction mode, update your pool mode to Transaction for the connection pooler in your project's Database Settings.",children:(0,n.jsx)(O.$,{asChild:!0,type:"default",className:"mt-2",children:(0,n.jsx)(m(),{href:"/project/".concat(g,"/settings/database#connection-pooler"),className:"text-xs text-light hover:text-foreground",children:"Database Settings"})})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.N,{wrapperClassName:(0,z.cn)("[&_pre]:rounded-b-none [&_pre]:px-4 [&_pre]:py-3",x&&"[&_pre]:rounded-t-none"),language:p,value:l,className:"[&_code]:text-[12px] [&_code]:text-foreground",hideLineNumbers:!0,onCopyCallback:f}),d&&(0,n.jsx)("div",{className:"border px-4 py-1 w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light",children:null==d?void 0:d.map(e=>(0,n.jsx)("p",{className:"text-xs text-foreground-lighter",children:e},e))}),u.length>0&&(0,n.jsx)(er,{parameters:u})]}),h]})]}),(0,n.jsx)("div",{className:"flex flex-col items-end",children:(0,n.jsxs)("div",{className:"flex flex-col -space-y-px w-full",children:["session"!==a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:[(0,n.jsx)("div",{className:"absolute top-2 left-2.5",children:"transaction"===a?(0,n.jsx)(ex,{}):(0,n.jsx)(eh,{})}),(0,n.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,n.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===a?"Suitable for a large number of connected clients":"Suitable for long-lived, persistent connections"})})]}),(0,n.jsx)("div",{className:"border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:(0,n.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,n.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===a?"Pre-warmed connection pool to Postgres":"Each client has a dedicated connection to Postgres"})})})]}),R.pe&&(0,n.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(ef,{active:"success"===c.type})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-foreground",children:c.title}),c.description&&("string"==typeof c.description?(0,n.jsx)("span",{className:"text-xs text-foreground-lighter",children:c.description}):c.description),N.length>0&&(0,n.jsx)("div",{className:"flex items-center gap-x-2 mt-2",children:N.map(e=>(0,n.jsx)(O.$,{asChild:!0,type:"default",size:"tiny",children:(0,n.jsx)(m(),{href:e.url,className:"text-xs text-light hover:text-foreground",children:e.text})},e.text))})]})]}),"session"===a&&(0,n.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b bg-alternative/50",children:[(0,n.jsx)("div",{className:"flex w-6 h-6 rounded items-center justify-center gap-2 flex-shrink-0 bg-surface-100",children:(0,n.jsx)(et.id,{})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-foreground",children:"Only use on a IPv4 network"}),(0,n.jsx)("span",{className:"text-xs text-foreground-lighter",children:"Use Direct Connection if connecting via an IPv6 network"})]})]}),R.pe&&"error"===c.type&&(0,n.jsxs)(M.Nt,{className:"group -space-y-px",children:[(0,n.jsx)(M.R6,{asChild:!0,className:"group/collapse w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-muted",children:(0,n.jsx)(O.$,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,n.jsx)(ee.A,{className:(0,z.cn)("group-data-[state=open]/collapse:rotate-90 text-foreground-muted transition-transform")}),children:"Some platforms are IPv4-only:"})}),(0,n.jsx)(M.Ke,{className:"bg-dash-sidebar rounded-b border px-3 py-2",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light max-w-xs",children:"A few major platforms are IPv4-only and may not work with a Direct Connection:"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Vercel"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"GitHub Actions"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Render"}),(0,n.jsx)("div",{className:"text-foreground text-xs",children:"Retool"})]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["If you wish to use a Direct Connection with these, please purchase"," ",(0,n.jsx)(m(),{href:"/project/".concat(g,"/settings/addons?panel=ipv4"),className:"text-xs text-light hover:text-foreground",children:"IPv4 support"}),"."]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["You may also use the"," ",(0,n.jsx)("span",{className:"text-foreground-light",children:"Session Pooler"})," or"," ",(0,n.jsx)("span",{className:"text-foreground-light",children:"Transaction Pooler"})," if you are on a IPv4 network."]})]})})]})]})})]})};var ey=a(96872);let ej={nodejs:{installCommands:["npm install postgres"],files:[{name:"db.js",content:"import postgres from 'postgres'\n\nconst connectionString = process.env.DATABASE_URL\nconst sql = postgres(connectionString)\n\nexport default sql"}]},golang:{installCommands:["go get github.com/jackc/pgx/v5"],files:[{name:"main.go",content:'package main\n\nimport (\n	"context"\n	"log"\n	"os"\n	"github.com/jackc/pgx/v5"\n)\n\nfunc main() {\n	conn, err := pgx.Connect(context.Background(), os.Getenv("DATABASE_URL"))\n	if err != nil {\n		log.Fatalf("Failed to connect to the database: %v", err)\n	}\n	defer conn.Close(context.Background())\n\n	// Example query to test connection\n	var version string\n	if err := conn.QueryRow(context.Background(), "SELECT version()").Scan(&version); err != nil {\n		log.Fatalf("Query failed: %v", err)\n	}\n\n	log.Println("Connected to:", version)\n}'}]},dotnet:{installCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"],postInstallCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"]},python:{installCommands:["pip install python-dotenv psycopg2"],files:[{name:"main.py",content:'import psycopg2\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Connect to the database\ntry:\n    connection = psycopg2.connect(\n        user=USER,\n        password=PASSWORD,\n        host=HOST,\n        port=PORT,\n        dbname=DBNAME\n    )\n    print("Connection successful!")\n    \n    # Create a cursor to execute SQL queries\n    cursor = connection.cursor()\n    \n    # Example query\n    cursor.execute("SELECT NOW();")\n    result = cursor.fetchone()\n    print("Current Time:", result)\n\n    # Close the cursor and connection\n    cursor.close()\n    connection.close()\n    print("Connection closed.")\n\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]},sqlalchemy:{installCommands:["pip install python-dotenv sqlalchemy psycopg2"],files:[{name:"main.py",content:'from sqlalchemy import create_engine\n# from sqlalchemy.pool import NullPool\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Construct the SQLAlchemy connection string\nDATABASE_URL = f"postgresql+psycopg2://{USER}:{PASSWORD}@{HOST}:{PORT}/{DBNAME}?sslmode=require"\n\n# Create the SQLAlchemy engine\nengine = create_engine(DATABASE_URL)\n# If using Transaction Pooler or Session Pooler, we want to ensure we disable SQLAlchemy client side pooling -\n# https://docs.sqlalchemy.org/en/20/core/pooling.html#switching-pool-implementations\n# engine = create_engine(DATABASE_URL, poolclass=NullPool)\n\n# Test the connection\ntry:\n    with engine.connect() as connection:\n        print("Connection successful!")\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]}},ev=e=>{let{number:t,children:a,...s}=e;return(0,n.jsxs)("div",{...s,className:(0,z.cn)("flex items-center gap-2",s.className),"data-sentry-component":"StepLabel","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,n.jsx)("div",{className:"flex font-mono text-xs items-center justify-center w-6 h-6 border border-strong rounded-md bg-surface-100",children:t}),(0,n.jsx)("span",{children:a})]})},eN=()=>{var e,t,a,r,o,i,l,c,d,u,p,m,h,f,g,b,y,V,$,K,Q,J,Z;let{ref:ee}=(0,s.g)(),et=(0,I.a)(),ea=(0,E.RE)(),[en,es]=(0,x.useState)("uri"),er=(0,x.useMemo)(()=>{var e;return(null==et||null==(e=et.plan)?void 0:e.id)==="free"},[et]),{data:eo,error:ei,isLoading:el,isError:ec,isSuccess:ed}=(0,S.N)({projectRef:ee}),{data:eu,error:ep,isLoading:em,isError:ex,isSuccess:eh}=(0,C.A)({projectRef:ee}),{data:ef,error:eN,isLoading:ew,isError:ek,isSuccess:e_}=(0,A.Vh)({projectRef:ee}),eS=!!R.pe&&(er?el:em),eC=R.pe?er?ec:ex:void 0,eA=!R.pe||(er?ed:eh),eP=null==eu?void 0:eu.find(e=>e.identifier===ea.selectedDatabaseId),eL=er?eP:eo,eI=(null!=ef?ef:[]).find(e=>e.identifier===ea.selectedDatabaseId),eR=(null==eI?void 0:eI.identifier)!==ee,{data:eD}=(0,P.Q)({projectRef:ee}),{ipv4:eE}=(0,v.EN)(null!=(r=null==eD?void 0:eD.selected_addons)?r:[]),{mutate:ez}=(0,L.h)(),eT=(0,D.Av)(eI||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),eF=(e,t)=>{var a,n,s;let r=q.find(t=>t.id===e);ez({action:"connection_string_copied",properties:{connectionType:null!=(a=null==r?void 0:r.label)?a:"Unknown",lang:null!=(n=null==r?void 0:r.lang)?n:"Unknown",connectionMethod:t},groups:{project:null!=ee?ee:"Unknown",organization:null!=(s=null==et?void 0:et.slug)?s:"Unknown"}})},eB=(0,ey.H)({connectionInfo:eT,poolingInfo:{connectionString:null!=(o=null==eP?void 0:eP.connection_string)?o:"",db_host:eR?eT.db_host:null!=(i=null==eP?void 0:eP.db_host)?i:"",db_name:null!=(l=null==eP?void 0:eP.db_name)?l:"",db_port:null!=(c=null==eP?void 0:eP.db_port)?c:0,db_user:null!=(d=null==eP?void 0:eP.db_user)?d:""},metadata:{projectRef:ee}}),eM=(0,ey.H)({connectionInfo:eT,poolingInfo:{connectionString:eR?null!=(u=null==eL?void 0:eL.connection_string.replace(null==eL?void 0:eL.db_host,eT.db_host))?u:"":null!=(p=null==eL?void 0:eL.connection_string)?p:"",db_host:eR?eT.db_host:null==eL?void 0:eL.db_host,db_name:null!=(m=null==eL?void 0:eL.db_name)?m:"",db_port:null!=(h=null==eL?void 0:eL.db_port)?h:0,db_user:null!=(f=null==eL?void 0:eL.db_user)?f:""},metadata:{projectRef:ee}}),eO=null!=(g=null==(e=q.find(e=>e.id===en))?void 0:e.lang)?g:"bash",eW=null!=(b=null==(t=q.find(e=>e.id===en))?void 0:t.contentType)?b:"input",eH=ej[en],eU=null==eH?void 0:eH.files,eq=null==eH?void 0:eH.installCommands,eG=null==eH?void 0:eH.postInstallCommands,eV=eU||eq,e$=null==(a=q.find(e=>e.id===en))?void 0:a.fileTitle,eK=0,eQ={text:"Pooler settings",url:"/project/".concat(ee,"/settings/database#connection-pooling")},eY=eE?[{text:"IPv4 settings",url:"/project/".concat(ee,"/settings/addons?panel=ipv4")},...er?[eQ]:[]]:[{text:"IPv4 add-on",url:"/project/".concat(ee,"/settings/addons?panel=ipv4")},...er?[eQ]:[]];return(0,n.jsxs)("div",{className:"flex flex-col","data-sentry-component":"DatabaseConnectionString","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,n.jsxs)("div",{className:(0,z.cn)("flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",T.UP),children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Type"}),(0,n.jsxs)(F.l6,{value:en,onValueChange:e=>es(e),"data-sentry-element":"Select_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,n.jsx)(F.bq,{size:"small",className:"w-auto rounded-l-none","data-sentry-element":"SelectTrigger_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:(0,n.jsx)(F.yv,{"data-sentry-element":"SelectValue_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx"})}),(0,n.jsx)(F.gC,{"data-sentry-element":"SelectContent_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:q.map(e=>(0,n.jsx)(F.eb,{value:e.id,children:e.label},e.id))})]})]}),(0,n.jsx)(w.A,{portal:!1,buttonProps:{size:"small"},"data-sentry-element":"DatabaseSelector","data-sentry-source-file":"DatabaseConnectionString.tsx"})]}),(eS||ew)&&(0,n.jsx)("div",{className:"p-7",children:(0,n.jsx)(_.A,{className:"h-8 w-full"})}),(eC||ek)&&(0,n.jsx)("div",{className:"p-7",children:(0,n.jsx)(N.A,{error:(er?ei:ep)||eN,subject:"Failed to retrieve database settings"})}),eA&&e_&&(0,n.jsxs)("div",{className:"flex flex-col divide-y divide-border",children:[eV&&(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-x-20 w-full px-4 md:px-7 py-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(ev,{number:++eK,className:"mb-4",children:"Install the following"}),null==eq?void 0:eq.map((e,t)=>(0,n.jsx)(B.N,{className:"[&_code]:text-[12px] [&_code]:text-foreground",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]}),eU&&(null==eU?void 0:eU.length)>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)(ev,{number:++eK,className:"mb-4",children:"Add file to project"}),null==eU?void 0:eU.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(eg,{title:e.name}),(0,n.jsx)(B.N,{wrapperClassName:"[&_pre]:max-h-40 [&_pre]:px-4 [&_pre]:py-3 [&_pre]:rounded-t-none",value:e.content,hideLineNumbers:!0,language:eO,className:"[&_code]:text-[12px] [&_code]:text-foreground"})]},t))]})]}),(0,n.jsxs)("div",{children:[eV&&(0,n.jsx)("div",{className:"px-4 md:px-7 pt-8",children:(0,n.jsx)(ev,{number:++eK,children:"Choose type of connection"})}),(0,n.jsxs)("div",{className:"divide-y divide-border-muted [&>div]:px-4 [&>div]:md:px-7 [&>div]:py-8",children:[(0,n.jsx)(eb,{type:"direct",title:"Direct connection",contentType:eW,lang:eO,fileTitle:e$,description:"Ideal for applications with persistent, long-lived connections, such as those running on virtual machines or long-standing containers.",connectionString:eM.direct[en],ipv4Status:{type:eE?"success":"error",title:eE?"IPv4 compatible":"Not IPv4 compatible",description:er||eE?er?"Use Session Pooler if on a IPv4 network or purchase IPv4 add-on":X:Y,links:eY},parameters:[{...G.host,value:eT.db_host},{...G.port,value:eT.db_port},{...G.database,value:eT.db_name},{...G.user,value:eT.db_user}],onCopyCallback:()=>eF(en,"direct")}),R.pe&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eb,{type:"transaction",title:"Transaction pooler",contentType:eW,lang:eO,badge:er?"Shared Pooler":"Dedicated Pooler",fileTitle:e$,description:"Ideal for stateless applications like serverless functions where each interaction with Postgres is brief and isolated.",connectionString:eM.pooler[en],ipv4Status:{type:er||eE?"success":"error",title:er||eE?"IPv4 compatible":"Not IPv4 compatible",description:er||eE?er?"Transaction pooler connections are IPv4 proxied for free.":X:Y,links:er?void 0:eY},notice:["Does not support PREPARE statements"],parameters:[{...G.host,value:null!=(y=null==eL?void 0:eL.db_host)?y:""},{...G.port,value:null!=(V=null==eL?void 0:eL.db_port.toString())?V:"6543"},{...G.database,value:null!=($=null==eL?void 0:eL.db_name)?$:""},{...G.user,value:null!=(K=null==eL?void 0:eL.db_user)?K:""},{...G.pool_mode,value:"transaction"}],onCopyCallback:()=>eF(en,"transaction_pooler"),children:!er&&!eE&&(0,n.jsxs)(M.Nt,{className:"group",children:[(0,n.jsx)(M.R6,{asChild:!0,className:"w-full justify-start !last:rounded-b group-data-[state=open]:rounded-b-none border-light mt-4 px-3",children:(0,n.jsx)(O.$,{type:"default",size:"large",iconRight:(0,n.jsx)(j.A,{className:"transition group-data-[state=open]:rotate-180"}),className:"text-foreground !bg-dash-sidebar justify-between",children:(0,n.jsxs)("div",{className:"text-xs flex items-center p-2",children:[(0,n.jsx)("span",{children:"Using the Shared Pooler"}),(0,n.jsx)(W.E,{variant:"brand",size:"small",className:"ml-2",children:"IPv4 compatible"})]})})}),(0,n.jsxs)(M.Ke,{className:"bg-dash-sidebar rounded-b border text-xs",children:[(0,n.jsx)("p",{className:"px-3 py-2",children:"Only recommended when your network does not support IPv6. Added latency compared to dedicated pooler."}),(0,n.jsx)(B.N,{wrapperClassName:(0,z.cn)("[&_pre]:border-x-0 [&_pre]:border-b-0 [&_pre]:px-4 [&_pre]:py-3","[&_pre]:rounded-t-none"),language:eO,value:eB.pooler[en],className:"[&_code]:text-[12px] [&_code]:text-foreground",hideLineNumbers:!0,onCopyCallback:()=>eF(en,"transaction_pooler")})]})]})}),er&&eE&&(0,n.jsx)(U.Z,{type:"warning",title:"Highly recommended to not use Session Pooler",className:"[&>div]:gap-0 px-8 [&>svg]:left-7 border-0 border-b rounded-none border-border-muted !py-4 mb-0",children:(0,n.jsx)("p",{className:"text-sm text-foreground-lighter !mb-0",children:"If you are using Session Pooler, we recommend switching to Direct Connection."})}),(0,n.jsx)(eb,{type:"session",title:"Session pooler",contentType:eW,lang:eO,badge:"Shared Pooler",fileTitle:e$,description:"Only recommended as an alternative to Direct Connection, when connecting via an IPv4 network.",connectionString:eB.pooler[en].replace("6543","5432"),ipv4Status:{type:"success",title:"IPv4 compatible",description:"Session pooler connections are IPv4 proxied for free",links:void 0},parameters:[{...G.host,value:null!=(Q=null==eP?void 0:eP.db_host)?Q:""},{...G.port,value:"5432"},{...G.database,value:null!=(J=null==eP?void 0:eP.db_name)?J:""},{...G.user,value:null!=(Z=null==eP?void 0:eP.db_user)?Z:""},{...G.pool_mode,value:"session"}],onCopyCallback:()=>eF(en,"session_pooler")})]})]})]}),eG&&(0,n.jsx)("div",{className:"grid grid-cols-2 gap-20 w-full px-4 md:px-7 py-10",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(ev,{number:++eK,className:"mb-4",children:"Add the configuration package to read the settings"}),null==eG?void 0:eG.map((e,t)=>(0,n.jsx)(B.N,{className:"text-sm",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]})})]}),"python"===en&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.w,{}),(0,n.jsxs)(M.Nt,{className:"px-8 py-5",children:[(0,n.jsx)(M.R6,{className:"group [&[data-state=open]>div>svg]:!-rotate-180",children:(0,n.jsxs)("div",{className:"flex items-center gap-x-2 w-full",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"Connecting to SQL Alchemy"}),(0,n.jsx)(j.A,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,n.jsx)(M.Ke,{className:"my-2",children:(0,n.jsxs)("div",{className:"text-foreground-light text-xs grid gap-2",children:[(0,n.jsxs)("p",{children:["Please use ",(0,n.jsx)("code",{children:"postgresql://"})," instead of ",(0,n.jsx)("code",{children:"postgres://"})," as your dialect when connecting via SQLAlchemy."]}),(0,n.jsxs)("p",{children:["Example:",(0,n.jsx)("code",{children:'create_engine("postgresql+psycopg2://...")'})]}),(0,n.jsx)("p",{className:"text-sm font-mono tracking-tight text-foreground-lighter"})]})})]})]}),(0,n.jsx)(H.w,{"data-sentry-element":"Separator","data-sentry-source-file":"DatabaseConnectionString.tsx"}),(0,n.jsxs)("div",{className:"px-8 pt-5 flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-sm",children:"Reset your database password"}),(0,n.jsxs)("p",{className:"text-sm text-foreground-lighter",children:["You may reset your database password in your project's"," ",(0,n.jsx)(k.g,{href:"/project/".concat(ee,"/settings/database"),className:"text-foreground-lighter hover:text-foreground","data-sentry-element":"InlineLink","data-sentry-source-file":"DatabaseConnectionString.tsx",children:"Database Settings"})]})]})]})};var ew=a(88602),ek=a(43969),e_=a(76291),eS=a(67575),eC=a(75019),eA=a(5483),eP=a(80586);let eL=e=>{let{connectionObject:t,selectedParent:a,selectedChild:n,selectedGrandchild:s}=e,r=t.find(e=>e.key===a);if(r){let e=r.children.find(e=>e.key===n);return e?e.children.find(e=>e.key===s)?"".concat(a,"/").concat(n,"/").concat(s):"".concat(a,"/").concat(n):a}return""};var eI=a(52542),eR=a(9681),eD=a(61965),eE=a(796),ez=a(16426),eT=a.n(ez);let eF=e=>{let{connection:t}=e,{resolvedTheme:a}=(0,eE.D)(),s=["ionic-angular"].includes(t)?"icons/frameworks":"libraries";return(0,n.jsx)(eT(),{className:"transition-all group-hover:scale-110",src:"".concat(R.o2,"/img/").concat(s,"/").concat(t.toLowerCase()).concat(["expo","nextjs","prisma","drizzle","astro","remix"].includes(t.toLowerCase())&&(null==a?void 0:a.includes("dark"))?"-dark":"").concat("icons/frameworks"===s?"":"-icon",".svg"),alt:"".concat(t," logo"),width:14,height:14,"data-sentry-element":"Image","data-sentry-component":"ConnectionIcon","data-sentry-source-file":"ConnectionIcon.tsx"})},eB=e=>{let{state:t,updateState:a,label:s,items:r}=e,[o,i]=(0,x.useState)(!1),l=r.find(e=>e.key===t);return(0,n.jsxs)(eR.AM,{open:o,onOpenChange:i,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ConnectDropdown","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,n.jsxs)("div",{className:"flex ",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:s}),(0,n.jsx)(eR.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,n.jsx)(O.$,{size:"small",type:"default",className:"gap-0 rounded-l-none",iconRight:(0,n.jsx)(j.A,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(null==l?void 0:l.icon)?(0,n.jsx)(eF,{connection:l.icon}):(0,n.jsx)(eI.A,{size:12}),null==l?void 0:l.label]})})})]}),(0,n.jsx)(eR.hl,{className:"p-0 max-w-48",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,n.jsxs)(eD.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,n.jsx)(eD.G7,{placeholder:"Search...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx"}),(0,n.jsxs)(eD.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,n.jsx)(eD.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:"No results found."}),(0,n.jsx)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:r.map(e=>(0,n.jsxs)(eD.h_,{value:e.key,onSelect:()=>{a(e.key),i(!1),i(!1)},className:"flex gap-2 items-center",children:[e.icon?(0,n.jsx)(eF,{connection:e.icon}):(0,n.jsx)(eI.A,{size:12}),e.label,(0,n.jsx)(ea.A,{size:15,className:(0,z.cn)("ml-auto  ",e.key===t?"opacity-100":"opacity-0")})]},e.key))})]})]})})]})};var eM=a(49434),eO=a.n(eM);let eW=(0,x.forwardRef)((e,t)=>{var r,o,i,l,c,d;let{projectKeys:u,filePath:p,...m}=e,{ref:h}=(0,s.g)(),f=(0,I.a)(),g=(0,x.useMemo)(()=>(null==f?void 0:f.plan.id)!=="free",[f]),{data:b}=(0,eS.G)({projectRef:h}),{data:y}=(0,S.N)({projectRef:h}),{data:j}=(0,C.A)({projectRef:h}),{data:N}=(0,P.Q)({projectRef:h}),{ipv4:w}=(0,v.EN)(null!=(r=null==N?void 0:N.selected_addons)?r:[]),k=(0,D.Av)(b||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),A=null==j?void 0:j.find(e=>"PRIMARY"===e.database_type),L=g?y:void 0,R=(0,ey.H)({connectionInfo:k,poolingInfo:{connectionString:null!=(o=null==A?void 0:A.connection_string)?o:"",db_host:null!=(i=null==A?void 0:A.db_host)?i:"",db_name:null!=(l=null==A?void 0:A.db_name)?l:"",db_port:null!=(c=null==A?void 0:A.db_port)?c:0,db_user:null!=(d=null==A?void 0:A.db_user)?d:""},metadata:{projectRef:h}}),E=void 0!==L?(0,ey.H)({connectionInfo:k,poolingInfo:{connectionString:L.connection_string,db_host:L.db_host,db_name:L.db_name,db_port:L.db_port,db_user:L.db_user},metadata:{projectRef:h}}):void 0,T=(0,x.useMemo)(()=>eO()(()=>a(74988)("./".concat(p,"/content")),{loading:()=>(0,n.jsx)("div",{className:"p-4 min-h-[331px]",children:(0,n.jsx)(_.y,{})})}),[p]);return(0,n.jsx)("div",{ref:t,...m,className:(0,z.cn)("border rounded-lg",m.className),children:(0,n.jsx)(T,{projectKeys:u,filePath:p,connectionStringPooler:{transactionShared:R.pooler.uri,sessionShared:R.pooler.uri.replace("6543","5432"),transactionDedicated:null==E?void 0:E.pooler.uri,sessionDedicated:null==E?void 0:E.pooler.uri.replace("6543","5432"),ipv4SupportedForDedicatedPooler:!!w,direct:R.direct.uri}})})});eW.displayName="ConnectTabContent";let eH=()=>{var e,t,a,r,o,i,l,c;let{ref:d}=(0,s.g)(),u=(0,eA.KT)(),p=(null==u?void 0:u.status)===R.BU.ACTIVE_HEALTHY,[m,h]=(0,y.ZA)("showConnect",y.cr.withDefault(!1)),[j,v]=(0,x.useState)(V),[N,w]=(0,x.useState)(j[0].key),[k,_]=(0,x.useState)(null!=(c=null==(t=j.find(e=>e.key===N))||null==(e=t.children[0])?void 0:e.key)?c:""),[S,C]=(0,x.useState)((null==(o=j.find(e=>e.key===N))||null==(r=o.children.find(e=>e.key===k))||null==(a=r.children[0])?void 0:a.key)||""),{data:A}=(0,eS.G)({projectRef:d},{enabled:m}),P=(0,eC.SE)(f.aG.READ,"service_api_keys"),L=e=>{var t,a,n,s,r,o,i;w(e),_(null!=(o=null==(a=j.find(t=>t.key===e))||null==(t=a.children[0])?void 0:t.key)?o:""),C(null!=(i=null==(r=j.find(t=>t.key===e))||null==(s=r.children[0])||null==(n=s.children[0])?void 0:n.key)?i:"")},I=e=>{_(e);let t=j.find(e=>e.key===N),a=null==t?void 0:t.children.find(t=>t.key===e);a&&a.children.length>0?C(a.children[0].key):C("")},D=e=>{C(e)};function E(e){var t,a;w(e[0].key),(null==(t=e[0])?void 0:t.children.length)>0?(_(e[0].children[0].key),(null==(a=e[0].children[0])?void 0:a.children.length)>0?C(e[0].children[0].children[0].key):C("")):(_(""),C(""))}let F=()=>{let e=j.find(e=>e.key===N);return e&&e.children.length>0?e.children:[]},B=()=>{let e=j.find(e=>e.key===N),t=null==e?void 0:e.children.find(e=>e.key===k);return t&&t.children.length>0?t.children:[]},{data:M}=(0,e_.I)({projectRef:d}),{anonKey:W,publishableKey:H}=P?(0,e_.x)(M):{anonKey:null,publishableKey:null},U=(0,x.useMemo)(()=>{var e,t,a,n,s,r;let o=null!=(a=null==A||null==(e=A.app_config)?void 0:e.protocol)?a:"https",i=null!=(n=null==A||null==(t=A.app_config)?void 0:t.endpoint)?n:"",l=P?"".concat(o,"://").concat(null!=i?i:"-"):"";return{apiUrl:null!=l?l:null,anonKey:null!=(s=null==W?void 0:W.api_key)?s:null,publishableKey:null!=(r=null==H?void 0:H.api_key)?r:null}},[null==A||null==(i=A.app_config)?void 0:i.protocol,null==A||null==(l=A.app_config)?void 0:l.endpoint,P,null==W?void 0:W.api_key,null==H?void 0:H.api_key]),q=eL({connectionObject:j,selectedParent:N,selectedChild:k,selectedGrandchild:S});return p?(0,n.jsxs)(T.lG,{open:m,onOpenChange:e=>h(e||null),"data-sentry-element":"Dialog","data-sentry-component":"Connect","data-sentry-source-file":"Connect.tsx",children:[(0,n.jsx)(T.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"Connect.tsx",children:(0,n.jsx)(O.$,{type:"default",className:"rounded-full",icon:(0,n.jsx)(g.A,{className:"rotate-90"}),"data-sentry-element":"Button","data-sentry-source-file":"Connect.tsx",children:(0,n.jsx)("span",{children:"Connect"})})}),(0,n.jsxs)(T.Cf,{className:(0,z.cn)("sm:max-w-5xl p-0"),centered:!1,"data-sentry-element":"DialogContent","data-sentry-source-file":"Connect.tsx",children:[(0,n.jsxs)(T.c7,{className:T.UP,"data-sentry-element":"DialogHeader","data-sentry-source-file":"Connect.tsx",children:[(0,n.jsx)(T.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"Connect.tsx",children:"Connect to your project"}),(0,n.jsx)(T.rr,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"Connect.tsx",children:"Get the connection strings and environment variables for your app"})]}),(0,n.jsxs)(eP.tU,{defaultValue:"direct",onValueChange:e=>(function(e){"frameworks"===e&&(v(V),E(V)),"mobiles"===e&&(v($),E($)),"orms"===e&&(v(K),E(K))})(e),"data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"Connect.tsx",children:[(0,n.jsx)(eP.j7,{className:(0,z.cn)("flex overflow-x-scroll gap-x-4",T.UP),"data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"Connect.tsx",children:Q.map(e=>(0,n.jsx)(eP.Xi,{value:e.key,className:"px-0",children:e.label},e.key))}),Q.map(e=>{var t,a,s,r,o,i;let l=((null==(t=j.find(e=>e.key===N))?void 0:t.children.length)||0)>0,c=((null==(s=j.find(e=>e.key===N))||null==(a=s.children.find(e=>e.key===k))?void 0:a.children.length)||0)>0;return"direct"===e.key?(0,n.jsx)(eP.av,{value:"direct",className:(0,z.cn)("!mt-0","p-0","flex flex-col gap-6"),children:(0,n.jsx)("div",{className:T.bQ,children:(0,n.jsx)(eN,{})})},"direct"):(0,n.jsxs)(eP.av,{value:e.key,className:(0,z.cn)(T.UP,T.bQ,"!mt-0"),children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[(0,n.jsx)(eB,{state:N,updateState:L,label:j===V||j===$?"Framework":"Tool",items:j}),N&&l&&(0,n.jsx)(eB,{state:k,updateState:I,label:"Using",items:F()}),k&&c&&(0,n.jsx)(eB,{state:S,updateState:D,label:"With",items:B()})]}),(null==(r=j.find(e=>e.key===N))?void 0:r.guideLink)&&(0,n.jsx)(O.$,{asChild:!0,type:"default",icon:(0,n.jsx)(b.A,{strokeWidth:1.5}),children:(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(null==(o=j.find(e=>e.key===N))?void 0:o.guideLink)||"",children:[null==(i=j.find(e=>e.key===N))?void 0:i.label," guide"]})})]}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter my-3",children:"Add the following files below to your application"}),(0,n.jsx)(eW,{projectKeys:U,filePath:q,className:"rounded-b-none"}),(0,n.jsx)(ek.A.Notice,{className:"border border-t-0 rounded-lg rounded-t-none",title:"New API keys coming 2025",description:"\n`anon` and `service_role` API keys will be changing to `publishable` and `secret` API keys.   \n",href:"https://github.com/orgs/supabase/discussions/29260",buttonText:"Read the announcement"})]},"content-".concat(e.key))})]})]})]}):(0,n.jsx)(ew.G,{disabled:!0,type:"default",className:"rounded-full",icon:(0,n.jsx)(g.A,{className:"rotate-90"}),tooltip:{content:{side:"bottom",text:"Project is currently not active and cannot be connected"}},children:"Connect"})};var eU=a(91351),eq=a(67776),eG=a(6218),eV=a(71139),e$=a(9357),eK=a(92707);let eQ=()=>{let{theme:e,setTheme:t}=(0,eE.D)(),a=(0,eK.sU)(),{openFeaturePreviewModal:s}=(0,h.j_)();return(0,n.jsxs)(eV.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"LocalDropdown","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(eV.ty,{className:"border flex-shrink-0 px-3",asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"LocalDropdown.tsx",children:(0,n.jsx)(O.$,{type:"default",className:"[&>span]:flex px-0 py-0 rounded-full overflow-hidden h-8 w-8","data-sentry-element":"Button","data-sentry-source-file":"LocalDropdown.tsx",children:(0,n.jsx)(eU.p,{className:"w-8 h-8 rounded-md","data-sentry-element":"ProfileImage","data-sentry-source-file":"LocalDropdown.tsx"})})}),(0,n.jsxs)(eV.SQ,{side:"bottom",align:"end",className:"w-44","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsxs)(eV._2,{className:"flex gap-2",onClick:s,onSelect:s,"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(eq.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"FlaskConical","data-sentry-source-file":"LocalDropdown.tsx"}),"Feature previews"]}),(0,n.jsxs)(eV._2,{className:"flex gap-2",onClick:()=>a(!0),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(eG.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"Command","data-sentry-source-file":"LocalDropdown.tsx"}),"Command menu"]}),(0,n.jsx)(eV.mB,{"data-sentry-element":"DropdownMenuSeparator","data-sentry-source-file":"LocalDropdown.tsx"}),(0,n.jsxs)(eV.I,{"data-sentry-element":"DropdownMenuGroup","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,n.jsx)(eV.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"LocalDropdown.tsx",children:"Theme"}),(0,n.jsx)(eV.Hr,{value:e,onValueChange:e=>{t(e)},"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"LocalDropdown.tsx",children:e$.h.map(e=>(0,n.jsx)(eV.Ht,{value:e.value,children:e.name},e.value))})]})]})]})};var eY=a(42813),eX=a(11810),eJ=a(37411),eZ=a(52786);let e0=()=>"undefined"!=typeof navigator&&(!!(navigator.userAgent&&navigator.userAgent.includes("Mac"))||!!navigator.platform&&(navigator.platform.startsWith("Mac")||"iPhone"===navigator.platform)),e1=e=>{let{keys:t}=e,a=e0(),s=t.map(e=>"Meta"===e?a?"":"Ctrl":e).map(e=>"Shift"===e?"":e);return(0,n.jsx)("div",{className:"text-xs text-foreground-light flex items-center gap-[3px]","data-sentry-component":"KeyboardShortcut","data-sentry-source-file":"KeyboardShortcut.tsx",children:s.map(e=>(0,n.jsx)("span",{className:"px-1.5 py-0.5 rounded-sm border-b-2 flex items-center justify-center border border-foreground-lightest cursor-default",children:e},e))})},e2=()=>{let e=(0,eX.xd)(),{setEditorPanel:t}=(0,eJ.qM)();return(0,n.jsx)(ew.G,{type:"text",size:"tiny",id:"assistant-trigger",className:"rounded-none w-[32px] h-[30px] flex items-center justify-center p-0 hover:bg-brand-400",onClick:()=>{e.toggleAssistant(),t({open:!1})},tooltip:{content:{text:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("span",{children:"AI Assistant"}),(0,n.jsx)(e1,{keys:["Meta","i"]})]})}},"data-sentry-element":"ButtonTooltip","data-sentry-component":"AssistantButton","data-sentry-source-file":"AssistantButton.tsx",children:(0,n.jsx)(eZ.M,{allowHoverEffect:!1,size:16,"data-sentry-element":"AiIconAnimation","data-sentry-source-file":"AssistantButton.tsx"})})};var e5=a(86084),e4=a(87610),e3=a(96572),e6=a(3689),e8=a(35752),e7=a(54499),e9=a(24217),te=a(80016),tt=a(13929),ta=a(97600);let tn=(e,t)=>{if(!(Object.entries(t).length>1))return e;{let a="bucketId"in t,n="preset"in t;return e.split("/").slice(0,a||n?5:4).join("/")}},ts=e=>{var t;let{project:a,setOpen:r}=e,o=(0,l.useRouter)(),{ref:i}=(0,s.g)(),c=tn(o.route,o.query),d=null!=(t=null==c?void 0:c.replace("[ref]",a.ref))?t:"/project/".concat(a.ref);return(0,n.jsx)(eD.h_,{value:"".concat(a.name.replaceAll('"',""),"-").concat(a.ref),className:"cursor-pointer w-full",onSelect:()=>{o.push(d),r(!1)},onClick:()=>r(!1),"data-sentry-element":"CommandItem_Shadcn_","data-sentry-component":"ProjectLink","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,n.jsxs)(m(),{href:d,className:"w-full flex items-center justify-between","data-sentry-element":"Link","data-sentry-source-file":"ProjectDropdown.tsx",children:[a.name,a.ref===i&&(0,n.jsx)(ea.A,{size:16})]})},a.ref)},tr=()=>{let e=(0,l.useRouter)(),{ref:t}=(0,s.g)(),a=(0,eA.KT)(),r=(0,I.a)(),o=(0,eA.KT)(),{data:i,isLoading:c}=(0,tt.el)(),d=(0,ta.x)("projects:create"),u=(null==a?void 0:a.parentRef)!==(null==a?void 0:a.ref),p=null==i?void 0:i.filter(e=>e.organization_id===(null==r?void 0:r.id)).sort((e,t)=>e.name.localeCompare(t.name)),h=u?null==p?void 0:p.find(e=>e.ref===(null==a?void 0:a.parentRef)):null==p?void 0:p.find(e=>e.ref===t),[f,g]=(0,x.useState)(!1);return c||!h?(0,n.jsx)(_.A,{className:"w-[90px]"}):R.pe?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m(),{href:"/project/".concat(null==o?void 0:o.ref),className:"flex items-center gap-2 flex-shrink-0 text-sm","data-sentry-element":"Link","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,n.jsx)(eI.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"Box","data-sentry-source-file":"ProjectDropdown.tsx"}),(0,n.jsx)("span",{className:"text-foreground max-w-32 lg:max-w-none truncate",children:null==h?void 0:h.name})]}),(0,n.jsxs)(eR.AM,{open:f,onOpenChange:g,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,n.jsx)(eR.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,n.jsx)(O.$,{type:"text",size:"tiny",className:(0,z.cn)("px-1.5 py-4 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,n.jsx)(e3.A,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"ProjectDropdown.tsx"})}),(0,n.jsx)(eR.hl,{className:"p-0",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,n.jsxs)(eD.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,n.jsx)(eD.G7,{placeholder:"Find project...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx"}),(0,n.jsxs)(eD.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,n.jsx)(eD.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:"No projects found"}),(0,n.jsx)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,n.jsx)(te.FK,{className:(p||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"ProjectDropdown.tsx",children:null==p?void 0:p.map(e=>(0,n.jsx)(ts,{project:e,setOpen:g},e.ref))})}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eD.fx,{}),(0,n.jsx)(eD.L$,{children:(0,n.jsx)(eD.h_,{className:"cursor-pointer w-full",onSelect:()=>{g(!1),e.push("/new/".concat(null==r?void 0:r.slug))},onClick:()=>g(!1),children:(0,n.jsxs)(m(),{href:"/new/".concat(null==r?void 0:r.slug),onClick:()=>{g(!1)},className:"w-full flex items-center gap-2",children:[(0,n.jsx)(e6.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"New project"})]})})})]})]})]})})]})]}):(0,n.jsx)(O.$,{type:"text","data-sentry-element":"Button","data-sentry-component":"ProjectDropdown","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,n.jsx)("span",{className:"text-sm",children:null==h?void 0:h.name})})},to=e=>{var t;let{branch:a,isSelected:s,setOpen:r}=e,o=(0,l.useRouter)(),i=tn(o.route,o.query),c=null!=(t=null==i?void 0:i.replace("[ref]",a.project_ref))?t:"/project/".concat(a.project_ref);return(0,n.jsx)(m(),{passHref:!0,href:c,"data-sentry-element":"Link","data-sentry-component":"BranchLink","data-sentry-source-file":"BranchDropdown.tsx",children:(0,n.jsxs)(eD.h_,{value:a.name.replaceAll('"',""),className:"cursor-pointer w-full flex items-center justify-between",onSelect:()=>{r(!1),o.push(c)},onClick:()=>{r(!1)},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"BranchDropdown.tsx",children:[(0,n.jsxs)("p",{className:"truncate w-60 flex items-center gap-1",title:a.name,children:[a.is_default&&(0,n.jsx)(e5.A,{size:14,className:"text-amber-900"}),a.name]}),s&&(0,n.jsx)(ea.A,{size:14,strokeWidth:1.5})]})})},ti=()=>{var e;let t=(0,l.useRouter)(),{ref:a}=(0,s.g)(),r=(0,eJ.qM)(),o=(0,eA.KT)(),[i,c]=(0,x.useState)(!1),d=(null==o?void 0:o.parent_project_ref)||a,{data:u,isLoading:p,isError:h,isSuccess:f}=(0,e9.A)({projectRef:d},{enabled:!!o}),g=(null==o?void 0:o.is_branch_enabled)===!0,b=null==u?void 0:u.find(e=>e.project_ref===a),y={id:"main",name:"main",project_ref:null!=(e=null!=d?d:a)?e:"",is_default:!0},j=null==u?void 0:u.find(e=>e.is_default),v=null==u?void 0:u.filter(e=>!e.is_default).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),N=u&&u.length>0?j?[j].concat(null!=v?v:[]):null!=v?v:[]:[y],w=g?null!=N?N:[]:[y],k="https://github.com/orgs/supabase/discussions/18937";return(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)(_.A,{className:"w-[90px]"}),h&&(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-amber-900",children:[(0,n.jsx)(e4.A,{size:16,strokeWidth:2}),(0,n.jsx)("p",{className:"text-sm",children:"Failed to load branches"})]}),f&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m(),{href:"/project/".concat(a),className:"flex items-center gap-2 flex-shrink-0 text-sm",children:[(0,n.jsx)("span",{className:"text-foreground max-w-32 lg:max-w-none truncate",children:g?null==b?void 0:b.name:"main"}),g?(null==b?void 0:b.is_default)?(0,n.jsx)(W.E,{variant:"warning",children:"Production"}):(null==b?void 0:b.persistent)?(0,n.jsx)(W.E,{variant:"brand",children:"Persistent"}):(0,n.jsx)(W.E,{variant:"brand",children:"Preview"}):(0,n.jsx)(W.E,{variant:"warning",children:"Production"})]}),(0,n.jsxs)(eR.AM,{open:i,onOpenChange:c,modal:!1,children:[(0,n.jsx)(eR.Wv,{asChild:!0,children:(0,n.jsx)(O.$,{type:"text",size:"tiny",className:(0,z.cn)("px-1.5 py-4 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,n.jsx)(e3.A,{strokeWidth:1.5})})}),(0,n.jsx)(eR.hl,{className:"p-0",side:"bottom",align:"start",children:(0,n.jsxs)(eD.uB,{children:[g&&(0,n.jsx)(eD.G7,{placeholder:"Find branch..."}),(0,n.jsxs)(eD.oI,{children:[g&&(0,n.jsx)(eD.xL,{children:"No branches found"}),(0,n.jsx)(eD.L$,{children:(0,n.jsx)(te.FK,{className:"max-h-[210px] overflow-y-auto",children:w.map(e=>(0,n.jsx)(to,{branch:e,isSelected:e.id===(null==b?void 0:b.id)||(null==u?void 0:u.length)===0,setOpen:c},e.id))})}),(0,n.jsx)(eD.fx,{}),(0,n.jsxs)(eD.L$,{children:[(0,n.jsx)(eD.h_,{className:"cursor-pointer w-full",onSelect:()=>{c(!1),r.setShowCreateBranchModal(!0)},onClick:()=>{c(!1),r.setShowCreateBranchModal(!0)},children:(0,n.jsxs)("div",{className:"w-full flex items-center gap-2",children:[(0,n.jsx)(e6.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Create branch"})]})}),(0,n.jsx)(eD.h_,{className:"cursor-pointer w-full",onSelect:()=>{c(!1),t.push("/project/".concat(a,"/branches"))},onClick:()=>c(!1),children:(0,n.jsxs)(m(),{href:"/project/".concat(a,"/branches"),className:"w-full flex items-center gap-2",children:[(0,n.jsx)(e8.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Manage branches"})]})})]}),(0,n.jsx)(eD.fx,{}),(0,n.jsx)(eD.L$,{children:(0,n.jsx)(eD.h_,{className:"cursor-pointer w-full",onSelect:()=>{var e,t;c(!1),null==(t=window)||null==(e=t.open(k,"_blank"))||e.focus()},onClick:()=>c(!1),children:(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer noopener",href:k,onClick:()=>c(!1),className:"w-full flex gap-2",children:[(0,n.jsx)(e7.A,{size:14,strokeWidth:1,className:"text-muted mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Branching feedback"}),(0,n.jsx)("p",{className:"text-lighter",children:"Join Github Discussion"})]})]})})})]})]})})]})]})]})},tl=()=>{let{closeAssistant:e}=(0,eX.xd)(),{setEditorPanel:t,editorPanel:a}=(0,eJ.qM)();return(0,n.jsx)(ew.G,{type:"text",size:"tiny",id:"editor-trigger",className:"rounded-none w-[32px] h-[30px] flex items-center justify-center p-0 text-foreground-light hover:text-foreground",onClick:()=>{e(),t({open:!a.open})},tooltip:{content:{text:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("span",{children:"SQL Editor"}),(0,n.jsx)(e1,{keys:["Meta","e"]})]})}},"data-sentry-element":"ButtonTooltip","data-sentry-component":"InlineEditorButton","data-sentry-source-file":"InlineEditorButton.tsx",children:(0,n.jsx)(eo.mx,{size:18,strokeWidth:1.5,"data-sentry-element":"SqlEditor","data-sentry-source-file":"InlineEditorButton.tsx"})})};var tc=a(53346),td=a(64082),tu=a(84831);let tp=()=>{let e=(0,l.useRouter)(),{slug:t}=(0,s.g)(),a=(0,I.a)(),{data:r,isLoading:o}=(0,tu.Ad)(),i=(0,ta.x)("organizations:create"),c=null==a?void 0:a.slug,d=null==a?void 0:a.name,[u,p]=(0,x.useState)(!1);return o?(0,n.jsx)(_.A,{className:"w-[90px]"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m(),{href:c?"/org/".concat(c):"/organizations",className:"flex items-center gap-2 flex-shrink-0 text-sm","data-sentry-element":"Link","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(tc.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"Boxes","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,n.jsx)("span",{className:(0,z.cn)("max-w-32 lg:max-w-none truncate hidden md:block",a?"text-foreground":"text-foreground-lighter"),children:null!=d?d:"Select an organization"}),!!a&&(0,n.jsx)(W.E,{variant:"default",children:null==a?void 0:a.plan.name})]}),(0,n.jsxs)(eR.AM,{open:u,onOpenChange:p,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(eR.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(O.$,{type:"text",className:(0,z.cn)("px-1.5 py-4 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,n.jsx)(e3.A,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"OrganizationDropdown.tsx"})}),(0,n.jsx)(eR.hl,{className:"p-0",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsxs)(eD.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(eD.G7,{placeholder:"Find organization...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,n.jsxs)(eD.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,n.jsx)(eD.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:"No organizations found"}),(0,n.jsx)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(te.FK,{className:(r||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"OrganizationDropdown.tsx",children:null==r?void 0:r.map(a=>{let s=t?e.pathname.replace("[slug]",a.slug):"/org/".concat(a.slug);return(0,n.jsx)(eD.h_,{value:"".concat(a.name.replaceAll('"',"")," - ").concat(a.slug),className:"cursor-pointer w-full",onSelect:()=>{p(!1),e.push(s)},onClick:()=>p(!1),children:(0,n.jsxs)(m(),{href:s,className:"w-full flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:a.name}),(0,n.jsx)(td.A,{organization:a})]}),a.slug===c&&(0,n.jsx)(ea.A,{size:16})]})},a.slug)})})}),(0,n.jsx)(eD.fx,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,n.jsx)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(eD.h_,{className:"cursor-pointer w-full",onSelect:t=>{p(!1),e.push("/organizations")},onClick:()=>p(!1),"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)(m(),{href:"/organizations",className:"flex items-center gap-2 w-full","data-sentry-element":"Link","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,n.jsx)("p",{children:"All Organizations"})})})}),i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eD.fx,{}),(0,n.jsx)(eD.L$,{children:(0,n.jsx)(eD.h_,{className:"cursor-pointer w-full",onSelect:t=>{p(!1),e.push("/new")},onClick:()=>p(!1),children:(0,n.jsxs)(m(),{href:"/new",className:"flex items-center gap-2 w-full",children:[(0,n.jsx)(e6.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"New organization"})]})})})]})]})]})})]})]})},tm=e=>e.length?e.filter(e=>{if(!e.capped||!e.available_in_plan||e.unlimited||"DISK_IOPS_GP3"===e.metric)return!1;let t=e.pricing_free_units||0;return e.usage>t}).map(e=>e.metric):[];var tx=a(46964);let th=e=>{let{defaultValue:t}=e;return(0,n.jsx)(n.Fragment,{children:(null==t?void 0:t.length)?t.map((e,t)=>(0,n.jsxs)(x.Fragment,{children:[t>0&&(0,n.jsx)("span",{className:"text-border-stronger dark:text-border-strong",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,n.jsx)("a",{onClick:e.onClick||(()=>{}),className:"text-gray-1100 block px-2 py-1 text-xs leading-5 focus:bg-gray-100 focus:text-gray-900 focus:outline-none ".concat(e.onClick?"cursor-pointer hover:text-white":""),children:e.label})]},e.key)):null})};var tf=a(88745),tg=a(63159),tb=a(89772),ty=a(66623),tj=a(40260),tv=a(8854),tN=a(14280),tw=a.n(tN),tk=a(16110);let t_=x.forwardRef((e,t)=>{let{className:a,children:s,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,z.cn)("flex flex-col items-stretch border border-control rounded-md overflow-hidden",a),...r,children:s})});t_.displayName="ButtonGroup";let tS=x.forwardRef((e,t)=>{let{className:a,children:s,icon:r,asChild:o,...i}=e;return(0,n.jsx)(O.$,{ref:t,type:"text",icon:r,asChild:o,className:(0,z.cn)("h-auto py-2 rounded-none justify-start border-0 border-b border-border last:border-b-0",a),...i,children:s})});tS.displayName="ButtonGroupItem";var tC=a(49812),tA=a(98832);let tP=()=>{var e;let t=(0,l.useRouter)(),{project:a}=(0,tA.Om)(),s=(0,I.a)(),r=(0,eX.xd)(),{mutate:o}=(0,L.h)(),i=null!=(e=null==a?void 0:a.parent_project_ref)?e:t.query.ref,c="/support/new".concat(i?"?projectRef=".concat(i):"");return(0,n.jsxs)(eR.AM,{"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"HelpPopover","data-sentry-source-file":"HelpPopover.tsx",children:[(0,n.jsx)(eR.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)(ew.G,{id:"help-popover-button",type:"text",className:"rounded-none w-[32px] h-[30px] group",icon:(0,n.jsx)(tg.A,{size:18,strokeWidth:1.5,className:"!h-[18px] !w-[18px] text-foreground-light group-hover:text-foreground"}),tooltip:{content:{side:"bottom",text:"Help"}},onClick:()=>{o({action:"help_button_clicked",groups:{project:null==a?void 0:a.ref,organization:null==s?void 0:s.slug}})},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"HelpPopover.tsx"})}),(0,n.jsxs)(eR.hl,{className:"w-[400px] space-y-4 p-0 py-5",align:"end",side:"bottom","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"HelpPopover.tsx",children:[(0,n.jsxs)("div",{className:"mb-5 px-5",children:[(0,n.jsx)("h5",{className:"text-foreground mb-2",children:"Need help with your project?"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For issues with your project hosted on supabase.com or other hosted service inquiries. Response times are based on your billing plan, with paid plans prioritized."})]}),(0,n.jsx)("div",{className:"px-5",children:(0,n.jsxs)(t_,{className:"w-full","data-sentry-element":"ButtonGroup","data-sentry-source-file":"HelpPopover.tsx",children:[i&&(0,n.jsx)(tS,{size:"tiny",icon:(0,n.jsx)(eZ.M,{allowHoverEffect:!0,size:14}),onClick:()=>{r.newChat({name:"Support",open:!0,initialInput:"I need help with my project",suggestions:{title:"I can help you with your project, here are some example prompts to get you started:",prompts:[{label:"Database Health",description:"Summarise my database health and performance"},{label:"Debug Logs",description:"View and debug my edge function logs"},{label:"RLS Setup",description:"Implement row level security for my tables"}]}})},children:"Supabase Assistant"}),(0,n.jsx)(tS,{size:"tiny",icon:(0,n.jsx)(tb.A,{strokeWidth:1.5,size:14}),asChild:!0,"data-sentry-element":"ButtonGroupItem","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)("a",{href:"https://supabase.com/docs/guides/platform/troubleshooting",target:"_blank",rel:"noreferrer",children:"Troubleshooting"})}),(0,n.jsx)(tS,{size:"tiny",icon:(0,n.jsx)(ty.A,{strokeWidth:1.5,size:14}),asChild:!0,"data-sentry-element":"ButtonGroupItem","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)("a",{href:"https://supabase.com/docs/",target:"_blank",rel:"noreferrer",children:"Docs"})}),(0,n.jsx)(tS,{size:"tiny",icon:(0,n.jsx)(tj.A,{strokeWidth:1.5,size:14}),asChild:!0,"data-sentry-element":"ButtonGroupItem","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)("a",{href:"https://status.supabase.com/",target:"_blank",rel:"noreferrer",children:"Supabase Status"})}),(0,n.jsx)(tS,{size:"tiny",icon:(0,n.jsx)(tv.A,{strokeWidth:1.5,size:14}),"data-sentry-element":"ButtonGroupItem","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)(m(),{href:c,"data-sentry-element":"Link","data-sentry-source-file":"HelpPopover.tsx",children:"Contact Support"})})]})}),(0,n.jsx)(tC.A.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"HelpPopover.tsx"}),(0,n.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,n.jsxs)("div",{className:"mb-4 px-5",children:[(0,n.jsx)("h5",{className:"mb-2",children:"Reach out to the community"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For other support, including questions on our client libraries, advice, or best practices."})]}),(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",style:{background:"#404EED"},children:(0,n.jsxs)("a",{href:"https://discord.supabase.com",target:"_blank",rel:"noreferrer",className:"dark block cursor-pointer",children:[(0,n.jsx)(tw(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(t.basePath,"/img/support/discord-bg-small.jpg"),layout:"fill",objectFit:"cover",alt:"discord illustration header","data-sentry-element":"Image","data-sentry-source-file":"HelpPopover.tsx"}),(0,n.jsx)(O.$,{type:"secondary",icon:(0,n.jsx)(tk.A,{src:"".concat(t.basePath,"/img/discord-icon.svg"),className:"h-4 w-4"}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:(0,n.jsx)("span",{style:{color:"#404EED"},children:"Join Discord server"})})]})})}),(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",children:(0,n.jsxs)("a",{href:"https://github.com/supabase/supabase/discussions",target:"_blank",rel:"noreferrer",className:"block cursor-pointer",children:[(0,n.jsx)(tw(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(t.basePath,"/img/support/github-bg.jpg?v-1"),layout:"fill",objectFit:"cover",alt:"discord illustration header","data-sentry-element":"Image","data-sentry-source-file":"HelpPopover.tsx"}),(0,n.jsx)(O.$,{type:"secondary",icon:(0,n.jsx)(e7.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:"GitHub Discussions"})]})})})]})]})]})};var tL=a(65303);let tI=()=>{let e=(0,I.a)(),{data:t}=(0,tu.Ad)(),a=(0,l.useRouter)(),[r]=(0,tL.U)(s.rS.LAST_VISITED_ORGANIZATION,""),o=R.pe?r?"/org/".concat(r):(null==e?void 0:e.slug)?"/org/".concat(e.slug):t&&t.length>0?"/org/".concat(t[0].slug):"/organizations":"/project/default";return(0,n.jsx)(m(),{href:o,className:"items-center justify-center flex-shrink-0 hidden md:flex","data-sentry-element":"Link","data-sentry-component":"HomeIcon","data-sentry-source-file":"HomeIcon.tsx",children:(0,n.jsx)(eT(),{alt:"Supabase",src:"".concat(a.basePath,"/img/supabase-logo.svg"),width:18,height:18,className:"w-[18px] h-[18px]","data-sentry-element":"Image","data-sentry-source-file":"HomeIcon.tsx"})})};var tR=a(53434),tD=a.n(tR),tE=a(62136),tz=a(56947),tT=a(65172),tF=a(15052);async function tB(){try{return await (0,tT.x8)("".concat(R.o2,"/api/cli-release-version")).then(e=>e.json())}catch(e){throw e}}let tM=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,tz.I)(tF.d.cliReleaseVersion(),()=>tB(),{enabled:e&&!R.pe,...t})};var tO=a(31492);let tW=e=>{if(!e)return;let[t,a,n]=e.slice(1).split(".");return{major:Number(t),minor:Number(a),patch:Number(n)}},tH=(e,t)=>!(e.major>t.major)&&(e.major!==t.major||!(e.minor>t.minor))&&(e.major!==t.major||e.minor!==t.minor||!(e.patch>t.patch)),tU=(e,t)=>!(e.major<t.major)&&(e.major!==t.major||!(e.minor<t.minor))&&(e.major!==t.major||e.minor!==t.minor||!(e.patch<t.patch)),tq=()=>{let{data:e,isSuccess:t}=tM(),a=null==e?void 0:e.current,s=null==e?void 0:e.latest,r=t&&!!s,o=tW(a),i=tW(s),l=!!o&&!!i&&a!==s&&tH(o,i),c=!!o&&!!i&&a!==s&&tU(o,i),d=(null==e?void 0:e.published_at)?tD()(null==e?void 0:e.published_at).utc().add(14,"day").format("DD MMM YYYY"):void 0;return t&&a?(0,n.jsxs)(eR.AM,{"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"LocalVersionPopover","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)(eR.Wv,{className:"flex items-center","data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)(W.E,{variant:c?"warning":l?"brand":"default","data-sentry-element":"Badge","data-sentry-source-file":"LocalVersionPopover.tsx",children:c?"Beta":l?"Update available":"Latest"})}),(0,n.jsxs)(eR.hl,{align:"end",className:"w-80 px-0","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx",children:[r?!c&&l?(0,n.jsxs)("div",{className:"px-4 mb-3",children:[(0,n.jsx)("p",{className:"text-sm mb-2",children:"A new version of Supabase CLI is available:"}),(0,n.jsxs)(eP.tU,{defaultValue:"macos",children:[(0,n.jsxs)(eP.j7,{className:"mt-2",children:[(0,n.jsx)(eP.Xi,{className:"px-2 text-xs",value:"macos",children:"macOS"}),(0,n.jsx)(eP.Xi,{className:"px-2 text-xs",value:"windows",children:"Windows"}),(0,n.jsx)(eP.Xi,{className:"px-2 text-xs",value:"linux",children:"Linux"}),(0,n.jsx)(eP.Xi,{className:"px-2 text-xs",value:"npm",children:"npm / Bun"})]}),(0,n.jsx)(eP.av,{className:"mt-2 text-xs",value:"macos",children:(0,n.jsx)(tO.X,{parentClassName:"bg-selection rounded !px-2",children:"brew upgrade supabase"})}),(0,n.jsx)(eP.av,{className:"mt-2 text-xs",value:"windows",children:(0,n.jsx)(tO.X,{parentClassName:"bg-selection rounded !px-2",children:"scoop update supabase"})}),(0,n.jsx)(eP.av,{className:"mt-2 text-xs",value:"linux",children:(0,n.jsx)(tO.X,{parentClassName:"bg-selection rounded !px-2",children:"brew upgrade supabase"})}),(0,n.jsx)(eP.av,{className:"mt-2 text-xs",value:"npm",children:(0,n.jsx)(tO.X,{parentClassName:"bg-selection rounded !px-2",children:"npm update supabase --save-dev"})})]})]}):(0,n.jsx)("div",{className:"px-4 mb-3",children:c?(0,n.jsx)("p",{className:"text-sm",children:"You're on the Beta version of Supabase CLI"}):(0,n.jsx)("p",{className:"text-sm",children:"You're on the latest version of Supabase CLI"})}):null,(0,n.jsx)("div",{className:"flex flex-col gap-y-2 px-4",children:(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["All available release versions of the CLI can be found on our"," ",(0,n.jsx)(k.g,{href:"https://github.com/supabase/cli/releases","data-sentry-element":"InlineLink","data-sentry-source-file":"LocalVersionPopover.tsx",children:"GitHub repository"}),"."]})}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2 mt-3 px-4",children:[(0,n.jsxs)(T.lG,{"data-sentry-element":"Dialog","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)(T.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)(O.$,{type:"default","data-sentry-element":"Button","data-sentry-source-file":"LocalVersionPopover.tsx",children:"Release schedule"})}),(0,n.jsxs)(T.Cf,{"data-sentry-element":"DialogContent","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)(T.c7,{className:"border-b","data-sentry-element":"DialogHeader","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)(T.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"LocalVersionPopover.tsx",children:"Stable release schedule"})}),(0,n.jsxs)(T.OO,{className:"flex flex-col gap-y-3","data-sentry-element":"DialogSection","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsxs)("p",{className:"text-foreground-lighter text-xs font-mono uppercase",children:["Approximate next release: ",d]}),(0,n.jsxs)("p",{className:"text-sm",children:["Supabase CLI releases follows a two-week schedule, with stable updates available through the"," ",(0,n.jsx)(k.g,{href:"https://supabase.com/docs/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux#updating-the-supabase-cli","data-sentry-element":"InlineLink","data-sentry-source-file":"LocalVersionPopover.tsx",children:"CLI"}),"."]})]}),(0,n.jsxs)(U.Z,{type:"default",title:"Beta Releases",description:"Beta releases are also available between stable releases through the Beta version of the CLI, which might be helpful if you are waiting for a specific fix.","data-sentry-element":"Admonition","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,n.jsx)("p",{className:"!mt-2",children:"If you'd like to try, we recommend doing so via npm:"}),(0,n.jsx)("div",{className:"flex items-center bg-surface-200 py-1 px-2 rounded mt-2 mb-1",children:(0,n.jsx)(tO.X,{parentClassName:"bg-surface-200","data-sentry-element":"SimpleCodeBlock","data-sentry-source-file":"LocalVersionPopover.tsx",children:"npm i supabase@beta --save-dev"})}),(0,n.jsxs)("p",{className:"text-sm text-foreground-lighter",children:["Latest Beta version: ",(0,n.jsx)("span",{children:e.beta})]}),(0,n.jsx)(tE.A,{href:"https://supabase.com/docs/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux#using-beta-version",className:"!no-underline mt-2","data-sentry-element":"DocsButton","data-sentry-source-file":"LocalVersionPopover.tsx"})]})]})]})]}),(0,n.jsx)(O.$,{type:"default",asChild:!0,"data-sentry-element":"Button","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://supabase.com/docs/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux",children:"CLI Docs"})})]}),(0,n.jsx)(eR.zT,{className:"my-4","data-sentry-element":"PopoverSeparator_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx"}),(0,n.jsxs)("div",{className:"flex items-center gap-x-4 px-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-xs",children:"Current version:"}),(0,n.jsx)("p",{className:"text-sm font-mono",children:a})]}),r&&l&&!c&&(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-xs",children:"Available version:"}),(0,n.jsx)("p",{className:"text-sm font-mono",children:s})]})]})]})]}):null};var tG=a(66034),tV=a(84926),t$=a(73969);let tK=()=>{let{ref:e}=(0,s.g)(),t=(0,l.useRouter)(),a=(0,eA.KT)(),r=(0,I.a)(),o=(null==a?void 0:a.parent_project_ref)||e,{data:i}=(0,e9.A)({projectRef:o},{enabled:!!a}),{mutate:c}=(0,L.h)(),{mutate:d,isLoading:u}=(0,tV.O)({onError:()=>{t$.oR.error("Failed to open merge request")}}),p=null==i?void 0:i.find(t=>t.project_ref===e);if(!o||!p||p.is_default||p.git_branch)return null;let m=!!(null==p?void 0:p.review_requested_at);return(0,n.jsx)(ew.G,{type:"default",className:"rounded-full w-[26px] h-[26px]",onClick:()=>{m?t.push("/project/".concat(p.project_ref,"/merge")):d({id:p.id,projectRef:o,requestReview:!0},{onSuccess:()=>{var e;t$.oR.success("Merge request created"),t.push("/project/".concat(p.project_ref,"/merge")),c({action:"branch_create_merge_request_button_clicked",properties:{branchType:p.persistent?"persistent":"preview",origin:"header"},groups:{project:null!=o?o:"Unknown",organization:null!=(e=null==r?void 0:r.slug)?e:"Unknown"}})}})},loading:u,tooltip:{content:{text:m?"Review merge request":"Open merge request",side:"bottom",align:"center"}},icon:(0,n.jsxs)("div",{className:"relative",children:[m&&(0,n.jsx)("span",{className:"w-1 h-1 absolute top-0 right-0 rounded-full bg-brand"}),(0,n.jsx)(tG.A,{size:16,strokeWidth:1.5})]}),"data-sentry-element":"ButtonTooltip","data-sentry-component":"MergeRequestButton","data-sentry-source-file":"MergeRequestButton.tsx"})};var tQ=a(3267),tY=a(98357),tX=a(3829),tJ=a(32144),tZ=a(80251);let t0={list:()=>["notifications"],listV2:e=>["notifications",e],summary:()=>["notifications","summary"]};async function t1(){let{data:e,error:t}=await (0,tT.F6)("/platform/notifications/archive-all",{headers:{Version:"2"}});return t&&(0,tT.H4)(t),e}let t2=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,tJ.jE)();return(0,tZ.n)(()=>t1(),{async onSuccess(t,a,s){await n.invalidateQueries(t0.list()),await (null==e?void 0:e(t,a,s))},async onError(e,a,n){void 0===t?t$.oR.error("Failed to archive all notifications: ".concat(e.message)):t(e,a,n)},...a})};var t5=a(17702);async function t4(e,t){let{status:a,filters:n,page:s=0,limit:r=10}=e,{data:o,error:i}=await (0,tT.Jt)("/platform/notifications",{params:{query:{offset:s*r,limit:r,...void 0!==a?{status:a}:{status:"new,seen"},...n.priority.length>0?{priority:n.priority.join(",")}:{},...n.organizations.length>0?{org_slug:n.organizations.join(",")}:{},...n.projects.length>0?{project_ref:n.projects.join(",")}:{}}},headers:{Version:"2"},signal:t});return i&&(0,tT.H4)(i),o}let t3=function(e){let{status:t,filters:a,limit:n=10}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,t5.q)(t0.listV2({status:t,filters:a,limit:n}),e=>{let{signal:s,pageParam:r}=e;return t4({status:t,filters:a,limit:n,page:r},s)},{enabled:s,getNextPageParam(e,t){let a=t.length;if(!((null!=e?e:[]).length<n))return a},...r})};async function t6(e){let{data:t,error:a}=await (0,tT.Jt)("/platform/notifications/summary",{signal:e});return a&&(0,tT.H4)(a),t}let t8=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,tz.I)(t0.summary(),e=>{let{signal:t}=e;return t6(t)},e)};async function t7(e){let{ids:t,status:a}=e,{data:n,error:s}=await (0,tT.F6)("/platform/notifications",{body:t.map(e=>({id:e,status:a})),headers:{Version:"2"}});return s&&(0,tT.H4)(s),n}let t9=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,tJ.jE)();return(0,tZ.n)(e=>t7(e),{async onSuccess(t,a,s){await n.invalidateQueries(["notifications"]),await (null==e?void 0:e(t,a,s))},async onError(e,a,n){void 0===t?t$.oR.error("Failed to update notifications: ".concat(e.message)):t(e,a,n)},...a})};var ae=a(56028),at=a(12532);let aa=(0,ae.BX)({filterStatuses:[],filterPriorities:[],filterOrganizations:[],filterProjects:[],get numFiltersApplied(){return[...this.filterStatuses,...this.filterPriorities,...this.filterOrganizations,...this.filterProjects].length},setFilters:(e,t)=>{switch(t){case"status":aa.filterStatuses.includes(e)?aa.filterStatuses=aa.filterStatuses.filter(t=>t!==e):aa.filterStatuses=aa.filterStatuses.concat([e]);break;case"priority":aa.filterPriorities.includes(e)?aa.filterPriorities=aa.filterPriorities.filter(t=>t!==e):aa.filterPriorities=aa.filterPriorities.concat([e]);break;case"organizations":aa.filterOrganizations.includes(e)?aa.filterOrganizations=aa.filterOrganizations.filter(t=>t!==e):aa.filterOrganizations=aa.filterOrganizations.concat([e]);break;case"projects":aa.filterProjects.includes(e)?aa.filterProjects=aa.filterProjects.filter(t=>t!==e):aa.filterProjects=aa.filterProjects.concat([e])}},resetFilters:()=>{aa.filterStatuses=[],aa.filterPriorities=[],aa.filterOrganizations=[],aa.filterProjects=[]}}),an=e=>(0,at.s)(aa,e);var as=a(83570),ar=a(64317),ao=a(58696);let ai=e=>{var t;let{index:a,listRef:s,item:r,setRowHeight:o,getProject:i,getOrganizationById:l,getOrganizationBySlug:c,onUpdateNotificationStatus:d,queueMarkRead:u}=e,p=(0,x.useRef)(null),{ref:h,inView:f}=(0,ar.Wx)(),{status:g,priority:y}=r,j=r.data,v=void 0!==j.project_ref?i(j.project_ref):void 0,N=void 0!==j.org_slug?c(j.org_slug):void 0!==v?l(v.organization_id):void 0,w=tD()().diff(tD()(r.inserted_at),"day"),k=tD()(r.inserted_at).fromNow(),_=tD()(r.inserted_at).format("MMM DD, YYYY"),S=e=>{console.log("Action",e)};return(0,x.useEffect)(()=>{if(p.current){var e;null==s||null==(e=s.current)||e.resetAfterIndex(0),o(a,p.current.clientHeight)}},[p]),(0,x.useEffect)(()=>{f&&"new"===r.status&&u(r.id)},[f]),(0,n.jsxs)("div",{ref:p,className:(0,z.cn)("p-4 flex justify-between gap-x-3 group",0!==a?"border-t border-overlay":"","new"===g?"bg-surface-100/50":"bg-background"),"data-sentry-component":"NotificationRow","data-sentry-source-file":"NotificationRow.tsx",children:[(0,n.jsxs)("div",{ref:h,className:"flex flex-col gap-y-2.5 w-full py-0.5",children:[(void 0!==v||void 0!==N)&&(0,n.jsxs)("div",{className:"flex items-center max-w-[350px]",children:[void 0!==N&&(0,n.jsx)(m(),{title:N.name,href:"/org/".concat(N.slug,"/general"),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:N.name}),void 0!==N&&void 0!==v&&(0,n.jsx)("span",{className:"text-foreground-lighter",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),void 0!==v&&(0,n.jsx)(m(),{title:v.name,href:"/project/".concat(v.ref),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:v.name})]}),(0,n.jsx)("div",{className:"flex items-center gap-x-2",children:(0,n.jsxs)("p",{className:"text-sm break-word",children:[j.title," ",(0,n.jsx)("span",{className:"ml-1 text-xs text-foreground-light capitalize-sentence",children:w>1?_:k})]})}),void 0!==j.message&&(0,n.jsx)(ao.o,{className:"text-foreground-light text-xs",content:j.message}),(null!=(t=j.actions)?t:[]).length>0&&(0,n.jsx)("div",{className:"flex items-center gap-x-2",children:j.actions.map((e,t)=>{let a="".concat(r.id,"-action-").concat(t);if(void 0!==e.url){var s,o;let t=e.url.includes("[ref]")?e.url.replace("[ref]",null!=(s=null==v?void 0:v.ref)?s:"_"):e.url.includes("[slug]")?e.url.replace("[slug]",null!=(o=null==N?void 0:N.slug)?o:"_"):e.url;return(0,n.jsx)(O.$,{type:"default",icon:(0,n.jsx)(b.A,{strokeWidth:1.5}),asChild:!0,children:(0,n.jsx)(m(),{href:t,target:"_blank",rel:"noreferrer",children:e.label})},a)}return void 0!==e.action_type?(0,n.jsx)(O.$,{type:"default",onClick:()=>S(e.action_type),children:e.label},a):null})})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-y-2",children:["Warning"===y&&(0,n.jsx)(et.id,{className:"w-5 h-5"}),"Critical"===y&&(0,n.jsx)(et.HV,{className:"w-5 h-5"}),"archived"===r.status?(0,n.jsx)(ew.G,{type:"outline",icon:(0,n.jsx)(as.A,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>d(r.id,"seen"),tooltip:{content:{text:"Unarchive",side:"bottom"}}}):(0,n.jsx)(ew.G,{type:"outline",icon:(0,n.jsx)(tY.A,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>d(r.id,"archived"),tooltip:{content:{text:"Archive",side:"bottom"}}})]})]})};var al=a(70723),ac=a(36272),ad=a(19428),au=a(74245);let ap=e=>{let{activeTab:t}=e,[a,s]=(0,x.useState)(!1),r=an(),{data:o}=(0,tu.Ad)(),{data:i}=(0,tt.el)();return(0,n.jsxs)(eR.AM,{modal:!0,open:a,onOpenChange:s,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"NotificationsFilter","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(eR.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,n.jsx)(O.$,{type:r.numFiltersApplied>0?"default":"text",icon:(0,n.jsx)(al.A,{strokeWidth:1}),className:"px-1 h-[26px]","data-sentry-element":"Button","data-sentry-source-file":"NotificationsFilter.tsx",children:r.numFiltersApplied>0&&"".concat(r.numFiltersApplied," filter").concat(r.numFiltersApplied>1?"s":""," applied")})}),(0,n.jsx)(eR.hl,{className:"p-0 w-64",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,n.jsxs)(eD.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(eD.G7,{placeholder:"Find filter...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,n.jsxs)(eD.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsxs)(te.FK,{className:"max-h-[240px] py-1 overflow-y-auto","data-sentry-element":"ScrollArea","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsxs)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(eV.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Status"}),(0,n.jsx)(eD.h_,{disabled:"archived"===t,onSelect:()=>{r.setFilters("unread","status")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,n.jsxs)(ad.J,{htmlFor:"unread",className:(0,z.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",r.filterStatuses.includes("unread")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(au.S,{name:"unread",checked:r.filterStatuses.includes("unread"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),"Unread"]})})]}),(0,n.jsx)(eD.fx,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,n.jsxs)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(eV.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Priority"}),(0,n.jsx)(eD.h_,{onSelect:()=>{r.setFilters("Warning","priority")},className:"flex items-center gap-x-2","data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,n.jsxs)(ad.J,{htmlFor:"warning",className:(0,z.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",r.filterPriorities.includes("Warning")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(au.S,{name:"warning",checked:r.filterPriorities.includes("Warning"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,n.jsx)(et.id,{className:"size-4","data-sentry-element":"WarningIcon","data-sentry-source-file":"NotificationsFilter.tsx"}),"Warning"]})}),(0,n.jsx)(eD.h_,{onSelect:()=>{r.setFilters("Critical","priority")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,n.jsxs)(ad.J,{htmlFor:"critical",className:(0,z.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",r.filterPriorities.includes("Critical")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(au.S,{name:"critical",checked:r.filterPriorities.includes("Critical"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,n.jsx)(et.HV,{className:"size-4","data-sentry-element":"CriticalIcon","data-sentry-source-file":"NotificationsFilter.tsx"}),"Critical"]})},"critical")]}),(0,n.jsx)(eD.fx,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,n.jsxs)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(eV.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Organizations"}),(null!=o?o:[]).map(e=>(0,n.jsx)(eD.h_,{value:e.name.replaceAll('"',""),className:"flex items-center gap-x-2",onSelect:()=>{r.setFilters(e.slug,"organizations")},children:(0,n.jsxs)(ad.J,{htmlFor:"".concat(e.slug),className:(0,z.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",r.filterOrganizations.includes(e.slug)&&"text-foreground"),children:[(0,n.jsx)(au.S,{name:"".concat(e.slug),checked:r.filterOrganizations.includes(e.slug),className:""}),e.name]})},e.slug))]}),(0,n.jsx)(eD.fx,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,n.jsxs)(eD.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(eV.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Projects"}),(null!=i?i:[]).map(e=>(0,n.jsx)(eD.h_,{className:"flex items-center gap-x-2",onSelect:t=>{r.setFilters(e.ref,"projects")},children:(0,n.jsxs)(ad.J,{htmlFor:"".concat(e.ref),className:(0,z.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",r.filterProjects.includes(e.ref)&&"text-foreground"),children:[(0,n.jsx)(au.S,{name:"".concat(e.ref),checked:r.filterProjects.includes(e.ref),className:""}),e.name]})},e.ref))]})]}),(0,n.jsx)(eD.fx,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,n.jsx)(eD.L$,{"data-sentry-element":"CommandGroup","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,n.jsxs)(eD.h_,{onSelect:()=>r.resetFilters(),className:"flex gap-x-2 items-center","data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,n.jsx)(ac.A,{className:"text-foreground-muted",size:12,strokeWidth:1,"data-sentry-element":"RotateCcw","data-sentry-source-file":"NotificationsFilter.tsx"}),"Reset filters"]})})]})]})})]})},am=()=>{var e,t;let[a,s]=(0,x.useState)(!1),[r,o]=(0,x.useState)("inbox"),i=an(),l=(0,x.useRef)([]),c=(0,x.useRef)({}),{data:d}=(0,tt.el)({enabled:a}),{data:u}=(0,tu.Ad)({enabled:a}),{data:p,error:m,isLoading:h,isError:f,isSuccess:g,hasNextPage:b,isFetchingNextPage:y,fetchNextPage:j}=t3({status:"archived"===r?"archived":i.filterStatuses.includes("unread")?"new":void 0,filters:{priority:i.filterPriorities,organizations:i.filterOrganizations,projects:i.filterProjects}},{enabled:a}),{data:v}=t8(),{mutate:w}=t9(),{mutate:k,isLoading:S}=t2({onSuccess:()=>t$.oR.success("Successfully archived all notifications")}),C=(0,x.useMemo)(()=>{var e;return null!=(e=null==p?void 0:p.pages.flatMap(e=>e))?e:[]},[null==p?void 0:p.pages]),A=null!=(e=null==v?void 0:v.unread_count)&&e,P=null==v?void 0:v.has_warning,L=null==v?void 0:v.has_critical,I=()=>{l.current.length>0&&w({ids:l.current,status:"seen"})};return(0,n.jsxs)(eR.AM,{modal:!1,open:a,onOpenChange:e=>{s(e),e||I()},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"NotificationsPopoverV2","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,n.jsx)(eR.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:(0,n.jsx)(ew.G,{tooltip:{content:{text:"Notifications"}},type:"text",className:(0,z.cn)("rounded-none h-[30px] w-[32px] group relative"),icon:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(tQ.A,{size:18,strokeWidth:1.5,className:(0,z.cn)("!h-[18px] !w-[18px] text-foreground-light group-hover:text-foreground")}),L&&(0,n.jsx)("div",{className:"absolute -top-1 -right-2 w-3.5 h-3.5 z-10 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-b-[10px] border-l-transparent border-r-transparent border-b-destructive"})}),P&&!L&&(0,n.jsx)("div",{className:"absolute -top-1 -right-2 w-3.5 h-3.5 z-10 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-warning"})}),!!A&&!L&&!P&&(0,n.jsx)("div",{className:"absolute -top-1 -right-2 w-3.5 h-3.5 z-10 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-brand"})})]}),"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"NotificationsPopover.tsx"})}),(0,n.jsxs)(eR.hl,{className:"p-0 w-screen md:w-[450px] overflow-hidden",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,n.jsxs)("div",{className:"px-4",children:[(0,n.jsx)("p",{className:"pt-4 pb-1 text-sm",children:"Notifications"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(eP.tU,{className:"w-full",onValueChange:e=>{o(e),"archived"===e&&i.filterStatuses.includes("unread")&&i.setFilters("unread","status")},value:r,"data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)(eP.j7,{className:"flex gap-5 grow border-none","data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,n.jsxs)(eP.Xi,{id:"inbox",value:"inbox",className:"px-0 data-[state=active]:bg-transparent flex gap-2","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:["Inbox",(0,n.jsx)("div",{className:(0,z.cn)("flex items-center justify-center text-xs rounded-full bg-surface-300 h-4",(null!=(t=null==v?void 0:v.unread_count)?t:0)>9?"px-0.5 w-auto":"w-4"),children:null==v?void 0:v.unread_count})]}),(0,n.jsx)(eP.Xi,{id:"archived",value:"archived",className:"px-0 data-[state=active]:bg-transparent","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:"Archived"})]}),(0,n.jsx)(ap,{activeTab:r,"data-sentry-element":"NotificationsFilter","data-sentry-source-file":"NotificationsPopover.tsx"})]})})})]}),(0,n.jsxs)("div",{className:"border-t",children:[h&&(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(_.y,{})}),f&&(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(N.A,{subject:"Failed to retrieve notifications",error:m})}),g&&(0,n.jsx)("div",{className:"flex flex-1 h-[400px] bg-background",children:C.length>0&&!("archived"===r&&i.filterStatuses.includes("unread"))?(0,n.jsx)(tX.A,{items:C,ItemComponent:ai,LoaderComponent:(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(_.A,{})}),itemProps:{setRowHeight:(e,t)=>{c.current&&(c.current={...c.current,[e]:t})},getProject:e=>null==d?void 0:d.find(t=>t.ref===e),getOrganizationById:e=>null==u?void 0:u.find(t=>t.id===e),getOrganizationBySlug:e=>null==u?void 0:u.find(t=>t.slug===e),onUpdateNotificationStatus:(e,t)=>{w({ids:[e],status:t})},queueMarkRead:e=>{l.current&&!l.current.includes(e)&&l.current.push(e)}},getItemSize:e=>{var t,a;return null!=(a=null==c||null==(t=c.current)?void 0:t[e])?a:56},hasNextPage:b,isLoadingNextPage:y,onLoadNextPage:()=>j()}):(0,n.jsxs)("div",{className:"flex flex-col gap-y-4 items-center flex-grow justify-center",children:[(0,n.jsx)(tQ.A,{size:32,className:"text-foreground-light"}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("p",{className:"text-foreground-light text-sm mx-auto text-center",children:"archived"===r?"No archived notifications".concat(i.numFiltersApplied>0?" based on the ".concat(i.numFiltersApplied," filter").concat(i.numFiltersApplied>1?"s":""," applied"):""):i.numFiltersApplied>0?"No notifications based on the ".concat(i.numFiltersApplied," filter").concat(i.numFiltersApplied>1?"s":""," applied"):"All caught up"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs w-60 mx-auto text-center",children:"archived"===r?"Notifications that you have previously archived will be shown here":"You will be notified here for any notices on your organizations and projects"})]})]})})]}),C.length>0&&"inbox"===r&&(0,n.jsx)("div",{className:"flex items-center justify-center p-1.5 border-t",children:(0,n.jsx)(O.$,{disabled:S,loading:S,type:"text",icon:(0,n.jsx)(tY.A,{}),onClick:()=>k(),children:"Archive all"})})]})]})},ax=e=>{let{className:t,...a}=e;return(0,n.jsx)("span",{className:(0,z.cn)("text-border-stronger pr-2",t),...a,"data-sentry-component":"LayoutHeaderDivider","data-sentry-source-file":"LayoutHeader.tsx",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision","data-sentry-element":"svg","data-sentry-source-file":"LayoutHeader.tsx",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600","data-sentry-element":"path","data-sentry-source-file":"LayoutHeader.tsx"})})})},ah=e=>{let{customHeaderComponents:t,breadcrumbs:a=[],headerTitle:r,showProductMenu:o}=e,{ref:i,slug:l}=(0,s.g)(),c=(0,eA.KT)(),p=(0,I.a)(),{setMobileMenuOpen:f}=(0,eJ.qM)(),g=(0,h.fe)(),{data:b}=(0,tx.n)({orgSlug:null==p?void 0:p.slug},{enabled:(null==p?void 0:p.usage_billing_enabled)===!1}),y=(0,x.useMemo)(()=>!!b&&tm((null==b?void 0:b.usages)||[]).length>0,[b]),j=l||p&&i;return(0,n.jsxs)("header",{className:(0,z.cn)("flex h-12 items-center flex-shrink-0 border-b"),"data-sentry-component":"LayoutHeader","data-sentry-source-file":"LayoutHeader.tsx",children:[o&&(0,n.jsx)("div",{className:"flex items-center justify-center border-r flex-0 md:hidden h-full aspect-square",children:(0,n.jsxs)("button",{title:"Menu dropdown button",className:(0,z.cn)("group/view-toggle ml-4 flex justify-center flex-col border-none space-x-0 items-start gap-1 !bg-transparent rounded-md min-w-[30px] w-[30px] h-[30px]"),onClick:()=>f(!0),children:[(0,n.jsx)("div",{className:"h-px inline-block left-0 w-4 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"}),(0,n.jsx)("div",{className:"h-px inline-block left-0 w-3 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"})]})}),(0,n.jsxs)("div",{className:(0,z.cn)("flex items-center justify-between h-full pr-3 flex-1 overflow-x-auto gap-x-8 pl-4"),children:[(0,n.jsxs)("div",{className:"flex items-center text-sm",children:[(0,n.jsx)(tI,{"data-sentry-element":"HomeIcon","data-sentry-source-file":"LayoutHeader.tsx"}),(0,n.jsxs)("div",{className:"flex items-center md:pl-2",children:[j&&R.pe?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ax,{className:"hidden md:block"}),(0,n.jsx)(tp,{})]}):null,(0,n.jsx)(d.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:i&&(0,n.jsxs)(u.P.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[(0,n.jsx)(ax,{}),(0,n.jsx)(tr,{}),y&&(0,n.jsx)("div",{className:"ml-2",children:(0,n.jsx)(m(),{href:"/org/".concat(null==p?void 0:p.slug,"/usage"),children:(0,n.jsx)(W.E,{variant:"destructive",className:"whitespace-nowrap",children:"Exceeding usage limits"})})}),c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ax,{}),R.pe&&(0,n.jsx)(ti,{})]})]})}),(0,n.jsx)(d.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:r&&(0,n.jsxs)(u.P.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[(0,n.jsx)(ax,{}),(0,n.jsx)("span",{className:"text-foreground",children:r})]})})]}),(0,n.jsx)(d.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:i&&(0,n.jsxs)(u.P.div,{className:"ml-3 items-center gap-x-2 flex",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[R.pe&&g&&(0,n.jsx)(tK,{}),(0,n.jsx)(eH,{})]})}),(0,n.jsx)(th,{defaultValue:a,"data-sentry-element":"BreadcrumbsView","data-sentry-source-file":"LayoutHeader.tsx"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[t&&t,R.pe?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tf.R,{}),(0,n.jsxs)("div",{className:"overflow-hidden flex items-center rounded-full border",children:[(0,n.jsx)(tP,{}),(0,n.jsx)(am,{}),(0,n.jsx)(d.N,{initial:!1,children:!!i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tl,{}),(0,n.jsx)(e2,{})]})})]}),(0,n.jsx)(eY.X,{})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tq,{}),(0,n.jsx)("div",{className:"overflow-hidden flex items-center rounded-full border",children:(0,n.jsx)(d.N,{initial:!1,children:!!i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tl,{}),(0,n.jsx)(e2,{})]})})}),(0,n.jsx)(eQ,{})]})]})]})]})};var af=a(75189),ag=a(26638),ab=a(85420),ay=a(37283);let aj=()=>{let e=(0,l.useRouter)(),[t,a]=(0,x.useState)(!1),{ref:r}=(0,s.g)();return(0,n.jsxs)("div",{className:"h-14 w-full flex flex-row md:hidden","data-sentry-component":"MobileNavigationBar","data-sentry-source-file":"MobileNavigationBar.tsx",children:[(0,n.jsxs)("nav",{className:(0,z.cn)("group px-4 z-10 w-full h-14","border-b bg-dash-sidebar border-default shadow-xl","transition-width duration-200","hide-scrollbar flex flex-row items-center justify-between overflow-x-auto"),children:[(0,n.jsx)(m(),{href:R.pe?"/organizations":"/project/".concat(r),className:"flex items-center h-[26px] w-[26px] min-w-[26px]","data-sentry-element":"Link","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,n.jsx)("img",{alt:"Supabase",src:"".concat(e.basePath,"/img/supabase-logo.svg"),className:"absolute h-[26px] w-[26px] cursor-pointer rounded"})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(ab.Zj,{"data-sentry-element":"CommandMenuTrigger","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,n.jsx)("button",{className:(0,z.cn)("group","flex-grow h-[30px] rounded-md","p-2","flex items-center justify-between","bg-transparent border-none text-foreground-lighter","hover:bg-opacity-100 hover:border-strong hover:text-foreground-light","focus-visible:!outline-4 focus-visible:outline-offset-1 focus-visible:outline-brand-600","transition"),children:(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)(af.A,{size:18,strokeWidth:2,"data-sentry-element":"Search","data-sentry-source-file":"MobileNavigationBar.tsx"})})})}),(0,n.jsx)("button",{title:"Menu dropdown button",className:(0,z.cn)((0,O.r)({type:"default"}),"flex lg:hidden border-default bg-surface-100/75 text-foreground-light rounded-md min-w-[30px] w-[30px] h-[30px] data-[state=open]:bg-overlay-hover/30"),onClick:()=>a(!0),children:(0,n.jsx)(ag.A,{size:18,strokeWidth:1,"data-sentry-element":"Menu","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})]}),(0,n.jsx)(ay.A,{open:t,onOpenChange:a,"data-state":"expanded","data-sentry-element":"MobileSheetNav","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,n.jsx)(i.Yv,{"data-sentry-element":"SidebarContent","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})},av=e=>{let{children:t,headerTitle:a}=e,{ref:d}=(0,s.g)(),u=(0,l.useRouter)(),p=!!d&&"/project/[ref]"!==u.pathname;return(0,n.jsx)(c.GB,{defaultOpen:!1,"data-sentry-element":"SidebarProvider","data-sentry-component":"DefaultLayout","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsx)(tA.g3,{projectRef:d,"data-sentry-element":"ProjectContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsx)(o.WQ,{"data-sentry-element":"AppBannerContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,n.jsxs)("div",{className:"flex flex-col h-screen w-screen",children:[(0,n.jsx)(r.H,{"data-sentry-element":"AppBannerWrapper","data-sentry-source-file":"DefaultLayout.tsx"}),(0,n.jsxs)("div",{className:"flex-shrink-0",children:[(0,n.jsx)(aj,{"data-sentry-element":"MobileNavigationBar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,n.jsx)(ah,{showProductMenu:p,headerTitle:a,"data-sentry-element":"LayoutHeader","data-sentry-source-file":"DefaultLayout.tsx"})]}),(0,n.jsxs)("div",{className:"flex flex-1 w-full overflow-y-hidden",children:[(0,n.jsx)(i.Bx,{"data-sentry-element":"Sidebar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,n.jsx)("div",{className:"flex-grow h-full overflow-y-auto",children:t})]})]})})})})}},3829:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(80263),s=a(34531),r=a(72463),o=a(53239),i=a(30789),l=a(59399),c=a(39271),d=a(53555);let u=(0,r.A)((e,t)=>({items:e,...t})),p=(0,o.memo)(e=>{let{data:t,index:a,style:s}=e,{items:r,itemProps:o,ItemComponent:i,listRef:l,LoaderComponent:c}=t,u=a<r.length?r[a]:void 0;return u?(0,n.jsx)("div",{style:s,children:(0,n.jsx)(i,{index:a,item:u,listRef:l,...o})}):void 0!==c?(0,n.jsx)("div",{style:s,children:c}):(0,n.jsx)("div",{className:"space-y-1 my-1",style:s,children:(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2",children:[(0,n.jsx)(d.E,{className:"h-4 w-5"}),(0,n.jsx)(d.E,{className:"w-40 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2",children:[(0,n.jsx)(d.E,{className:"h-4 w-5"}),(0,n.jsx)(d.E,{className:"w-32 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-75",children:[(0,n.jsx)(d.E,{className:"h-4 w-5"}),(0,n.jsx)(d.E,{className:"w-20 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-50",children:[(0,n.jsx)(d.E,{className:"h-4 w-5"}),(0,n.jsx)(d.E,{className:"w-40 h-4"})]}),(0,n.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-25",children:[(0,n.jsx)(d.E,{className:"h-4 w-5"}),(0,n.jsx)(d.E,{className:"w-20 h-4"})]})]})})},l.t7);p.displayName="Item";let m=(0,o.memo)(function(e){let{items:t=[],itemProps:a,hasNextPage:s=!1,isLoadingNextPage:r=!1,getItemSize:d=()=>40,onLoadNextPage:m=()=>{},ItemComponent:x=()=>null,LoaderComponent:h}=e,f=(0,o.useRef)(),g=r?()=>{}:m,b=e=>!s||e<t.length,y=s?t.length+1:t.length,j=u(t,{itemProps:a,ItemComponent:x,LoaderComponent:h,listRef:f});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex-grow",children:(0,n.jsx)(i.Ay,{"data-sentry-element":"AutoSizer","data-sentry-source-file":"InfiniteList.tsx",children:e=>{let{height:t,width:a}=e;return(0,n.jsx)(c.A,{itemCount:y,isItemLoaded:b,loadMoreItems:g,children:e=>{let{onItemsRendered:s,ref:r}=e;return(0,n.jsx)(l._m,{ref:e=>{r(e),f.current=e},height:null!=t?t:0,width:null!=a?a:0,itemCount:y,itemData:j,itemSize:d,onItemsRendered:s,children:p})}})}})}),(0,n.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none"}})]})},s.Pi)},6772:(e,t,a)=>{"use strict";a.d(t,{Jx:()=>d,Vh:()=>c,u5:()=>o,uJ:()=>i});var n=a(56947),s=a(65172),r=a(47620);let o=2,i=5;async function l(e,t){let{projectRef:a}=e;if(!a)throw Error("Project ref is required");let{data:n,error:r}=await (0,s.Jt)("/platform/projects/{ref}/databases",{params:{path:{ref:a}},signal:t});return r&&(0,s.H4)(r),n}let c=function(e){let{projectRef:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)(r.p.list(t),e=>{let{signal:a}=e;return l({projectRef:t},a)},{enabled:a&&void 0!==t,...s})},d=e=>{let{projectRef:t}=e,{data:a=[],error:n,isLoading:s,isError:r,isSuccess:o}=c({projectRef:t});return{database:a.find(e=>e.identifier===t),error:n,isLoading:s,isError:r,isSuccess:o}}},7124:(e,t,a)=>{"use strict";a.d(t,{s:()=>n});let n={orgSubscription:e=>["organizations",e,"subscription"],orgPlans:e=>["organizations",e,"plans"],addons:e=>["projects",e,"addons"]}},15052:(e,t,a)=>{"use strict";a.d(t,{d:()=>n});let n={cliReleaseVersion:()=>["cliReleaseVersion"],defaultRegion:(e,t)=>["defaultRegion",[e,t]],ipAddress:()=>["ip-address"]}},16265:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});var n=a(80263),s=a(83927),r=a.n(s),o=a(28881),i=a(72259),l=a(80903),c=a(3689),d=a(15601),u=a.n(d),p=a(24400),m=a(32466),x=a(53239),h=a(90478),f=a(58696),g=a(78358),b=a(6772),y=a(61662),j=a(63492),v=a(54474),N=a(9681),w=a(40022),k=a(51500),_=a(61965),S=a(80016),C=a(78721);let A=e=>{var t;let{selectedDatabaseId:a,variant:s="regular",additionalOptions:d=[],onSelectId:A=r(),buttonProps:P,onCreateReplicaClick:L=r(),portal:I=!0}=e,R=(0,p.useRouter)(),{ref:D}=(0,h.g)(),[E,z]=(0,x.useState)(!1),[,T]=(0,m.ZA)("showConnect",m.cr.withDefault(!1)),F=(0,v.RE)(),B=null!=a?a:F.selectedDatabaseId,{data:M,isLoading:O,isSuccess:W}=(0,b.Vh)({projectRef:D}),H=null!=M?M:[],U=H.sort((e,t)=>+(e.inserted_at>t.inserted_at)).sort(e=>e.identifier===D?-1:0),q=H.find(e=>e.identifier===B),G=(0,y.x)(null!=(t=null==q?void 0:q.region)?t:""),V=(0,y.s)(null!=B?B:""),$=d.find(e=>e.id===B);return(0,x.useEffect)(()=>{a&&F.setSelectedDatabaseId(a)},[a]),(0,n.jsxs)(N.AM,{open:E,onOpenChange:z,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"DatabaseSelector","data-sentry-source-file":"DatabaseSelector.tsx",children:[(0,n.jsx)(N.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsxs)("div",{className:"flex cursor-pointer",children:[(0,n.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Source"}),(0,n.jsx)(w.$,{type:"default",icon:O&&(0,n.jsx)(o.A,{className:"animate-spin"}),iconRight:(0,n.jsx)(i.A,{strokeWidth:1.5,size:12}),...P,className:(0,k.cn)("pr-2 rounded-l-none","connected-on-right"===s&&"rounded-r-none","connected-on-left"===s&&"rounded-l-none border-l-0","connected-on-both"===s&&"rounded-none border-x-0",null==P?void 0:P.className),"data-sentry-element":"Button","data-sentry-source-file":"DatabaseSelector.tsx",children:$?(0,n.jsx)("span",{children:$.name}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"capitalize",children:O||(null==q?void 0:q.identifier)===D?"Primary database":"Read replica"})," ",W&&(null==q?void 0:q.identifier)!==D&&(0,n.jsxs)("span",{children:["(",G," - ",V,")"]})]})})]})}),(0,n.jsx)(N.hl,{className:"p-0 w-64",side:"bottom",align:"end",portal:I,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsx)(_.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsxs)(_.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:[d.length>0&&(0,n.jsx)(_.L$,{className:"border-b",children:d.map(e=>(0,n.jsx)(_.h_,{value:e.id,className:"cursor-pointer w-full",onSelect:()=>{F.setSelectedDatabaseId(e.id),z(!1),A(e.id)},onClick:()=>{F.setSelectedDatabaseId(e.id),z(!1),A(e.id)},children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsx)("p",{children:e.name}),e.id===B&&(0,n.jsx)(l.A,{size:14})]})},e.id))}),(0,n.jsx)(_.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,n.jsx)(S.FK,{className:(H||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"DatabaseSelector.tsx",children:null==U?void 0:U.map(e=>{let t=(0,y.x)(e.region),a=(0,y.s)(e.identifier);if("ACTIVE_HEALTHY"!==e.status){let s=[g.O5.INIT_READ_REPLICA,g.O5.COMING_UP].includes(e.status)?"coming up":"not healthy";return(0,n.jsxs)(C.m_,{children:[(0,n.jsx)(C.k$,{asChild:!0,children:(0,n.jsx)("div",{className:"px-2 py-1.5 w-full flex items-center justify-between",children:(0,n.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["Read replica (",t," - ",a,")"]})})}),(0,n.jsx)(C.ZI,{side:"right",className:"w-80",children:(0,n.jsx)(f.o,{className:"text-xs text-foreground",content:"Replica unable to accept requests as its ".concat(s,". [View infrastructure settings](/project/").concat(D,"/settings/infrastructure) for more information.")})})]},e.identifier)}return(0,n.jsx)(_.h_,{value:e.identifier,className:"cursor-pointer w-full",onSelect:()=>{F.setSelectedDatabaseId(e.identifier),z(!1),A(e.identifier)},onClick:()=>{F.setSelectedDatabaseId(e.identifier),z(!1),A(e.identifier)},children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsx)("p",{children:e.identifier===D?"Primary database":"Read replica (".concat(t," - ").concat(a,")")}),e.identifier===B&&(0,n.jsx)(l.A,{size:16})]})},e.identifier)})})}),j.pe&&(0,n.jsx)(_.L$,{className:"border-t",children:(0,n.jsx)(_.h_,{className:"cursor-pointer w-full",onSelect:()=>{z(!1),R.push("/project/".concat(D,"/settings/infrastructure"))},onClick:()=>z(!1),children:(0,n.jsxs)(u(),{href:"/project/".concat(D,"/settings/infrastructure"),onClick:()=>{z(!1),T(null),null==L||L()},className:"w-full flex items-center gap-2",children:[(0,n.jsx)(c.A,{size:14,strokeWidth:1.5}),(0,n.jsx)("p",{children:"Create a new read replica"})]})})})]})})})]})}},20313:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(80263),s=a(15601),r=a.n(s),o=a(1012),i=a(86254),l=a(40022);let c=e=>{var t;let{projectRef:a,subject:s,error:c,className:d,showIcon:u=!0,children:p}=e,m=null==s?void 0:s.replace(/ /g,"%20"),x="/support/new?category=dashboard_bug";a&&(x+="&ref=".concat(a)),m&&(x+="&subject=".concat(m)),c&&(x+="&error=".concat(c.message));let h=(null==c||null==(t=c.message)?void 0:t.includes("503"))?"503 Service Temporarily Unavailable":null==c?void 0:c.message;return(0,n.jsxs)(o.Fc,{className:d,variant:"warning",title:s,"data-sentry-element":"Alert_Shadcn_","data-sentry-component":"AlertError","data-sentry-source-file":"AlertError.tsx",children:[u&&(0,n.jsx)(i.id,{className:"h-4 w-4",strokeWidth:2}),(0,n.jsx)(o.XL,{className:"text-foreground","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:s}),(0,n.jsxs)(o.TN,{className:"flex flex-col gap-3 break-words","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:[(0,n.jsxs)("div",{children:[(null==c?void 0:c.message)&&(0,n.jsxs)("p",{className:"text-left",children:["Error: ",h]}),(0,n.jsx)("p",{className:"text-left",children:"Try refreshing your browser, but if the issue persists for more than a few minutes, please reach out to us via support."})]}),p,(0,n.jsx)(l.$,{asChild:!0,type:"warning",className:"w-min","data-sentry-element":"Button","data-sentry-source-file":"AlertError.tsx",children:(0,n.jsx)(r(),{href:x,"data-sentry-element":"Link","data-sentry-source-file":"AlertError.tsx",children:"Contact support"})})]})]})}},20438:(e,t,a)=>{"use strict";a.d(t,{Q:()=>l});var n=a(56947),s=a(65172),r=a(63492),o=a(7124);async function i(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let{error:n,data:r}=await (0,s.Jt)("/platform/projects/{ref}/billing/addons",{params:{path:{ref:a}},signal:t});return n&&(0,s.H4)(n),r}let l=function(e){let{projectRef:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)(o.s.addons(t),e=>{let{signal:a}=e;return i({projectRef:t},a)},{enabled:a&&r.pe&&void 0!==t,staleTime:36e5,...s})}},23748:(e,t,a)=>{"use strict";a.d(t,{kD:()=>l,o2:()=>c});var n=a(17702),s=a(15629),r=a(85265),o=a(58537);async function i(e,t){let{projectRef:a,connectionString:n,schemas:o=["public"],search:i,limit:l=100,page:c=0,sort:d="alphabetical",filterTypes:u=Object.values(r.z)}=e,p='\n    with records as (\n      select\n        c.oid::int8 as "id",\n        nc.nspname as "schema",\n        c.relname as "name",\n        c.relkind as "type",\n        case c.relkind\n          when \'r\' then 1\n          when \'v\' then 2\n          when \'m\' then 3\n          when \'f\' then 4\n          when \'p\' then 5\n        end as "type_sort",\n        obj_description(c.oid) as "comment",\n        count(*) over() as "count",\n        c.relrowsecurity as "rls_enabled"\n      from\n        pg_namespace nc\n        join pg_class c on nc.oid = c.relnamespace\n      where\n        c.relkind in ('.concat(u.map(e=>"'".concat(e,"'")).join(", "),")\n        and not pg_is_other_temp_schema(nc.oid)\n        and (\n          pg_has_role(c.relowner, 'USAGE')\n          or has_table_privilege(\n            c.oid,\n            'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n          )\n          or has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n        )\n        and nc.nspname in (").concat(o.map(e=>"'".concat(e,"'")),")\n        ").concat(i?"and c.relname ilike '%".concat(i,"%'"):"","\n      order by ").concat("alphabetical"===d?"c.relname asc":'"type_sort" asc, c.relname asc',"\n      limit ").concat(l,"\n      offset ").concat(c*l,"\n    )\n    select\n      jsonb_build_object(\n        'entities', coalesce(jsonb_agg(\n          jsonb_build_object(\n            'id', r.id,\n            'schema', r.schema,\n            'name', r.name,\n            'type', r.type,\n            'comment', r.comment,\n            'rls_enabled', r.rls_enabled\n          )\n          order by ").concat("alphabetical"===d?"r.name asc":"r.type_sort asc, r.name asc","\n        ), '[]'::jsonb),\n        'count', coalesce(min(r.count), 0)\n      ) \"data\"\n    from records r;\n  "),{result:m}=await (0,s.E)({projectRef:a,connectionString:n,sql:p,queryKey:["entity-types",...o,c]},t);return m[0]}let l=function(e){let{projectRef:t,connectionString:a,schemas:s=["public"],search:r,limit:l=100,sort:c,filterTypes:d}=e,{enabled:u=!0,...p}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.q)(o.C.list(t,{schemas:s,search:r,sort:c,limit:l,filterTypes:d}),e=>{let{signal:n,pageParam:o}=e;return i({projectRef:t,connectionString:a,schemas:s,search:r,limit:l,page:o,sort:c,filterTypes:d},n)},{enabled:u&&void 0!==t,getNextPageParam(e,t){let a=t.length;if(!(a*l>=e.data.count))return a},...p})};function c(e,t){let{projectRef:a,connectionString:n,schemas:s=["public"],search:r,limit:l=100,sort:c,filterTypes:d}=t;return e.prefetchInfiniteQuery(o.C.list(a,{schemas:s,search:r,sort:c,limit:l,filterTypes:d}),e=>{let{signal:t,pageParam:o}=e;return i({projectRef:a,connectionString:n,schemas:s,search:r,limit:l,page:o,sort:c,filterTypes:d},t)})}},26367:(e,t,a)=>{"use strict";a.d(t,{h:()=>m});var n=a(80263),s=a(32144),r=a(24400),o=a(53239),i=a(98832),l=a(63604),c=a(85265),d=a(23748),u=a(65303),p=a(44187);function m(e){let{href:t,projectRef:a,children:m,...x}=e,h=function(){let e=(0,r.useRouter)(),t=(0,s.jE)(),{project:a}=(0,i.Om)(),[n]=(0,u.M)("table-editor-sort","alphabetical");return(0,o.useCallback)(()=>{a&&(e.prefetch("/project/".concat(a.ref,"/editor")),(0,l.KB)(t,{projectRef:a.ref,connectionString:a.connectionString}).catch(()=>{}),(0,d.o2)(t,{projectRef:null==a?void 0:a.ref,connectionString:null==a?void 0:a.connectionString,sort:n,filterTypes:Object.values(c.z)}).catch(()=>{}))},[n,a,t,e])}();return(0,n.jsx)(p.A,{href:t||"/project/".concat(a,"/editor"),prefetcher:h,...x,"data-sentry-element":"PrefetchableLink","data-sentry-component":"EditorIndexPageLink","data-sentry-source-file":"project.$ref.editor.tsx",children:m})}},31492:(e,t,a)=>{"use strict";a.d(t,{X:()=>u});var n=a(80263),s=a(796),r=a(29257),o=a(53239),i=a(40022),l=a(51500),c=a(52647);!function(e){let t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],a=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,n={pattern:RegExp(a+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[n,{pattern:RegExp(a+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:n.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":n,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(r.My);let d={defaultLanguage:"js"},u=e=>{var t;let{children:a,parentClassName:u,className:p,showCopy:m=!0}=e,{resolvedTheme:x}=(0,s.D)(),[h,f]=(0,o.useState)(!1),g=(0,o.useRef)(null),b=[];(0,o.useEffect)(()=>{if(!h)return;let e=setTimeout(()=>f(!1),2e3);return()=>clearTimeout(e)},[h]);let y=p&&p.replace(/language-/,"");!y&&d.defaultLanguage&&(y=d.defaultLanguage);let j=e=>{(0,c.l)(e,()=>f(!0))};return(0,n.jsx)(r.f4,{theme:"dark"===x?r.Zj.nightOwl:r.Zj.nightOwlLight,code:null!=(t=null==a?void 0:a.trim())?t:"",language:y,"data-sentry-element":"Highlight","data-sentry-component":"SimpleCodeBlock","data-sentry-source-file":"SimpleCodeBlock.tsx",children:e=>{let{className:t,tokens:s,getLineProps:r,getTokenProps:o}=e;return(0,n.jsxs)("div",{className:"Code codeBlockWrapper group",children:[(0,n.jsx)("pre",{ref:g,className:(0,l.cn)("codeBlock",t,u),children:s.map((e,t)=>{let a=r({line:e,key:t});return b.includes(t+1)&&(a.className="".concat(a.className," docusaurus-highlight-code-line")),(0,n.jsx)("div",{...a,children:e.map((e,t)=>(0,n.jsx)("span",{...o({token:e,key:t})},t))},t)})}),m&&(0,n.jsx)("div",{className:"invisible absolute right-0 top-0 opacity-0 transition-opacity group-hover:visible group-hover:opacity-100",children:(0,n.jsx)(i.$,{size:"tiny",type:"default",onClick:()=>j(a),children:h?"Copied":"Copy"})})]})}})}},32267:(e,t,a)=>{"use strict";a.d(t,{B:()=>s});var n=a(63492);let s=e=>[{title:"Manage",items:[{name:"Users",key:"users",url:"/project/".concat(e,"/auth/users"),items:[]}]},{title:"Configuration",items:[{name:"Policies",key:"policies",url:"/project/".concat(e,"/auth/policies"),items:[]},...n.pe?[{name:"Sign In / Providers",key:"sign-in-up",pages:["providers","third-party"],url:"/project/".concat(e,"/auth/providers"),items:[]},{name:"Sessions",key:"sessions",url:"/project/".concat(e,"/auth/sessions"),items:[]},{name:"Rate Limits",key:"rate-limits",url:"/project/".concat(e,"/auth/rate-limits"),items:[]},{name:"Emails",key:"emails",pages:["templates","smtp"],url:"/project/".concat(e,"/auth/templates"),items:[]},{name:"Multi-Factor",key:"mfa",url:"/project/".concat(e,"/auth/mfa"),items:[]},{name:"URL Configuration",key:"url-configuration",url:"/project/".concat(e,"/auth/url-configuration"),items:[]},{name:"Attack Protection",key:"protection",url:"/project/".concat(e,"/auth/protection"),items:[]},{name:"Auth Hooks",key:"hooks",url:"/project/".concat(e,"/auth/hooks"),items:[],label:"BETA"},{name:"Advanced",key:"advanced",url:"/project/".concat(e,"/auth/advanced"),items:[]}]:[]]}]},32735:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});let n={usage:e=>["projects",e,"usage"],orgUsage:(e,t,a,n)=>["organizations",e,"usage",t,a,n],resourceWarnings:()=>["projects","resource-warnings"]}},37283:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(80263),s=a(24400),r=a(53239),o=a(68906),i=a(32049),l=a(9919),c=a(61965),d=a(51500);let u=e=>{let{children:t,open:a=!1,onOpenChange:u}=e,p=(0,s.useRouter)(),{width:m}=(0,i.A)();return(0,r.useEffect)(()=>{u(!1)},[null==p?void 0:p.asPath]),(0,r.useEffect)(()=>{u(!1)},[m]),(0,n.jsx)(l.cj,{open:a,onOpenChange:u,"data-sentry-element":"Sheet","data-sentry-component":"MobileSheetNav","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,n.jsx)(l.h,{id:"mobile-sheet-content",showClose:!1,size:"full",side:"bottom",className:(0,d.cn)("rounded-t-lg overflow-hidden overflow-y-scroll","h-[85dvh] md:max-h-[500px] py-2"),"data-sentry-element":"SheetContent","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,n.jsx)(o.tH,{FallbackComponent:()=>(0,n.jsx)(c.xL,{}),"data-sentry-element":"ErrorBoundary","data-sentry-source-file":"MobileSheetNav.tsx",children:t})})})}},40990:(e,t,a)=>{"use strict";a.d(t,{TR:()=>j,bq:()=>f,eb:()=>v,gC:()=>y,l6:()=>p,mi:()=>N,s3:()=>m,yv:()=>x});var n=a(80263),s=a(26933),r=a(72259),o=a(11462),i=a(80903),l=a(53239),c=a(79279),d=a(32682),u=a(51500);let p=s.bL,m=s.YJ,x=l.forwardRef((e,t)=>{let{placeholder:a,...r}=e;return(0,n.jsx)(s.WT,{placeholder:"string"==typeof a?(0,n.jsx)("span",{children:a}):a,...r,ref:t})});x.displayName=s.WT.displayName;let h=(0,c.F)("",{variants:{size:{...d.vs}},defaultVariants:{size:d.FE}}),f=l.forwardRef((e,t)=>{let{className:a,children:o,size:i,...l}=e;return(0,n.jsxs)(s.l9,{ref:t,className:(0,u.cn)("flex w-full items-center justify-between rounded-md border border-strong hover:border-stronger bg-alternative dark:bg-muted hover:bg-selection text-xs ring-offset-background-control data-[placeholder]:text-foreground-lighter focus:outline-none ring-border-control focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200","data-[state=open]:bg-selection data-[state=open]:border-stronger","gap-2",h({size:i}),a),...l,children:[o,(0,n.jsx)(s.In,{asChild:!0,children:(0,n.jsx)(r.A,{className:"h-4 w-4 text-foreground-lighter",strokeWidth:1.5})})]})});f.displayName=s.l9.displayName;let g=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.PP,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1 text-foreground-muted",a),...r,children:(0,n.jsx)(o.A,{className:"h-4 w-4"})})});g.displayName=s.PP.displayName;let b=l.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(s.wn,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1 text-foreground-muted",a),...o,children:(0,n.jsx)(r.A,{className:"h-4 w-4"})})});b.displayName=s.wn.displayName;let y=l.forwardRef((e,t)=>{let{className:a,children:r,position:o="popper",...i}=e;return(0,n.jsx)(s.ZL,{children:(0,n.jsxs)(s.UC,{ref:t,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-overlay text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...i,children:[(0,n.jsx)(g,{}),(0,n.jsx)(s.LM,{className:(0,u.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,n.jsx)(b,{})]})})});y.displayName=s.UC.displayName;let j=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.JU,{ref:t,className:(0,u.cn)("py-1.5 pl-8 pr-2 text-xs text-foreground-lighter/75 uppercase tracking-wider font-mono",a),...r})});j.displayName=s.JU.displayName;let v=l.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,n.jsxs)(s.q7,{ref:t,className:(0,u.cn)("group","relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-overlay-hover text-foreground-light focus:text-foreground data-[state=checked]:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.VF,{className:"h-3.5 w-3.5 bg-foreground rounded-full flex justify-center items-center",children:(0,n.jsx)(i.A,{className:"h-2 w-2 text-background-overlay",strokeWidth:6})})}),(0,n.jsx)(s.p4,{children:"string"==typeof r?(0,n.jsx)("span",{children:r}):r})]})});v.displayName=s.q7.displayName;let N=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.wv,{ref:t,className:(0,u.cn)("-mx-1 my-1 h-px bg-border-overlay",a),...r})});N.displayName=s.wv.displayName},43969:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(80263),s=a(22977),r=a(53239),o=a(51500),i=a(55568),l=a(2119),c=a(40022);function d(e){let t=(0,n.jsxs)("div",{className:(0,o.cn)("bg-surface-100","rounded-md border shadow-sm",e.noHideOverflow?"":"overflow-hidden",e.noMargin?"":"mb-4 md:mb-8",e.className),id:e.id,children:[e.title&&(0,n.jsx)("div",{className:(0,o.cn)("bg-surface-100 border-b border-default flex items-center px-4 py-4",e.titleClasses),children:e.title}),e.children,e.footer&&(0,n.jsx)(u,{children:e.footer})]});return!1===e.wrapWithLoading?t:(0,n.jsx)(i.A,{active:!!e.loading,"data-sentry-element":"Loading","data-sentry-component":"Panel","data-sentry-source-file":"Panel.tsx",children:t})}function u(e){let{children:t}=e;return(0,n.jsx)("div",{className:"bg-surface-100 border-t border-default","data-sentry-component":"Footer","data-sentry-source-file":"Panel.tsx",children:(0,n.jsx)("div",{className:"flex h-12 items-center px-4",children:t})})}let p=(0,r.forwardRef)((e,t)=>{let{className:a,title:r,description:i,href:d,buttonText:u,layout:p="horizontal",badgeLabel:m,...x}=e;return(0,n.jsxs)("div",{ref:t,...x,className:(0,o.cn)("relative px-4 py-5 bg-studio flex flex-col lg:flex-row lg:justify-between gap-6 overflow-hidden lg:items-center","vertical"===p&&"!flex-col !items-start gap-y-2",a),children:[(0,n.jsx)("div",{className:"absolute inset-0 -mt-[5px]",style:{backgroundImage:"\n                linear-gradient(to right, hsl(var(--background-200)/1) 0%, hsl(var(--background-200)/1) 30%, hsl(var(--background-200)/0) 100%),\n                linear-gradient(to right, hsl(var(--border-default)/0.33) 1px, transparent 1px),\n                linear-gradient(to bottom, hsl(var(--border-default)/0.33) 1px, transparent 1px)\n              ",backgroundSize:"100% 100%, 15px 15px, 15px 15px",backgroundPosition:"0 0, 0 0, 0 0"}}),(0,n.jsxs)("div",{className:"relative flex flex-col gap-y-2",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center -space-x-px",children:[(0,n.jsxs)(l.E,{variant:"default",className:"rounded-r-none pr-2 flex-shrink-0 gap-1.5 border-dashed bg-opacity-0 bg-surface-400 text-foreground-lighter",children:[(0,n.jsx)(s.A,{size:16,strokeWidth:1.2}),(0,n.jsx)("span",{className:"text-foreground-lighter",children:null!=m?m:"Upcoming change"})]}),(0,n.jsx)(l.E,{variant:"default",className:"rounded-l-none flex-shrink-0 gap-1.5 bg-opacity-0 bg-surface-400 text-foreground-lighter border-l-0",children:(0,n.jsx)("span",{className:"text-foreground text-xs",children:r})})]}),i&&(0,n.jsx)("div",{className:"text-foreground-light text-sm flex flex-col gap-0",children:(0,n.jsx)("div",{className:"prose text-xs max-w-none [&_p]:mt-2 [&_p]:mb-0",children:i})})]}),d&&(0,n.jsx)(c.$,{size:"tiny",type:"default",className:"text-xs",asChild:!0,children:(0,n.jsx)("a",{href:d,target:"_blank",rel:"noreferrer noopener",children:null!=u?u:"Read the accouncement"})})]})});p.displayName="PanelNotice",d.Content=function(e){let{children:t,className:a}=e;return(0,n.jsx)("div",{className:(0,o.cn)("px-4 py-4",a),"data-sentry-component":"Content","data-sentry-source-file":"Panel.tsx",children:t})},d.Footer=u,d.Notice=p;let m=d},44187:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(80263),s=a(15601),r=a.n(s),o=a(53239);let i=(0,o.forwardRef)(function(e,t){let{prefetcher:a,children:s,...i}=e,l=(0,o.useRef)(null),c=(0,o.useRef)(null);function d(){let e=Date.now();l.current&&e-l.current>=75&&a()}return(0,n.jsx)(r(),{ref:t,...i,onMouseEnter:function(){l.current=Date.now(),c.current=window.setTimeout(d,75)},onMouseLeave:function(){l.current=null,c.current&&(clearTimeout(c.current),c.current=null)},children:s})})},46312:(e,t,a)=>{"use strict";a.d(t,{BP:()=>r,EN:()=>s,O8:()=>i,mS:()=>o});var n=a(63492);let s=e=>{let t=e.find(e=>"compute_instance"===e.type),a=e.find(e=>"pitr"===e.type);return{computeInstance:t,pitr:a,customDomain:e.find(e=>"custom_domain"===e.type),ipv4:e.find(e=>"ipv4"===e.type)}},r=e=>{var t;return!!n.pe&&(null!=(t=null==e?void 0:e.addons)?t:[]).some(e=>"addon_security_hipaa"===e.supabase_prod_id)},o=e=>{if(!e)return e;switch(e){case"fly":return"Fly.io";case"aws":return"AWS";case"vercel_marketplace":return"Vercel";default:return e}},i=(e,t)=>{var a,n;return e&&t&&null!=(n=null==(a=({free:{free:"none",pro:"upgrade",team:"upgrade",enterprise:"upgrade"},pro:{free:"downgrade",pro:"none",team:"upgrade",enterprise:"upgrade"},team:{free:"downgrade",pro:"downgrade",team:"none",enterprise:"upgrade"},enterprise:{free:"downgrade",pro:"downgrade",team:"downgrade",enterprise:"none"}})[e])?void 0:a[t])?n:"none"}},46964:(e,t,a)=>{"use strict";a.d(t,{n:()=>l});var n=a(56947),s=a(65172),r=a(63492),o=a(32735);async function i(e,t){let{orgSlug:a,projectRef:n,start:r,end:o}=e;if(!a)throw Error("orgSlug is required");let{data:i,error:l}=await (0,s.Jt)("/platform/organizations/{slug}/usage",{params:{path:{slug:a},query:{project_ref:n,start:null==r?void 0:r.toISOString(),end:null==o?void 0:o.toISOString()}},signal:t});return l&&(0,s.H4)(l),i}let l=function(e){let{orgSlug:t,projectRef:a,start:s,end:l}=e,{enabled:c=!0,...d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)(o.E.orgUsage(t,a,null==s?void 0:s.toISOString(),null==l?void 0:l.toISOString()),e=>{let{signal:n}=e;return i({orgSlug:t,projectRef:a,start:s,end:l},n)},{enabled:c&&r.pe&&void 0!==t,staleTime:18e5,...d})}},47620:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});let n={list:e=>["project",e,"replicas"],statuses:e=>["project",e,"replicas-statuses"],loadBalancers:e=>["project",e,"load-balancers"],replicaLag:(e,t)=>["project",e,"replica-lag",t]}},49812:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(80263),s=a(13730);a(53239);var r=a(25643),o=a(70800);function i(e){let{align:t="center",ariaLabel:a,arrow:r=!1,children:i,className:l,defaultOpen:c=!1,modal:d,onOpenChange:u,open:p,overlay:m,side:x="bottom",sideOffset:h=6,style:f,header:g,footer:b,size:y="content",disabled:j,"data-testid":v}=e,N=(0,o.A)("popover"),w=[N.content,N.size[y]];return l&&w.push(l),(0,n.jsxs)(s.bL,{defaultOpen:c,modal:d,onOpenChange:u,open:p,"data-sentry-element":"unknown","data-sentry-component":"Popover","data-sentry-source-file":"Popover.tsx",children:[(0,n.jsx)(s.l9,{disabled:j,className:N.trigger,"aria-label":a,"data-testid":v,"data-sentry-element":"unknown","data-sentry-source-file":"Popover.tsx",children:i}),(0,n.jsx)(s.ZL,{"data-sentry-element":"unknown","data-sentry-source-file":"Popover.tsx",children:(0,n.jsxs)(s.UC,{sideOffset:h,side:x,align:t,className:w.join(" "),style:f,"data-sentry-element":"unknown","data-sentry-source-file":"Popover.tsx",children:[r&&(0,n.jsx)(s.i3,{offset:10}),g&&(0,n.jsx)("div",{className:N.header,children:g}),m,b&&(0,n.jsx)("div",{className:N.footer,children:b})]})})]})}i.Separator=function(){let e=(0,o.A)("popover");return(0,n.jsx)("div",{className:e.separator,"data-sentry-component":"Separator","data-sentry-source-file":"Popover.tsx"})},i.Close=function(){let e=(0,o.A)("popover");return(0,n.jsx)(s.bm,{className:e.close,"data-sentry-element":"unknown","data-sentry-component":"Close","data-sentry-source-file":"Popover.tsx",children:(0,n.jsx)(r.A,{size:14,strokeWidth:2,"data-sentry-element":"X","data-sentry-source-file":"Popover.tsx"})})};let l=i},50348:(e,t,a)=>{"use strict";a.d(t,{N:()=>l});var n=a(56947),s=a(65172),r=a(63492),o=a(92403);async function i(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let{data:n,error:r}=await (0,s.Jt)("/platform/projects/{ref}/config/pgbouncer",{params:{path:{ref:a}},signal:t});return r&&(0,s.H4)(r),n}let l=function(e){let{projectRef:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)(o.c.pgbouncerConfig(t),e=>{let{signal:a}=e;return i({projectRef:t},a)},{enabled:a&&void 0!==t&&r.pe,...s})}},53555:(e,t,a)=>{"use strict";a.d(t,{E:()=>r});var n=a(80263),s=a(51500);function r(e){let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...a,"data-sentry-component":"Skeleton","data-sentry-source-file":"skeleton.tsx"})}},55568:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(80263);a(53239);var s=a(28881),r=a(70800);function o(e){let{children:t,active:a}=e,o=(0,r.A)("loading"),i=[o.base],l=[o.content.base];a&&l.push(o.content.active);let c=[o.spinner];return(0,n.jsxs)("div",{className:i.join(" "),"data-sentry-component":"Loading","data-sentry-source-file":"Loading.tsx",children:[(0,n.jsx)("div",{className:l.join(" "),children:t}),a&&(0,n.jsx)(s.A,{size:24,className:c.join(" ")})]})}},56131:(e,t,a)=>{"use strict";a.d(t,{O:()=>n});let n={lint:e=>["projects",e,"lint"],lintRules:e=>["projects",e,"lint-rules"]}},60018:(e,t,a)=>{"use strict";a.d(t,{M:()=>o});var n=a(80263),s=a(18687),r=a(63492);let o=(e,t,a,o)=>{var i,l,c;let d=(null==t?void 0:t.status)===r.BU.COMING_UP,u="/project/".concat(e),p=null==(i=null==o?void 0:o.auth)||i,m=null==(l=null==o?void 0:o.edgeFunctions)||l,x=null==(c=null==o?void 0:o.storage)||c;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},...r.pe?[{name:"Compute and Disk",key:"compute-and-disk",url:"/project/".concat(e,"/settings/compute-and-disk"),items:[]}]:[],{name:"Infrastructure",key:"infrastructure",url:d?u:"/project/".concat(e,"/settings/infrastructure"),items:[]},...r.pe?[{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]},{name:"API Keys",key:"api-keys",url:"/project/".concat(e,"/settings/api-keys"),items:[],label:"NEW"},{name:"JWT Keys",key:"jwt",url:"/project/".concat(e,"/settings/jwt"),items:[],label:"NEW"}]:[],{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]},{name:"Vault",key:"vault",url:d?u:"/project/".concat(e,"/integrations/vault/overview"),items:[],rightIcon:(0,n.jsx)(s.A,{strokeWidth:1,className:"h-4 w-4"}),label:"Alpha"}]},{title:"Configuration",items:[{name:"Database",key:"database",url:d?u:"/project/".concat(e,"/settings/database"),items:[]},{name:"Data API",key:"api",url:d?u:"/project/".concat(e,"/settings/api"),items:[]},...r.pe&&p?[{name:"Authentication",key:"auth",url:d?u:"/project/".concat(e,"/settings/auth"),items:[]}]:[],...r.pe&&x?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[],...r.pe&&m?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/functions/secrets"),items:[],rightIcon:(0,n.jsx)(s.A,{strokeWidth:1,className:"h-4 w-4"})}]:[],...r.pe?[{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]}]:[]]},{title:"Billing",items:[{name:"Subscription",key:"subscription",url:"/org/".concat(null==a?void 0:a.slug,"/billing"),items:[]},{name:"Usage",key:"usage",url:"/org/".concat(null==a?void 0:a.slug,"/usage?projectRef=").concat(e),items:[]}]}]}},61662:(e,t,a)=>{"use strict";a.d(t,{s:()=>o,x:()=>i});var n=a(78358),s=a(88491),r=a.n(s);let o=e=>{var t;return r()(null!=(t=e.split("-"))?t:[])},i=e=>{var t,a;return null==(t=r()(null==(a=n.lI.find(t=>t.region===e))?void 0:a.name.split("(")))?void 0:t.split(")")[0]}},62136:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(80263),s=a(66623),r=a(40022);let o=e=>{let{href:t,abbrev:a=!0,className:o}=e;return(0,n.jsx)(r.$,{asChild:!0,type:"default",className:o,icon:(0,n.jsx)(s.A,{}),onClick:e=>e.stopPropagation(),"data-sentry-element":"Button","data-sentry-component":"DocsButton","data-sentry-source-file":"DocsButton.tsx",children:(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:a?"Docs":"Documentation"})})}},64082:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(80263),s=a(51500),r=a(78721);let o=function(e){let{organization:t,showTooltip:a=!0,tooltipText:o="This organization is managed by Vercel Marketplace.",size:i="small"}=e;if("vercel-marketplace"===t.managed_by){let e=(0,n.jsx)("svg",{className:(0,s.cn)("small"===i&&"w-2.5 h-2.5","medium"===i&&"w-3.5 h-3.5","large"===i&&"w-5 h-5"),viewBox:"0 0 76 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M37.5274 0L75.0548 65H0L37.5274 0Z",fill:"hsl(var(--foreground-default) / 1)"})});return a?(0,n.jsxs)(r.m_,{children:[(0,n.jsx)(r.k$,{asChild:!0,children:(0,n.jsx)("div",{className:(0,s.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center hover:bg-surface-400 dark:hover:bg-surface-400 hover:border-stronger flex-shrink-0","small"===i&&"h-5 w-5","medium"===i&&"w-7 h-7","large"===i&&"w-10 h-10"),children:e})}),(0,n.jsx)(r.ZI,{children:o})]}):(0,n.jsx)("div",{className:(0,s.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center flex-shrink-0","small"===i&&"h-5 w-5","medium"===i&&"w-7 h-7","large"===i&&"w-10 h-10"),children:e})}return null}},74245:(e,t,a)=>{"use strict";a.d(t,{S:()=>l});var n=a(80263),s=a(64744),r=a(80903),o=a(53239),i=a(51500);let l=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(s.bL,{ref:t,className:(0,i.cn)("peer flex items-center justify-center h-4 w-4 shrink-0 rounded border border-control bg-control/25 ring-offset-background","transition-colors duration-150 ease-in-out","hover:border-strong","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-foreground data-[state=checked]:text-background",a),...o,children:(0,n.jsx)(s.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(r.A,{className:"h-3 w-3",strokeWidth:4})})})});l.displayName=s.bL.displayName},74988:(e,t,a)=>{var n={"./androidkotlin/supabasekt/content":[48352,8352],"./astro/supabasejs/content":[84681,4681],"./drizzle/content":[81640,1640],"./exporeactnative/supabasejs/content":[61042,1042],"./flutter/supabaseflutter/content":[78677,8677],"./ionicangular/supabasejs/content":[7406,7406],"./ionicreact/supabasejs/content":[85843,5843],"./nextjs/app/supabasejs/content":[3876,3876],"./nextjs/pages/supabasejs/content":[96603,6603],"./nuxt/supabasejs/content":[49839,9839],"./prisma/content":[2178,2178],"./react/create-react-app/supabasejs/content":[32602,2602],"./react/vite/supabasejs/content":[78812,8812],"./refine/supabasejs/content":[72439,2439],"./remix/supabasejs/content":[46079,6079],"./solidjs/supabasejs/content":[32878,2878],"./sveltekit/supabasejs/content":[38051,8051],"./swift/supabaseswift/content":[9865,9865],"./vuejs/supabasejs/content":[83825,3825]};function s(e){if(!a.o(n,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],s=t[0];return a.e(t[1]).then(()=>a(s))}s.keys=()=>Object.keys(n),s.id=74988,e.exports=s},78358:(e,t,a)=>{"use strict";a.d(t,{Ed:()=>d,GT:()=>l,KQ:()=>i,M4:()=>o,O5:()=>c,Qx:()=>u,bs:()=>m,lI:()=>p,m4:()=>x});var n=a(53337),s=a(63492),r=a(78435);let o=660,i=50,l=20,c={...s.BU,INIT_READ_REPLICA:"INIT_READ_REPLICA",INIT_READ_REPLICA_FAILED:"INIT_READ_REPLICA_FAILED"},d={SOUTHEAST_ASIA:[103.8,1.37],NORTHEAST_ASIA:[139.42,35.41],NORTHEAST_ASIA_2:[126.98,37.56],CENTRAL_CANADA:[-73.6,45.5],WEST_US:[-121.96,37.35],EAST_US:[-78.45,38.13],WEST_EU:[-8,53],WEST_EU_2:[-.1,51],CENTRAL_EU:[8,50],SOUTH_ASIA:[72.88,19.08],OCEANIA:[151.2,-33.86],SOUTH_AMERICA:[-46.38,-23.34],CENTRAL_EU_2:[8.54,47.45],EAST_US_2:[-83,39.96],NORTH_EU:[17.91,59.65],WEST_EU_3:[2.35,48.86]},u={SOUTHEAST_ASIA:[103.8,1.37]},p=Object.keys(r.m_).map(e=>({key:e,name:null===r.m_||void 0===r.m_?void 0:r.m_[e].displayName,region:null===r.m_||void 0===r.m_?void 0:r.m_[e].code,coordinates:d[e]})).filter(e=>void 0!==e.coordinates),m={[n.hh.Requested]:"Requesting replica instance",[n.hh.Started]:"Launching replica instance",[n.hh.LaunchedReadReplicaInstance]:"Initiating replica setup",[n.hh.InitiatedReadReplicaSetup]:"Downloading base backup",[n.hh.DownloadedBaseBackup]:"Replaying WAL archives",[n.hh.ReplayedWalArchives]:"Completing set up",[n.hh.CompletedReadReplicaSetup]:"Completed"},x={[n.su.ReadReplicaInstanceLaunchFailed]:"Failed to launch replica",[n.su.InitiateReadReplicaSetupFailed]:"Failed to initiate replica",[n.su.DownloadBaseBackupFailed]:"Failed to download backup",[n.su.ReplayWalArchivesFailed]:"Failed to replay WAL archives",[n.su.CompleteReadReplicaSetupFailed]:"Failed to set up replica"}},80586:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>c,av:()=>d,j7:()=>l,tU:()=>i});var n=a(80263),s=a(46115),r=a(53239),o=a(51500);let i=s.bL,l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.B8,{ref:t,className:(0,o.cn)("flex items-center border-b",a),...r})});l.displayName=s.B8.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.l9,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap py-1.5 text-sm  ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:shadow-sm text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent","group",a),...r})});c.displayName=s.l9.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.UC,{ref:t,className:(0,o.cn)("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});d.displayName=s.UC.displayName},84926:(e,t,a)=>{"use strict";a.d(t,{O:()=>c});var n=a(32144),s=a(80251),r=a(73969),o=a(65172),i=a(76080);async function l(e){let{id:t,branchName:a,gitBranch:n,persistent:s,requestReview:r}=e,{data:i,error:l}=await (0,o.F6)("/v1/branches/{branch_id}",{params:{path:{branch_id:t}},body:{branch_name:a,git_branch:n,persistent:s,request_review:r}});return l&&(0,o.H4)(l),i}let c=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,n.jE)();return(0,s.n)(e=>l(e),{async onSuccess(t,a,n){let{projectRef:s}=a;await o.invalidateQueries(i.N.list(s)),await (null==e?void 0:e(t,a,n))},async onError(e,a,n){void 0===t?r.oR.error("Failed to update branch: ".concat(e.message)):t(e,a,n)},...a})}},85265:(e,t,a)=>{"use strict";a.d(t,{z:()=>n});var n=function(e){return e.TABLE="r",e.VIEW="v",e.MATERIALIZED_VIEW="m",e.FOREIGN_TABLE="f",e.PARTITIONED_TABLE="p",e}({})},86177:(e,t,a)=>{"use strict";a.d(t,{Bx:()=>b,Yv:()=>j,CG:()=>y,Cn:()=>v,wZ:()=>N,Uj:()=>_,FX:()=>w,GB:()=>g,cL:()=>f});var n=a(80263),s=a(38694),r=a(79279),o=a(49857),i=a(53239),l=a(51500),c=a(93402),d=a(93210),u=a(77635),p=a(9919),m=a(53555),x=a(78721);let h=i.createContext(null);function f(){let e=i.useContext(h);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let g=i.forwardRef((e,t)=>{let{defaultOpen:a=!0,open:s,onOpenChange:r,className:o,style:c,children:d,...u}=e,p=function(){let[e,t]=i.useState(void 0);return i.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[m,f]=i.useState(!1),[g,b]=i.useState(a),y=null!=s?s:g,j=i.useCallback(e=>{let t="function"==typeof e?e(y):e;r?r(t):b(t),document.cookie="".concat("sidebar:state","=").concat(t,"; path=/; max-age=").concat(604800)},[r,y]),v=i.useCallback(()=>p?f(e=>!e):j(e=>!e),[p,j,f]),N=y?"expanded":"collapsed",w=i.useMemo(()=>({state:N,open:y,setOpen:j,isMobile:p,openMobile:m,setOpenMobile:f,toggleSidebar:v}),[N,y,j,p,m,f,v]);return(0,n.jsx)(h.Provider,{value:w,children:(0,n.jsx)(x.Bc,{delayDuration:0,children:(0,n.jsx)("div",{style:{"--sidebar-width":"13rem","--sidebar-width-icon":"3rem",...c},className:(0,l.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",o),ref:t,...u,children:d})})})});g.displayName="SidebarProvider";let b=i.forwardRef((e,t)=>{let{overflowing:a=!1,side:s="left",variant:r="sidebar",collapsible:o="offcanvas",className:i,children:c,...d}=e,{isMobile:u,state:m,openMobile:x,setOpenMobile:h}=f();return"none"===o?(0,n.jsx)("div",{className:(0,l.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:t,...d,children:c}):u?(0,n.jsx)(p.cj,{open:x,onOpenChange:h,...d,children:(0,n.jsx)(p.h,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:s,children:(0,n.jsx)("div",{className:"flex h-full w-full flex-col",children:c})})}):(0,n.jsxs)("div",{ref:t,className:(0,l.cn)(a?"w-12":"","relative group peer hidden md:block text-sidebar-foreground","flex-shrink-0"),"data-state":m,"data-collapsible":"collapsed"===m?o:"","data-variant":r,"data-side":s,children:[(0,n.jsx)("div",{className:(0,l.cn)(a?"absolute top-0":"relative","duration-100 h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===r||"inset"===r?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,n.jsx)("div",{className:(0,l.cn)("absolute top-0 h-full","duration-100 inset-y-0 z-10 hidden w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===s?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===r||"inset"===r?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...d,children:(0,n.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:c})})]})});b.displayName="Sidebar",i.forwardRef((e,t)=>{let{className:a,onClick:s,...r}=e,{toggleSidebar:i}=f();return(0,n.jsxs)(c.$,{ref:t,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,l.cn)("h-7 w-7",a),onClick:e=>{null==s||s(e),i()},...r,children:[(0,n.jsx)(o.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}).displayName="SidebarTrigger",i.forwardRef((e,t)=>{let{className:a,...s}=e,{toggleSidebar:r}=f();return(0,n.jsx)("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:(0,l.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",a),...s})}).displayName="SidebarRail",i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("main",{ref:t,className:(0,l.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",a),...s})}).displayName="SidebarInset",i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(d.p,{ref:t,"data-sidebar":"input",className:(0,l.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",a),...s})}).displayName="SidebarInput",i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"header",className:(0,l.cn)("flex flex-col gap-2 p-2",a),...s})}).displayName="SidebarHeader";let y=i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"footer",className:(0,l.cn)("flex flex-col gap-2 p-2",a),...s})});y.displayName="SidebarFooter",i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(u.w,{ref:t,"data-sidebar":"separator",className:(0,l.cn)("mx-2 w-auto bg-sidebar-border",a),...s})}).displayName="SidebarSeparator";let j=i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"content",className:(0,l.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...s})});j.displayName="SidebarContent";let v=i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"group",className:(0,l.cn)("relative flex w-full min-w-0 flex-col p-2",a),...s})});v.displayName="SidebarGroup",i.forwardRef((e,t)=>{let{className:a,asChild:r=!1,...o}=e,i=r?s.DX:"div";return(0,n.jsx)(i,{ref:t,"data-sidebar":"group-label",className:(0,l.cn)("duration-100 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-5 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",a),...o})}).displayName="SidebarGroupLabel",i.forwardRef((e,t)=>{let{className:a,asChild:r=!1,...o}=e,i=r?s.DX:"button";return(0,n.jsx)(i,{ref:t,"data-sidebar":"group-action",className:(0,l.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-5 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",a),...o})}).displayName="SidebarGroupAction",i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"group-content",className:(0,l.cn)("w-full text-sm",a),...s})}).displayName="SidebarGroupContent";let N=i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("ul",{ref:t,"data-sidebar":"menu",className:(0,l.cn)("flex w-full min-w-0 flex-col gap-1",a),...s})});N.displayName="SidebarMenu";let w=i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("li",{ref:t,"data-sidebar":"menu-item",className:(0,l.cn)("group/menu-item relative",a),...s})});w.displayName="SidebarMenuItem";let k=(0,r.F)((0,l.cn)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md py-2 px-1.5 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground [&>span:last-child]:truncate [&>svg]:size-5 [&>svg]:shrink-0 text-foreground-lighter data-[active=true]:text-foreground"),{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"},hasIcon:{true:"group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!pl-1.5 group-data-[collapsible=icon]:!pr-2",false:""}},defaultVariants:{variant:"default",size:"default",hasIcon:!0}}),_=i.forwardRef((e,t)=>{let{asChild:a=!1,isActive:r=!1,variant:o="default",size:i="default",hasIcon:c=!0,tooltip:d,className:u,...p}=e,m=a?s.DX:"button",{isMobile:h,state:g}=f(),b=(0,n.jsx)(m,{ref:t,"data-sidebar":"menu-button","data-size":i,"data-active":r,"data-has-icon":c,className:(0,l.cn)(k({variant:o,size:i,hasIcon:c}),u),...p});return d?("string"==typeof d&&(d={children:d}),(0,n.jsxs)(x.m_,{children:[(0,n.jsx)(x.k$,{asChild:!0,children:b}),(0,n.jsx)(x.ZI,{side:"right",align:"center",hidden:"collapsed"!==g||h,...d})]})):b});_.displayName="SidebarMenuButton",i.forwardRef((e,t)=>{let{className:a,asChild:r=!1,showOnHover:o=!1,...i}=e,c=r?s.DX:"button";return(0,n.jsx)(c,{ref:t,"data-sidebar":"menu-action",className:(0,l.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-5 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",o&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",a),...i})}).displayName="SidebarMenuAction",i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,"data-sidebar":"menu-badge",className:(0,l.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a),...s})}).displayName="SidebarMenuBadge",i.forwardRef((e,t)=>{let{className:a,showIcon:s=!1,...r}=e,o=i.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,n.jsxs)("div",{ref:t,"data-sidebar":"menu-skeleton",className:(0,l.cn)("rounded-md h-8 flex gap-2 px-2 items-center",a),...r,children:[s&&(0,n.jsx)(m.E,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,n.jsx)(m.E,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})}).displayName="SidebarMenuSkeleton",i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("ul",{ref:t,"data-sidebar":"menu-sub",className:(0,l.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",a),...s})}).displayName="SidebarMenuSub",i.forwardRef((e,t)=>{let{...a}=e;return(0,n.jsx)("li",{ref:t,...a})}).displayName="SidebarMenuSubItem",i.forwardRef((e,t)=>{let{asChild:a=!1,size:r="md",isActive:o,className:i,...c}=e,d=a?s.DX:"a";return(0,n.jsx)(d,{ref:t,"data-sidebar":"menu-sub-button","data-size":r,"data-active":o,className:(0,l.cn)("flex h-6 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-5 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===r&&"text-xs","md"===r&&"text-sm","group-data-[collapsible=icon]:hidden",i),...c})}).displayName="SidebarMenuSubButton"},88602:(e,t,a)=>{"use strict";a.d(t,{G:()=>l});var n=a(80263),s=a(53239),r=a(78721),o=a(40022),i=a(51500);let l=(0,s.forwardRef)((e,t)=>{let{...a}=e;return(0,n.jsxs)(r.m_,{children:[(0,n.jsx)(r.k$,{asChild:!0,children:(0,n.jsx)(o.$,{ref:t,...a,className:(0,i.cn)(a.className,"pointer-events-auto"),children:a.children})}),void 0!==a.tooltip.content.text&&(0,n.jsx)(r.ZI,{...a.tooltip.content,children:a.tooltip.content.text})]})});l.displayName="ButtonTooltip"},93402:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>l});var n=a(80263),s=a(38694),r=a(79279),o=a(53239),i=a(51500);let l=(0,r.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground-muted focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-300 text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-control bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,n.jsx)(u,{className:(0,i.cn)(l({variant:r,size:o,className:a})),ref:t,...d})});c.displayName="Button"},95566:(e,t,a)=>{"use strict";a.d(t,{L:()=>c});var n=a(80263),s=a(32144),r=a(24400),o=a(53239),i=a(21650),l=a(44187);function c(e){let{href:t,projectRef:a,children:c,...d}=e,u=function(){let e=(0,r.useRouter)(),t=(0,s.jE)();return(0,o.useCallback)(a=>{let{projectRef:n}=a;e.prefetch("/project/".concat(n)),(0,i.G9)(t,{ref:n}).catch(()=>{})},[t,e])}();return(0,n.jsx)(l.A,{href:t||"/project/".concat(a),prefetcher:()=>u({projectRef:a}),...d,"data-sentry-element":"PrefetchableLink","data-sentry-component":"ProjectIndexPageLink","data-sentry-source-file":"project.$ref.tsx",children:c})}},96872:(e,t,a)=>{"use strict";a.d(t,{H:()=>n});let n=e=>{var t;let{connectionInfo:a,poolingInfo:n,metadata:s}=e,r=null==n?void 0:n.connectionString.includes("options=reference"),{projectRef:o}=s,i="[YOUR-PASSWORD]",l=a.db_user,c=a.db_port,d=a.db_host,u=a.db_name,p=null==n?void 0:n.db_user,m=null==n?void 0:n.db_port,x=null==n?void 0:n.db_host,h=null==n?void 0:n.db_name,f=r?'psql "postgresql://'.concat(l,":").concat(i,"@").concat(d,":").concat(c,"/").concat(u,'"'):"psql -h ".concat(d," -p ").concat(c," -d ").concat(u," -U ").concat(l),g="postgresql://".concat(l,":").concat(i,"@").concat(d,":").concat(c,"/").concat(u),b="DATABASE_URL=".concat(g),y="jdbc:postgresql://".concat(d,":").concat(c,"/").concat(u,"?user=").concat(l,"&password=").concat(i),j='{\n  "ConnectionStrings": {\n    "DefaultConnection": "Host='.concat(d,";Database=").concat(u,";Username=").concat(l,";Password=").concat(i,';SSL Mode=Require;Trust Server Certificate=true"\n  }\n}'),v='{\n  "ConnectionStrings": {\n    "DefaultConnection": "User Id='.concat(p,";Password=").concat(i,";Server=").concat(x,";Port=").concat(m,";Database=").concat(h).concat(r?";Options='reference=".concat(o,"'"):"",'"\n  }\n}'),N=r?'psql "postgresql://'.concat(p,":").concat(i,"@").concat(x,":").concat(m,"/").concat(h,"?options=reference%3D").concat(o,'"'):"psql -h ".concat(x," -p ").concat(m," -d ").concat(h," -U ").concat(p),w=null!=(t=null==n?void 0:n.connectionString)?t:"",k="DATABASE_URL=".concat(null==n?void 0:n.connectionString),_="user=".concat(p," \npassword=").concat(i," \nhost=").concat(x,"\nport=").concat(m,"\ndbname=").concat(h).concat(r?"options=reference=".concat(o):""),S="jdbc:postgresql://".concat(x,":").concat(m,"/").concat(h,"?user=").concat(p).concat(r?"&options=reference%3D".concat(o):"","&password=").concat(i),C="user=".concat(l," \npassword=").concat(i," \nhost=").concat(d," \nport=").concat(c," \ndbname=").concat(u),A="user=".concat(p," \npassword=").concat(i," \nhost=").concat(x," \nport=").concat(m," \ndbname=").concat(h);return{direct:{psql:f,uri:g,golang:b,jdbc:y,dotnet:j,nodejs:"DATABASE_URL=".concat(g),php:b,python:b,sqlalchemy:C},pooler:{psql:N,uri:w,golang:_,jdbc:S,dotnet:v,nodejs:k,php:_,python:_,sqlalchemy:A}}}},97175:(e,t,a)=>{"use strict";a.d(t,{k:()=>o});var n=a(80263),s=a(63492),r=a(18687);let o=(e,t)=>{var a;let o=null!=(a=null==e?void 0:e.ref)?a:"default",{pgNetExtensionExists:i,pitrEnabled:l,columnLevelPrivileges:c,enablePgReplicate:d}=t||{};return[{title:"Database Management",items:[{name:"Schema Visualizer",key:"schemas",url:"/project/".concat(o,"/database/schemas"),items:[]},{name:"Tables",key:"tables",url:"/project/".concat(o,"/database/tables"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(o,"/database/functions"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(o,"/database/triggers"),items:[]},{name:"Enumerated Types",key:"types",url:"/project/".concat(o,"/database/types"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(o,"/database/extensions"),items:[]},{name:"Indexes",key:"indexes",url:"/project/".concat(o,"/database/indexes"),items:[]},{name:"Publications",key:"publications",url:"/project/".concat(o,"/database/publications"),items:[]},...d?[{name:"Replication",key:"replication",url:"/project/".concat(o,"/database/replication"),items:[]}]:[{name:"Replication",key:"replication",url:"/project/".concat(o,"/database/replication"),label:"Coming Soon",items:[]}]]},{title:"Access Control",items:[{name:"Roles",key:"roles",url:"/project/".concat(o,"/database/roles"),items:[]},...c?[{name:"Column Privileges",key:"column-privileges",url:"/project/".concat(o,"/database/column-privileges"),items:[],label:"ALPHA"}]:[],{name:"Policies",key:"policies",url:"/project/".concat(o,"/auth/policies"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]},{title:"Platform",items:[...s.pe?[{name:"Backups",key:"backups",url:l?"/project/".concat(o,"/database/backups/pitr"):"/project/".concat(o,"/database/backups/scheduled"),items:[]}]:[],{name:"Migrations",key:"migrations",url:"/project/".concat(o,"/database/migrations"),items:[]},{name:"Wrappers",key:"wrappers",url:"/project/".concat(o,"/integrations?category=wrapper"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]},...i?[{name:"Webhooks",key:"hooks",url:"/project/".concat(o,"/integrations/webhooks/overview"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]:[]]},{title:"Tools",items:[{name:"Security Advisor",key:"security-advisor",url:"/project/".concat(o,"/advisors/security"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Performance Advisor",key:"performance-advisor",url:"/project/".concat(o,"/advisors/performance"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(o,"/advisors/query-performance"),rightIcon:(0,n.jsx)(r.A,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]}]}},97600:(e,t,a)=>{"use strict";a.d(t,{x:()=>r});var n=a(33986);function s(e,t){var a;return a=!(null==t?void 0:t.includes(e)),a}function r(e){let{profile:t}=(0,n.xc)();return Array.isArray(e)?Object.fromEntries(e.map(e=>[e.replace(/:/g,"_").split("_").map((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1)).join(""),s(e,null==t?void 0:t.disabled_features)])):s(e,null==t?void 0:t.disabled_features)}},99127:(e,t,a)=>{"use strict";a.d(t,{b:()=>c});var n=a(56947),s=a(65172),r=a(5483),o=a(63492),i=a(56131);async function l(e,t){let{projectRef:a}=e;if(!a)throw Error("Project ref is required");let{data:n,error:r}=await (0,s.Jt)("/platform/projects/{ref}/run-lints",{params:{path:{ref:a}},signal:t});return r&&(0,s.H4)(r),n}let c=function(e){let{projectRef:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,r.KT)(),d=(null==c?void 0:c.status)===o.BU.ACTIVE_HEALTHY;return(0,n.I)(i.O.lint(t),e=>{let{signal:a}=e;return l({projectRef:t},a)},{enabled:a&&void 0!==t&&d,...s})}}}]);