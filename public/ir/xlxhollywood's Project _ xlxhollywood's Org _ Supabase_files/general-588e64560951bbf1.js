!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fb2bca4f-2a38-4f90-bfcb-09db5f62dff3",e._sentryDebugIdIdentifier="sentry-dbid-fb2bca4f-2a38-4f90-bfcb-09db5f62dff3")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4986,6386],{8756:(e,t,s)=>{"use strict";s.d(t,{DE:()=>l,sj:()=>o,y9:()=>n});var a=s(80263),r=s(53239);let n=e=>{let{children:t,id:s,header:r,disabled:n,className:o}=e;return(0,a.jsxs)("div",{id:s,className:["grid grid-cols-12 gap-6 px-4 md:px-8 py-4 md:py-8","".concat(n?" opacity-30":" opacity-100"),"".concat(o)].join(" "),"data-sentry-component":"FormSection","data-sentry-source-file":"FormSection.tsx",children:[r,t]})},o=e=>{let{children:t,className:s="",description:r}=e;return void 0!==r?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(s),children:[(0,a.jsx)("label",{className:"text-foreground text-sm",children:t}),r]}):(0,a.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(s),children:t})},i=()=>(0,a.jsxs)("div",{className:"flex w-full flex-col gap-2","data-sentry-component":"Shimmer","data-sentry-source-file":"FormSection.tsx",children:[(0,a.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,a.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,a.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]}),l=e=>{let{children:t,loading:s=!0,fullWidth:n,className:o}=e;return(0,a.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(n&&"!col-span-12","\n        ").concat(o,"\n      "),"data-sentry-component":"FormSectionContent","data-sentry-source-file":"FormSection.tsx",children:s?r.Children.map(t,()=>(0,a.jsx)(i,{})):t})}},11203:(e,t,s)=>{var a=s(40293);e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},13874:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var a=s(80263),r=s(44893),n=s(79279),o=s(53239),i=s(51500);let l=(0,n.F)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),c=(0,n.F)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),d=o.forwardRef((e,t)=>{let{className:s,size:n,...o}=e;return(0,a.jsx)(r.bL,{className:(0,i.cn)(l({size:n}),s),...o,ref:t,children:(0,a.jsx)(r.zi,{className:(0,i.cn)(c({size:n}))})})});d.displayName=r.bL.displayName},24771:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(80263);s(53239);let r=function(e){let{children:t,target:s="_blank",href:r,className:n,onClick:o,style:i}=e;return(0,a.jsx)("a",{onClick:o,href:r,target:s,rel:"noopener noreferrer",style:i,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})}},26860:(e,t,s)=>{"use strict";s.d(t,{A:()=>j});var a=s(80263),r=s(10726),n=s(11203),o=s.n(n),i=s(53239),l=s(1848),c=s(59676),d=s(92777),u=s(70800),m=s(51500),x=s(60115);let f=(0,i.createContext)({onChange:e=>{},selected:void 0});var p=s(80903);function h(e){let{children:t,className:s,buttonClassName:n,descriptionText:p,error:h,icon:j,id:y="",name:v="",label:g,labelOptional:b,layout:N,value:w,onChange:C,onFocus:A,onBlur:S,style:k,size:P="medium",defaultValue:_,validation:D,disabled:E,optionsWidth:T}=e,[R,F]=(0,i.useState)(void 0),[L,M]=(0,i.useState)({}),z=(0,u.A)("listbox"),B=(0,i.useRef)(null),{formContextOnChange:I,values:O,errors:H,handleBlur:V,touched:q,fieldLevelValidation:G}=(0,x.x)();O&&!w&&(w=O[y||v],_=O[y||v]),h||(H&&!h&&(h=H[y||v]),h=q&&q[y||v]?h:void 0),(0,i.useEffect)(()=>{void 0!==w&&F(w)},[w]),(0,i.useEffect)(()=>{function e(){var e;document.documentElement.style.setProperty("--width-listbox","".concat(T||(null==(e=B.current)?void 0:e.offsetWidth),"px"))}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{var e;let s=o()(t);function a(e){return s.find(t=>t.props.value===e)}if(w){F(w);let e=a(w);M((null==e?void 0:e.props)?e.props:void 0);return}if(R){let e=a(R);M((null==e?void 0:e.props)?e.props:void 0);return}if(_){F(_);let e=a(R);M((null==e?void 0:e.props)?e.props:void 0);return}M(null==(e=s[0])?void 0:e.props)},[R]);let Y=[z.container,z.base,n],U=[z.addOnBefore];return h&&Y.push(z.variants.error),h||Y.push(z.variants.standard),j&&U.push(z.with_icon),P&&Y.push(z.size[P]),E&&Y.push(z.disabled),(0,a.jsx)(l.H,{label:g,labelOptional:b,layout:N,id:y,error:h,descriptionText:p,className:s,style:k,size:P,"data-sentry-element":"FormLayout","data-sentry-component":"Listbox","data-sentry-source-file":"Listbox2.tsx",children:(0,a.jsxs)(r.bL,{"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:[(0,a.jsx)(r.l9,{asChild:!0,disabled:E,"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:(0,a.jsxs)("button",{"data-size":P,ref:B,className:(0,m.cn)(Y),onBlur:function(e){V&&V(e),S&&S(e)},onFocus:A,name:v,id:y,children:[(0,a.jsxs)("span",{className:(0,m.cn)(U),children:[j&&(0,a.jsx)(d.A,{size:P,icon:j}),(null==L?void 0:L.addOnBefore)&&(0,a.jsx)(L.addOnBefore,{}),(0,a.jsx)("span",{className:z.label,children:null==L?void 0:L.label})]}),(0,a.jsx)("span",{className:z.chevron_container,children:(0,a.jsx)("svg",{className:z.chevron,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-sentry-element":"svg","data-sentry-source-file":"Listbox2.tsx",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd","data-sentry-element":"path","data-sentry-source-file":"Listbox2.tsx"})})}),h&&(0,a.jsx)("div",{className:z.actions_container,children:h&&(0,a.jsx)(c.A,{size:P})})]})}),(0,a.jsx)(r.UC,{sideOffset:6,loop:!0,side:"bottom",align:"center",className:z.options_container,"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:(0,a.jsx)("div",{children:(0,a.jsx)(f.Provider,{value:{onChange:function(e){C&&C(e),F(e);let t={};t.target={type:"select",name:v,id:y,value:e,checked:void 0},I&&I(t),D&&G(y,D(e))},selected:R},"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:t})})})]})})}h.Option=function(e){let{id:t,value:s,label:n,disabled:o=!1,children:i,className:l="",addOnBefore:c}=e,d=(0,u.A)("listbox");return(0,a.jsx)(f.Consumer,{"data-sentry-element":"unknown","data-sentry-component":"SelectOption","data-sentry-source-file":"Listbox2.tsx",children:e=>{let{onChange:n,selected:u}=e,x=u===s;return(0,a.jsxs)(r.q7,{className:(0,m.cn)(d.option,x?d.option_active:" ",o?d.option_disabled:" ",l),onSelect:()=>o?{}:n(s),children:[(0,a.jsxs)("div",{className:d.option_inner,children:[c&&c({active:x,selected:u}),(0,a.jsx)("span",{children:"function"==typeof i?i({active:x,selected:u}):i})]}),x?(0,a.jsx)("span",{className:(0,m.cn)(d.option_check,x?d.option_check_active:""),children:(0,a.jsx)(p.A,{className:d.option_check_icon,"aria-hidden":"true"})}):null]},t)}})};let j=h},27642:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(80263),r=s(53239),n=s(40279),o=s(60115);function i(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function l(e){let{validate:t,...s}=e,[l,c]=(0,r.useReducer)(i,null),d=(0,n.Wx)({validateOnBlur:!0,...s,validationSchema:s.validationSchema,initialValues:s.initialValues,onSubmit:s.onSubmit,validate:t||function(){return l}});return(0,a.jsx)("form",{id:s.id,name:s.name,onSubmit:d.handleSubmit,className:s.className,style:s.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,a.jsx)(o.h,{values:d.values,errors:d.errors,formContextOnChange:d.handleChange,handleBlur:d.handleBlur,touched:d.touched,fieldLevelValidation:function(e,t){c({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:s.children({errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,submitCount:d.submitCount,initialValues:d.initialValues,values:d.values,handleReset:d.handleReset,resetForm:d.resetForm,setFieldValue:d.setFieldValue})})})}},31695:(e,t,s)=>{"use strict";s.d(t,{YX:()=>c,_4:()=>d,gI:()=>l,ge:()=>i,lB:()=>o});var a=s(80263),r=s(53239),n=s(51500);let o=e=>{let{children:t,header:s,footer:r}=e;return(0,a.jsxs)(i,{"data-sentry-element":"FormPanelContainer","data-sentry-component":"FormPanel","data-sentry-source-file":"FormPanel.tsx",children:[s&&(0,a.jsx)(l,{children:s}),(0,a.jsx)(c,{className:"divide-y","data-sentry-element":"FormPanelContent","data-sentry-source-file":"FormPanel.tsx",children:t}),r&&(0,a.jsx)(d,{children:r})]})},i=(0,r.forwardRef)((e,t)=>{let{children:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("bg-surface-100 border overflow-hidden rounded-md shadow max-w-full",r.className),children:s})});i.displayName=i.displayName;let l=(0,r.forwardRef)((e,t)=>{let{children:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("border-default border-b px-8 py-4",r.className),children:s})});l.displayName=l.displayName;let c=(0,r.forwardRef)((e,t)=>{let{children:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("divide-border flex flex-col gap-0",r.className),children:s})});c.displayName=c.displayName;let d=(0,r.forwardRef)((e,t)=>{let{children:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("border-t",r.className),children:s})});d.displayName=d.displayName},33503:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});var a=s(80251),r=s(73969),n=s(65172);async function o(e){let{ref:t,identifier:s}=e,a={};void 0!==s&&(a.database_identifier=s);let{data:r,error:o}=await (0,n.bE)("/platform/projects/{ref}/restart",{params:{path:{ref:t}},body:a});return o&&(0,n.H4)(o),r}let i=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.n)(e=>o(e),{async onSuccess(t,s,a){await (null==e?void 0:e(t,s,a))},async onError(e,s,a){void 0===t?r.oR.error("Failed to restart project: ".concat(e.message)):t(e,s,a)},...s})}},35721:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>e7});var a=s(80263),r=s(46312),n=s(60045),o=s(28881),i=s(53239),l=s(73969),c=s(90478),d=s(98832),u=s(20313),m=s(62136),x=s(92512),f=s(31695),p=s(8756),h=s(12578),j=s(32144),y=s(80251),v=s(65172),g=s(47114);async function b(e){let{projectRef:t,isSensitive:s}=e;if(!t)throw Error("projectRef is required");let{data:a,error:r}=await (0,v.F6)("/platform/projects/{ref}/settings/sensitivity",{params:{path:{ref:t}},body:{is_sensitive:s}});return r&&(0,v.H4)(r),a}let N=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,y.n)(e=>b(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(g.n.settingsV2(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?l.oR.error("Failed to update project compliance configuration: ".concat(e.message)):t(e,s,a)},...s})};var w=s(67575),C=s(75019),A=s(78721),S=s(13874);let k=()=>{let{ref:e}=(0,c.g)(),{project:t}=(0,d.Om)(),[s,r]=(0,i.useState)(!1),j=(0,C.SE)(n.aG.UPDATE,"projects",{resource:{project_id:null==t?void 0:t.id}}),{data:y,error:v,isError:g,isLoading:b,isSuccess:k}=(0,w.G)({projectRef:e}),P=(null==y?void 0:y.is_sensitive)||!1,{mutate:_,isLoading:D}=N({onSuccess:()=>{l.oR.success("Successfully updated project compliance configuration")},onError:e=>{r(P),l.oR.error("Failed to update project compliance configuration: ".concat(e.message))}}),E=async()=>{if(!e)return console.error("Project ref is required");r(!s),_({projectRef:e,isSensitive:!s})};return(0,i.useEffect)(()=>{b||r(P)},[b]),(0,a.jsxs)("div",{id:"compliance-configuration","data-sentry-component":"ComplianceConfig","data-sentry-source-file":"ProjectComplianceMode.tsx",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)(x.M,{className:"mb-0",title:"High Compliance Configuration",description:"For projects storing and processing sensitive data (HIPAA)","data-sentry-element":"FormHeader","data-sentry-source-file":"ProjectComplianceMode.tsx"}),(0,a.jsx)(m.A,{href:"https://supabase.com/docs/guides/platform/hipaa-projects","data-sentry-element":"DocsButton","data-sentry-source-file":"ProjectComplianceMode.tsx"})]}),(0,a.jsx)(f.lB,{"data-sentry-element":"FormPanel","data-sentry-source-file":"ProjectComplianceMode.tsx",children:(0,a.jsx)(p.y9,{header:(0,a.jsx)(p.sj,{className:"lg:col-span-9",description:(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["Enable security warnings in the"," ",(0,a.jsx)(h.g,{href:"/project/".concat(e,"/advisors/security"),children:"Security Advisor"})," ","to enforce requirements for managing sensitive data"]}),children:"Apply additional compliance controls to project"}),"data-sentry-element":"FormSection","data-sentry-source-file":"ProjectComplianceMode.tsx",children:(0,a.jsx)(p.DE,{loading:!1,className:"lg:!col-span-3","data-sentry-element":"FormSectionContent","data-sentry-source-file":"ProjectComplianceMode.tsx",children:(0,a.jsxs)("div",{className:"flex items-center justify-end mt-2.5 space-x-2",children:[(b||D)&&(0,a.jsx)(o.A,{className:"animate-spin",strokeWidth:1.5,size:16}),g&&(0,a.jsx)(u.A,{error:v,subject:"Failed to retrieve project settings"}),k&&(0,a.jsxs)(A.m_,{children:[(0,a.jsx)(A.k$,{asChild:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)(S.d,{size:"large",checked:s,disabled:b||D||!j,onCheckedChange:E})})}),!j&&(0,a.jsx)(A.ZI,{side:"bottom",className:"w-64 text-center",children:"You need additional permissions to update the compliance configuration for your project"})]})]})})})})]})};var P=s(87610),_=s(15601),D=s.n(_),E=s(43969),T=s(61957),R=s(82587),F=s(20438),L=s(23385),M=s(54660),z=s(63492);async function B(e){let{domain:t}=e;try{let e=await (0,v.x8)("".concat(z.o2,"/api/check-cname?domain=").concat(t)).then(e=>e.json());if(void 0===e.Answer)throw Error("Your CNAME record for ".concat(t," cannot be found - if you've just added the record, do check back in a bit."));return e.Answer.some(e=>5===e.type)}catch(e){(0,v.H4)(e)}}let I=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.n)(e=>B(e),{async onSuccess(t,s,a){await (null==e?void 0:e(t,s,a))},async onError(e,s,a){void 0===t?l.oR.error("Failed to check CNAME record: ".concat(e.message)):t(e,s,a)},...s})};var O=s(93145);async function H(e){let{projectRef:t}=e,{data:s,error:a}=await (0,v.bE)("/v1/projects/{ref}/custom-hostname/activate",{params:{path:{ref:t}}});return a&&(0,v.H4)(a),s}let V=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,y.n)(e=>H(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(O.c.list(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?l.oR.error("Failed to activate custom domain: ".concat(e.message)):t(e,s,a)},...s})};async function q(e){let{projectRef:t}=e,{data:s,error:a}=await (0,v.yH)("/v1/projects/{ref}/custom-hostname",{params:{path:{ref:t}}});return a&&(0,v.H4)(a),s}let G=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,y.n)(e=>q(e),{async onSuccess(t,s,r){let{projectRef:n}=s;a.setQueriesData(O.c.list(n),()=>({customDomain:null,status:"0_no_hostname_configured"})),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?l.oR.error("Failed to delete custom domain: ".concat(e.message)):t(e,s,a)},...s})};var Y=s(1012),U=s(40022),X=s(50204);let $=e=>{var t;let{projectRef:s,customDomain:r}=e,[n,o]=(0,i.useState)(!1),{data:c}=(0,w.G)({projectRef:s}),{mutate:d,isLoading:u}=I(),{mutate:x,isLoading:f}=V({onSuccess:()=>{l.oR.success("Successfully activated custom domain"),o(!1)}}),{mutate:p,isLoading:h}=G({onSuccess:()=>{l.oR.success("Custom domain setup cancelled successfully. It may take a few seconds before your custom domain is fully removed, so you may need to refresh your browser.")}}),j=null==c||null==(t=c.app_config)?void 0:t.endpoint,y=async()=>{if(!s)return console.error("Project ref is required");d({domain:r.hostname},{onSuccess:()=>x({projectRef:s})})},v=async()=>{if(!s)return console.error("Project ref is required");p({projectRef:s})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsxs)(E.A.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainActivate.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("h4",{className:"text-foreground",children:["Setup complete! Press activate to enable the custom domain"," ",(0,a.jsx)("code",{className:"text-sm",children:r.hostname})," for this project."]}),(0,a.jsx)("span",{className:"text-sm text-foreground-light",children:"We recommend that you schedule a downtime window of 20 - 30 minutes for your application, as you will need to update any services that need to know about your custom domain (e.g client side code or OAuth providers)"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)(Y.Fc,{"data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"CustomDomainActivate.tsx",children:[(0,a.jsx)(P.A,{className:"text-foreground-light",strokeWidth:1.5,"data-sentry-element":"AlertCircle","data-sentry-source-file":"CustomDomainActivate.tsx"}),(0,a.jsx)(Y.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"CustomDomainActivate.tsx",children:"Remember to retain your CNAME record for service continuity after activation"}),(0,a.jsx)(Y.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"CustomDomainActivate.tsx",children:(0,a.jsxs)("p",{className:"col-span-12 text-sm lg:col-span-7 leading-6",children:["Your custom domain CNAME record for"," ",(0,a.jsx)("code",{className:"text-xs",children:r.hostname}),"should resolve to"," ",j?(0,a.jsx)("code",{className:"text-xs",children:j}):"your project's API URL",". If you're using Cloudflare as your DNS provider, disable the proxy option."]})})]})})]}),(0,a.jsx)("div",{className:"w-full border-t border-muted"}),(0,a.jsx)(E.A.Content,{className:"w-full","data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainActivate.tsx",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m.A,{href:"https://supabase.com/docs/guides/platform/custom-domains","data-sentry-element":"DocsButton","data-sentry-source-file":"CustomDomainActivate.tsx"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(U.$,{type:"default",className:"self-end",onClick:v,loading:h,"data-sentry-element":"Button","data-sentry-source-file":"CustomDomainActivate.tsx",children:"Cancel"}),(0,a.jsx)(U.$,{icon:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),disabled:h,onClick:()=>o(!0),className:"self-end","data-sentry-element":"Button","data-sentry-source-file":"CustomDomainActivate.tsx",children:"Activate"})]})]})})]}),(0,a.jsx)(X.A,{size:"small",loading:u||f,visible:n,title:(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to activate the custom domain"," ",(0,a.jsx)("code",{className:"text-sm",children:r.hostname})," for the project?"]}),confirmLabel:"Activate",confirmLabelLoading:"Activating",onCancel:()=>o(!1),onConfirm:y,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"CustomDomainActivate.tsx",children:(0,a.jsxs)("p",{className:"text-sm",children:["This will activate the custom domain ",(0,a.jsx)("code",{children:r.hostname}),". Your project's Supabase domain will also remain active."]})})]})};var W=s(17089),Q=s(44326);let Z=e=>{let{projectRef:t,customDomain:s}=e,[r,n]=(0,i.useState)(!1),{mutate:o}=G({onSuccess:()=>{l.oR.success("Successfully deleted custom domain. It may take a few seconds before your custom domain is fully removed, hence you may need to refresh your browser."),n(!1)}}),c=async()=>{if(!t)return console.error("Project ref is required");o({projectRef:t})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.A.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainDelete.tsx",children:(0,a.jsxs)("div",{className:"w-full space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-foreground-light",children:"Active custom domain:"}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("code",{className:"text-lg mx-0 flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-brand"}),(0,a.jsx)("span",{children:s.hostname})]})}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Your custom domain is currently active and is serving traffic"})]})}),(0,a.jsx)("div",{className:"w-full border-t border-muted"}),(0,a.jsx)(E.A.Content,{className:"w-full","data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainDelete.tsx",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m.A,{href:"https://supabase.com/docs/guides/platform/custom-domains","data-sentry-element":"DocsButton","data-sentry-source-file":"CustomDomainDelete.tsx"}),(0,a.jsx)(U.$,{type:"danger",icon:(0,a.jsx)(W.A,{}),onClick:()=>n(!0),"data-sentry-element":"Button","data-sentry-source-file":"CustomDomainDelete.tsx",children:"Delete Custom Domain"})]})}),(0,a.jsx)(Q.A,{danger:!0,visible:r,title:(0,a.jsxs)("div",{children:["Are you sure you want to delete the custom domain"," ",(0,a.jsx)("code",{className:"text-sm",children:s.hostname})," for the project?"]}),description:"Your custom domain will be deactivated. You will need to re-verify your domain if you want to use it again.",buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:()=>n(!1),onSelectConfirm:c,"data-sentry-element":"ConfirmModal","data-sentry-source-file":"CustomDomainDelete.tsx"})]})};var J=s(63159),K=s(43181);async function ee(e){let{projectRef:t}=e,{data:s,error:a}=await (0,v.bE)("/v1/projects/{ref}/custom-hostname/reverify",{params:{path:{ref:t}}});return a&&(0,v.H4)(a),s}let et=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,y.n)(e=>ee(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(O.c.list(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?l.oR.error("Failed to reverify custom domain: ".concat(e.message)):t(e,s,a)},...s})};var es=s(86254),ea=s(95708);let er=e=>{let{type:t,name:s,value:r}=e;return(0,a.jsxs)("div",{className:"flex gap-4 items-center","data-sentry-component":"DNSRecord","data-sentry-source-file":"DNSRecord.tsx",children:[(0,a.jsx)("div",{className:"w-[50px]",children:(0,a.jsx)("p",{className:"font-mono text-base",children:t.toUpperCase()})}),(0,a.jsx)(ea.A,{readOnly:!0,copy:!0,disabled:!0,className:"input-mono flex-1",value:s,layout:"vertical","data-sentry-element":"Input","data-sentry-source-file":"DNSRecord.tsx"}),(0,a.jsx)(ea.A,{readOnly:!0,copy:!0,disabled:!0,className:"input-mono flex-1",value:r,layout:"vertical","data-sentry-element":"Input","data-sentry-source-file":"DNSRecord.tsx"})]})},en=e=>{let{display:t}=e;return""!==t?(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"w-[50px]",children:(0,a.jsx)("p",{className:"text-foreground-light text-sm",children:"Type"})}),(0,a.jsx)("div",{className:"text-sm grid gap-2 md:grid md:grid-cols-12 md:gap-x-4 input-mono flex-1",children:(0,a.jsx)("div",{className:"flex flex-row space-x-2 justify-between col-span-12",children:(0,a.jsx)("label",{className:"block text-foreground-light text-sm break-all",children:"Name"})})}),(0,a.jsx)("div",{className:"text-sm grid gap-2 md:grid md:grid-cols-12 md:gap-x-4 input-mono flex-1",children:(0,a.jsx)("div",{className:"flex flex-row space-x-2 justify-between col-span-12",children:(0,a.jsx)("label",{className:"block text-foreground-light text-sm break-all",children:"Content"})})})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2","data-sentry-component":"DNSTableHeaders","data-sentry-source-file":"DNSTableHeaders.tsx",children:[(0,a.jsx)(o.A,{size:14,className:"animate-spin","data-sentry-element":"Loader2","data-sentry-source-file":"DNSTableHeaders.tsx"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Validating custom domain and TLS configuration..."})]})},eo=()=>{var e,t,s,r,n,o,d,u;let{ref:x}=(0,c.g)(),[f,p]=(0,i.useState)(!1),{data:h}=(0,w.G)({projectRef:x}),{data:j}=(0,R.A)({projectRef:x}),y=null==j?void 0:j.customDomain,v=(null==y?void 0:y.ssl.status)!==void 0&&void 0===y.ssl.txt_name,{mutate:g,isLoading:b}=et({onSuccess:e=>{"2_initiated"===e.status&&p(!0)}}),{mutate:N,isLoading:C}=G({onSuccess:()=>{l.oR.success("Custom domain setup cancelled successfully. It may take a few seconds before your custom domain is fully removed, so you may need to refresh your browser.")}}),A=null==y||null==(e=y.ssl.validation_errors)?void 0:e.reduce((e,t)=>e||t.message.includes("caa_error"),!1),S=(null!=(r=null==y?void 0:y.ssl.txt_name)?r:"")==="",k=()=>{if(!x)return console.error("Project ref is required");g({projectRef:x})};!function(e,t){let s=(0,i.useRef)(e);(0,i.useEffect)(()=>{s.current=e},[e]),(0,i.useEffect)(()=>{if(!1===t)return;let e=setInterval(()=>{s.current()},t);return()=>{clearInterval(e)}},[t])}(k,!!v&&!C&&5e3);let _=async()=>{if(!x)return console.error("Project ref is required");N({projectRef:x})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(E.A.Content,{className:"space-y-6","data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainVerify.tsx",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-foreground mb-2",children:["Configure TXT verification for your custom domain"," ",(0,a.jsx)("code",{className:"text-sm",children:null==y?void 0:y.hostname})]}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Set the following TXT record(s) in your DNS provider, then click verify to confirm your control over the domain."}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Records which have been successfully verified will be removed from this list below."}),!S&&(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(Y.Fc,{variant:"default",children:[f?(0,a.jsx)(P.A,{className:"text-foreground-light",strokeWidth:1.5}):(0,a.jsx)(J.A,{className:"text-foreground-light",strokeWidth:1.5}),(0,a.jsx)(Y.XL,{children:f?"Unable to verify records from DNS provider yet.":"Please note that it may take up to 24 hours for the DNS records to propagate."}),(0,a.jsx)(Y.TN,{children:(0,a.jsxs)("div",{children:[f&&(0,a.jsx)("p",{children:"Please check again soon. Note that it may take up to 24 hours for changes in DNS records to propagate."}),(0,a.jsxs)("p",{children:["You may also visit"," ",(0,a.jsx)(D(),{target:"_blank",rel:"noreferrer",href:"https://whatsmydns.net/#TXT/".concat(null==y?void 0:y.hostname),className:"text-brand",children:"here"})," ","to check if your DNS has been propagated successfully before clicking verify."]}),f&&(0,a.jsx)("p",{className:"mt-1 text-foreground-lighter",children:"Some registrars will require you to remove the domain name when creating DNS records. As an example, to create a record for `foo.app.example.com`, you would need to create an entry for `foo.app`."})]})})]})})]}),A&&(0,a.jsxs)(Y.Fc,{children:[(0,a.jsx)(es.id,{}),(0,a.jsx)(Y.XL,{children:"Certificate Authority Authentication (CAA) error"}),(0,a.jsxs)(Y.TN,{children:['Please add a CAA record allowing "digicert.com" to issue certificates for'," ",(0,a.jsx)("code",{className:"text-xs",children:null==y?void 0:y.hostname}),". For example:"," ",(0,a.jsx)("code",{className:"text-xs",children:'0 issue "digicert.com"'})]})]}),(null==y?void 0:y.ssl.status)==="validation_timed_out"?(0,a.jsxs)(Y.Fc,{children:[(0,a.jsx)(es.id,{}),(0,a.jsx)(Y.XL,{children:"Validation timed out"}),(0,a.jsx)(Y.TN,{children:'Please click "Verify" again to retry the validation of the records'})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(en,{display:null!=(n=null==y?void 0:y.ssl.txt_name)?n:""}),(null==y||null==(t=y.verification_errors)?void 0:t.includes("custom hostname does not CNAME to this zone."))&&(0,a.jsx)(er,{type:"CNAME",name:null==y?void 0:y.hostname,value:null!=(o=null==h||null==(s=h.app_config)?void 0:s.endpoint)?o:"Loading..."}),!S&&(null==y?void 0:y.ssl.status)==="pending_validation"&&(0,a.jsx)(er,{type:"TXT",name:null!=(d=null==y?void 0:y.ssl.txt_name)?d:"Loading...",value:null!=(u=null==y?void 0:y.ssl.txt_value)?u:"Loading..."}),(null==y?void 0:y.ssl.status)==="pending_deployment"&&(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 py-8",children:[(0,a.jsx)(P.A,{size:16,strokeWidth:1.5}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"SSL certificate is being deployed. Please wait a few minutes and try again."})]})]})]}),(0,a.jsx)("div",{className:"border-t border-muted"}),(0,a.jsx)(E.A.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainVerify.tsx",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m.A,{href:"https://supabase.com/docs/guides/platform/custom-domains","data-sentry-element":"DocsButton","data-sentry-source-file":"CustomDomainVerify.tsx"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(U.$,{type:"default",onClick:_,loading:C,className:"self-end","data-sentry-element":"Button","data-sentry-source-file":"CustomDomainVerify.tsx",children:"Cancel"}),(0,a.jsx)(U.$,{icon:(0,a.jsx)(K.A,{}),onClick:k,loading:!S&&b,disabled:C||b||S,className:"self-end","data-sentry-element":"Button","data-sentry-source-file":"CustomDomainVerify.tsx",children:"Verify"})]})]})})]})};var ei=s(86692),el=s(45412);async function ec(e){let{projectRef:t,customDomain:s}=e,{data:a,error:r}=await (0,v.bE)("/v1/projects/{ref}/custom-hostname/initialize",{params:{path:{ref:t}},body:{custom_hostname:s}});return r&&(0,v.H4)(r),a}let ed=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,y.n)(e=>ec(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(O.c.list(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?l.oR.error("Failed to create custom domain: ".concat(e.message)):t(e,s,a)},...s})};var eu=s(27642);let em=ei.object({domain:ei.string().required("A value for your custom domain is required")}),ex=()=>{var e;let{ref:t}=(0,c.g)(),{project:s}=(0,d.Om)(),{mutate:r,isLoading:o}=I(),{mutate:i,isLoading:l}=ed(),{data:u}=(0,w.G)({projectRef:t}),x="custom-domains-form",h=null==u||null==(e=u.app_config)?void 0:e.endpoint,j=(0,C.SE)(n.aG.UPDATE,"projects",{resource:{project_id:null==s?void 0:s.id}}),y=async e=>{if(!t)return console.error("Project ref is required");r({domain:e.domain},{onSuccess:()=>{i({projectRef:t,customDomain:e.domain})}})};return(0,a.jsx)(eu.A,{id:x,initialValues:{domain:""},validationSchema:em,onSubmit:y,"data-sentry-element":"Form","data-sentry-component":"CustomDomainsConfigureHostname","data-sentry-source-file":"CustomDomainsConfigureHostname.tsx",children:e=>{let{handleReset:t,values:s,initialValues:r}=e,n=JSON.stringify(s)!==JSON.stringify(r);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(f.lB,{disabled:!j,footer:(0,a.jsx)("div",{className:"flex py-4 px-8",children:(0,a.jsx)(el.I,{form:x,isSubmitting:o||l,submitText:"Add",hasChanges:n,handleReset:t,disabled:!1,helper:j?(0,a.jsx)(m.A,{href:"https://supabase.com/docs/guides/platform/custom-domains"}):"You need additional permissions to update your project's custom domain settings"})}),children:[(0,a.jsx)(p.y9,{header:(0,a.jsx)(p.sj,{children:"Add a custom domain"}),children:(0,a.jsx)(p.DE,{loading:!1,children:(0,a.jsx)(ea.A,{id:"domain",disabled:!j||o||l,className:"w-full",type:"text",name:"domain",placeholder:"subdomain.example.com"})})}),(0,a.jsx)(p.y9,{header:(0,a.jsx)(p.sj,{children:"Configure a CNAME record"}),children:(0,a.jsxs)("p",{className:"col-span-12 text-sm lg:col-span-7 leading-6",children:["Set up a CNAME record for"," ",s.domain?(0,a.jsx)("code",{className:"text-xs",children:s.domain}):"your custom domain"," ","resolving to"," ",h?(0,a.jsx)("code",{className:"text-xs",children:h}):"your project's API URL"," ","with as low a TTL as possible. If you're using Cloudflare as your DNS provider, disable the proxy option."]})})]})})}})},ef=()=>(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-6 px-8 py-8","data-sentry-component":"CustomDomainsShimmerLoader","data-sentry-source-file":"CustomDomainsShimmerLoader.tsx",children:[(0,a.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,a.jsx)("div",{className:"h-6 w-1/3 bg-foreground-lighter rounded shimmering-loader"})}),(0,a.jsx)("div",{className:"col-span-12 lg:col-span-7",children:(0,a.jsx)("div",{className:"h-[38px] w-full bg-foreground-lighter rounded shimmering-loader"})})]}),ep=()=>{var e;let{ref:t}=(0,c.g)(),s=(0,L.a)(),r=(0,M._P)("customDomainsDisabledDueToQuota"),n=null==s||null==(e=s.plan)?void 0:e.id,{data:o,isLoading:i}=(0,F.Q)({projectRef:t}),l=!!(null==o?void 0:o.selected_addons.find(e=>"custom_domain"===e.type)),{data:d,isLoading:u,isError:m,isSuccess:f}=(0,R.A)({projectRef:t},{refetchInterval(e){var t;return null!=e&&null!=(t=e.customDomain)&&!!t.ssl.status&&5e3}}),{status:p,customDomain:h}=d||{};return(0,a.jsxs)("section",{id:"custom-domains","data-sentry-component":"CustomDomainConfig","data-sentry-source-file":"CustomDomainConfig.tsx",children:[(0,a.jsx)(x.M,{title:"Custom Domains",description:"Present a branded experience to your users","data-sentry-element":"FormHeader","data-sentry-source-file":"CustomDomainConfig.tsx"}),i?(0,a.jsx)(E.A,{children:(0,a.jsx)(E.A.Content,{className:"space-y-6",children:(0,a.jsx)(ef,{})})}):l?u?(0,a.jsx)(E.A,{children:(0,a.jsx)(E.A.Content,{className:"space-y-6",children:(0,a.jsx)(ef,{})})}):m?(0,a.jsx)(E.A,{children:(0,a.jsx)(E.A.Content,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 py-8",children:[(0,a.jsx)(P.A,{size:16,strokeWidth:1.5}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["Failed to retrieve custom domain configuration. Please try again later or"," ",(0,a.jsx)(D(),{href:"/support/new?projectRef=".concat(t,"&category=sales"),className:"underline",children:"contact support"}),"."]})]})})}):"0_no_hostname_configured"===p?(0,a.jsx)(ex,{}):(0,a.jsx)(E.A,{children:f&&(0,a.jsxs)("div",{className:"flex flex-col",children:[("1_not_started"===p||"2_initiated"===p||"3_challenge_verified"===p)&&(0,a.jsx)(eo,{}),"4_origin_setup_completed"===d.status&&(0,a.jsx)($,{projectRef:t,customDomain:d.customDomain}),"5_services_reconfigured"===d.status&&(0,a.jsx)(Z,{projectRef:t,customDomain:d.customDomain})]})}):(0,a.jsx)(T.A,{icon:(0,a.jsx)(P.A,{size:18,strokeWidth:1.5}),primaryText:r?"New custom domains are temporarily disabled":"Custom domains are a Pro Plan add-on",secondaryText:r?"We are working with our upstream DNS provider before we are able to sign up new custom domains. Please check back in a few hours.":"free"===n?"Paid Plans come with free vanity subdomains or Custom Domains for an additional $10/month per domain.":"To configure a custom domain for your project, please enable the add-on. Each Custom Domains costs $10 per month.",addon:"customDomain",source:"customDomain",disabled:r})]})};var eh=s(88602),ej=s(89230);let ey=e=>{let{type:t="danger"}=e,{project:s}=(0,d.Om)(),[r,o]=(0,i.useState)(!1),l=(0,C.SE)(n.aG.UPDATE,"projects",{resource:{project_id:null==s?void 0:s.id}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.G,{type:t,disabled:!l,onClick:()=>o(!0),tooltip:{content:{side:"bottom",text:l?void 0:"You need additional permissions to delete this project"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"DeleteProjectButton.tsx",children:"Delete project"}),(0,a.jsx)(ej.w,{visible:r,onClose:()=>o(!1),"data-sentry-element":"DeleteProjectModal","data-sentry-source-file":"DeleteProjectButton.tsx"})]})};var ev=s(29046),eg=s(90437),eb=s(92114);async function eN(e){let{ref:t,name:s}=e,{data:a,error:r}=await (0,v.F6)("/platform/projects/{ref}",{params:{path:{ref:t}},body:{name:s}});return r&&(0,v.H4)(r),a}let ew=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,y.n)(e=>eN(e),{async onSuccess(t,s,r){let{ref:n}=s;await Promise.all([a.invalidateQueries(eb.g.list()),a.invalidateQueries(eb.g.detail(n))]),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?l.oR.error("Failed to update project: ".concat(e.message)):t(e,s,a)},...s})};var eC=s(5483),eA=s(84357),eS=s(24400);async function ek(e){let{ref:t}=e,{data:s,error:a}=await (0,v.bE)("/platform/projects/{ref}/pause",{params:{path:{ref:t}}});return a&&(0,v.H4)(a),s}let eP=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.n)(e=>ek(e),{async onSuccess(t,s,a){await (null==e?void 0:e(t,s,a))},async onError(e,s,a){void 0===t?l.oR.error("Failed to pause project: ".concat(e.message)):t(e,s,a)},...s})};var e_=s(13929);let eD=()=>{var e;let t=(0,eS.useRouter)(),s=(0,j.jE)(),{project:r}=(0,d.Om)(),o=(0,L.a)(),c=(0,d.f2)(),[u,m]=(0,i.useState)(!1),x=null!=(e=null==r?void 0:r.ref)?e:"",f=(null==r?void 0:r.status)===z.BU.INACTIVE,p=(0,C.SE)(n.aG.INFRA_EXECUTE,"queue_jobs.projects.pause"),h=(0,eC.BA)(),y=(null==o?void 0:o.plan.id)!=="free"&&!h,{mutate:v,isLoading:g}=eP({onSuccess:(e,a)=>{(0,e_.Mi)(s,a.ref,z.BU.PAUSING),l.oR.success("Pausing project..."),t.push("/project/".concat(x))}}),b=y||void 0===r||f||!p||!c;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.G,{type:"default",icon:(0,a.jsx)(eA.A,{}),onClick:()=>m(!0),loading:g,disabled:b,tooltip:{content:{side:"bottom",text:f?"Your project is already paused":p?c?y?"Projects on a paid plan will always be running":void 0:"Unable to pause project as project is not active":"You need additional permissions to pause this project"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"PauseProjectButton.tsx",children:"Pause project"}),(0,a.jsx)(X.A,{variant:"destructive",visible:u,loading:g,title:"Pause this project?",confirmLabel:"Pause project",confirmLabelLoading:"Pausing project",onCancel:()=>m(!1),onConfirm:()=>{if(!p)return l.oR.error("You do not have the required permissions to pause this project");v({ref:x})},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"PauseProjectButton.tsx",children:(0,a.jsx)("p",{className:"text-foreground-light text-sm",children:"Are you sure you want to pause this project? It will not be accessible until you unpause it."})})]})};var eE=s(72259),eT=s(33503);async function eR(e){let{ref:t,region:s,services:a=["postgresql"],source_notification_id:r}=e,{data:n,error:o}=await (0,v.bE)("/platform/projects/{ref}/restart-services",{params:{path:{ref:t}},body:{restartRequest:{region:s,services:a,source_notification_id:r}}});return o&&(0,v.H4)(o),n}let eF=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.n)(e=>eR(e),{async onSuccess(t,s,a){await (null==e?void 0:e(t,s,a))},async onError(e,s,a){void 0===t?l.oR.error("Failed to restart project: ".concat(e.message)):t(e,s,a)},...s})};var eL=s(51500),eM=s(71139);let ez=()=>{var e,t;let s=(0,eS.useRouter)(),r=(0,j.jE)(),{project:o}=(0,d.Om)(),c=(0,d.f2)(),u=(0,eC.BA)(),[m,x]=(0,i.useState)(),f=null!=(e=null==o?void 0:o.ref)?e:"",p=null!=(t=null==o?void 0:o.region)?t:"",h=(0,M._P)("disableProjectRestarts"),y=(0,C.SE)(n.aG.INFRA_EXECUTE,"reboot"),{mutate:v,isLoading:g}=(0,eT.r)({onSuccess:()=>{k()},onError:e=>{S(e,"project")}}),{mutate:b,isLoading:N}=eF({onSuccess:()=>{k()},onError:e=>{S(e,"database")}}),w=()=>{if(!y)return l.oR.error("You do not have the required permissions to restart this project");v({ref:f})},A=async()=>{if(!y)return l.oR.error("You do not have the required permissions to restart this project");b({ref:f,region:p,services:["postgresql"]})},S=(e,t)=>{l.oR.error("Unable to restart ".concat(t,": ").concat(e.message)),x(void 0)},k=()=>{(0,e_.Mi)(r,f,"RESTARTING"),l.oR.success("Restarting server..."),s.push("/project/".concat(f)),x(void 0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(eh.G,{type:"default",className:(0,eL.cn)("px-3 hover:z-10",y&&c?"rounded-r-none":""),disabled:void 0===o||!y||!c||h||u,onClick:()=>x("project"),tooltip:{content:{side:"bottom",text:h?"Project restart is currently disabled":y?c?u?"Project restart is not supported for AWS (Revamped) projects":"":"Unable to restart project as project is not active":"You need additional permissions to restart this project"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"RestartServerButton.tsx",children:"Restart project"}),y&&c&&!h&&(0,a.jsxs)(eM.rI,{children:[(0,a.jsx)(eM.ty,{asChild:!0,children:(0,a.jsx)(U.$,{type:"default",className:"rounded-l-none px-[4px] py-[5px] -ml-[1px]",icon:(0,a.jsx)(eE.A,{}),disabled:!y})}),(0,a.jsx)(eM.SQ,{align:"end",side:"bottom",children:(0,a.jsx)(eM._2,{disabled:g||N,onClick:()=>{x("database")},children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"block text-foreground",children:"Fast database reboot"}),(0,a.jsx)("p",{className:"block text-foreground-light",children:"Restarts only the database - faster but may not be able to recover from all failure modes"})]})},"database")})]})]}),(0,a.jsx)(Q.A,{danger:!0,visible:void 0!==m,title:"Restart ".concat(m),description:(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to restart the"," ",(0,a.jsx)("span",{className:"text-foreground",children:m}),"? There will be a few minutes of downtime."]}),buttonLabel:"Restart",buttonLoadingLabel:"Restarting",onSelectCancel:()=>x(void 0),onSelectConfirm:async()=>{"project"===m?await w():"database"===m&&await A()},"data-sentry-element":"ConfirmModal","data-sentry-source-file":"RestartServerButton.tsx"})]})},eB=()=>{var e,t;let{project:s}=(0,d.Om)(),r=(0,L.a)(),o=(0,eC.Ne)(null==s?void 0:s.parent_project_ref),i=void 0!==o,c="project-general-settings",u={name:null!=(e=null==s?void 0:s.name)?e:"",ref:null!=(t=null==s?void 0:s.ref)?t:""},m=(0,C.SE)(n.aG.UPDATE,"projects",{resource:{project_id:null==s?void 0:s.id}}),{mutate:x,isLoading:h}=ew(),j=async(e,t)=>{let{resetForm:a}=t;if(!(null==s?void 0:s.ref))return console.error("Ref is required");x({ref:s.ref,name:e.name.trim()},{onSuccess:e=>{let{name:t}=e;a({values:{name:t},initialValues:{name:t}}),l.oR.success("Successfully saved settings")}})};return(0,a.jsxs)("div",{"data-sentry-component":"General","data-sentry-source-file":"General.tsx",children:[i&&(0,a.jsxs)(Y.Fc,{variant:"default",className:"mb-6",children:[(0,a.jsx)(es.id,{}),(0,a.jsx)(Y.XL,{children:"You are currently on a preview branch of your project"}),(0,a.jsxs)(Y.TN,{children:["Certain settings are not available while you're on a preview branch. To adjust your project settings, you may return to your"," ",(0,a.jsx)(D(),{href:"/project/".concat(o.ref,"/settings/general"),className:"text-brand",children:"main branch"}),"."]})]}),void 0===s?(0,a.jsx)(eg.y,{}):(0,a.jsx)(eu.A,{id:c,initialValues:u,onSubmit:j,children:e=>{let{handleReset:t,values:s,initialValues:r}=e,n=JSON.stringify(s)!==JSON.stringify(r);return(0,a.jsx)(f.lB,{disabled:!m,footer:(0,a.jsx)("div",{className:"flex py-4 px-8",children:(0,a.jsx)(el.I,{form:c,isSubmitting:h,hasChanges:n,handleReset:t,helper:m?void 0:"You need additional permissions to manage this project's settings"})}),children:(0,a.jsx)(p.y9,{header:(0,a.jsx)(p.sj,{children:"General settings"}),children:(0,a.jsxs)(p.DE,{loading:!1,children:[(0,a.jsx)(ea.A,{id:"name",size:"small",label:"Project name",disabled:i||!m}),(0,a.jsx)(ea.A,{copy:!0,disabled:!0,id:"ref",size:"small",label:"Project ID"})]})})})}}),!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-6",id:"restart-project",children:(0,a.jsxs)(f.lB,{children:[(0,a.jsx)("div",{className:"flex flex-col px-8 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:"Restart project"}),(0,a.jsx)("div",{className:"max-w-[420px]",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Your project will not be available for a few minutes."})})]}),(0,a.jsx)(ez,{})]})}),(0,a.jsxs)("div",{className:"flex w-full items-center justify-between px-8 py-4",id:"pause-project",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:"Pause project"}),(0,a.jsx)("div",{className:"max-w-[420px]",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Your project will not be accessible while it is paused."})})]}),(0,a.jsx)(eD,{})]})]})}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(E.A,{children:(0,a.jsx)(E.A.Content,{children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)(ev.A,{strokeWidth:2}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:"Project usage statistics have been moved"}),(0,a.jsx)("p",{className:"text-foreground-light text-sm",children:"You may view your project's usage under your organization's settings"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(U.$,{asChild:!0,type:"default",children:(0,a.jsx)(D(),{href:"/org/".concat(null==r?void 0:r.slug,"/usage?projectRef=").concat(null==s?void 0:s.ref),children:"View project usage"})})})]})})})})]})]})};var eI=s(91194),eO=s(86084),eH=s(89772),eV=s(15427),eq=s(84831);async function eG(e){let{projectRef:t,targetOrganizationSlug:s}=e;if(!t)throw Error("projectRef is required");if(!s)throw Error("targetOrganizationSlug is required");let{data:a,error:r}=await (0,v.bE)("/platform/projects/{ref}/transfer",{params:{path:{ref:t}},body:{target_organization_slug:s}});return r&&(0,v.H4)(r),a}let eY=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,y.n)(e=>eG(e),{async onSuccess(t,s,r){let{projectRef:n,targetOrganizationSlug:o}=s;await Promise.all([a.invalidateQueries(eb.g.projectTransferPreview(n,o)),a.invalidateQueries(eb.g.detail(n)),a.invalidateQueries(eb.g.list())]),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?l.oR.error("Failed to transfer project: ".concat(e.message)):t(e,s,a)},...s})};var eU=s(56947);async function eX(e,t){let{projectRef:s,targetOrganizationSlug:a}=e;if(!s)throw Error("projectRef is required");if(!a)throw Error("targetOrganizationSlug is required");let{data:r,error:n}=await (0,v.bE)("/platform/projects/{ref}/transfer/preview",{params:{path:{ref:s}},body:{target_organization_slug:a},signal:t});return n&&(0,v.H4)(n),r}let e$=function(e){let{projectRef:t,targetOrganizationSlug:s}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,eU.I)(eb.g.projectTransferPreview(t,s),e=>{let{signal:a}=e;return eX({projectRef:t,targetOrganizationSlug:s},a)},{enabled:a&&void 0!==t&&void 0!==s,...r,retry:(e,t)=>("object"!=typeof t||null===t||!("code"in t)||400!==t.code)&&e<3})};var eW=s(67120),eQ=s(26860),eZ=s(55568),eJ=s(47142);let eK=()=>{let e=(0,eC.KT)(),t=null==e?void 0:e.ref,s=null==e?void 0:e.organization_id,[r,o]=(0,i.useState)(!1),{data:c}=(0,eq.Ad)({enabled:r}),d=(0,M._P)("disableProjectTransfer"),u=(c||[]).filter(e=>e.id!==s),[x,f]=(0,i.useState)(),{mutate:p,error:h,isLoading:j}=eY({onSuccess:()=>{l.oR.success("Successfully transferred project ".concat(null==e?void 0:e.name,".")),o(!1)}}),{data:y,error:v,isLoading:g,remove:b}=e$({projectRef:t,targetOrganizationSlug:x},{enabled:!j&&r});(0,i.useEffect)(()=>{r?f(void 0):b()},[r]);let N=(0,C.SE)(n.aG.UPDATE,"organizations"),w=()=>{o(!r)};async function A(){void 0!==e&&void 0!==x&&p({projectRef:t,targetOrganizationSlug:x})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.G,{type:"default",onClick:w,disabled:!N||d,tooltip:{content:{side:"bottom",text:N?d?"Project transfers are temporarily disabled, please try again later.":void 0:"You need additional permissions to transfer this project"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"TransferProjectButton.tsx",children:"Transfer project"}),(0,a.jsxs)(eW.A,{onCancel:()=>w(),visible:r,loading:j,size:"xlarge",header:"Transfer project ".concat(null==e?void 0:e.name),customFooter:(0,a.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,a.jsx)(U.$,{type:"default",onClick:()=>o(!1),children:"Cancel"}),(0,a.jsx)(U.$,{onClick:()=>A(),disabled:!y||!y.valid||j||!x,children:"Transfer Project"})]}),"data-sentry-element":"Modal","data-sentry-source-file":"TransferProjectButton.tsx",children:[(0,a.jsxs)(eW.A.Content,{className:"text-foreground-light","data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectButton.tsx",children:[(0,a.jsx)("p",{className:"text-sm",children:"To transfer projects, the owner must be a member of both the source and target organizations. Consider the following before transferring your project:"}),(0,a.jsxs)("ul",{className:"mt-4 space-y-5 text-sm",children:[(0,a.jsxs)("li",{className:"flex gap-4",children:[(0,a.jsx)("span",{className:"shrink-0 mt-1",children:(0,a.jsx)(eI.A,{"data-sentry-element":"Loader","data-sentry-source-file":"TransferProjectButton.tsx"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Possible downtime"}),(0,a.jsx)("p",{children:"There might be a short downtime when transferring projects from a paid to a free organization."})]})]}),(0,a.jsxs)("li",{className:"flex gap-4",children:[(0,a.jsx)("span",{className:"shrink-0 mt-1",children:(0,a.jsx)(eO.A,{"data-sentry-element":"Shield","data-sentry-source-file":"TransferProjectButton.tsx"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Permissions"}),(0,a.jsx)("p",{children:"Depending on your role in the target organization, your level of permissions may change after transfer."})]})]}),(0,a.jsxs)("li",{className:"flex gap-4",children:[(0,a.jsx)("span",{className:"shrink-0 mt-1",children:(0,a.jsx)(eH.A,{size:24,className:"flex-shrink-0","data-sentry-element":"Wrench","data-sentry-source-file":"TransferProjectButton.tsx"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Features"}),(0,a.jsx)("p",{children:"Moving your project to an organization with a smaller subscription plan may result in the loss of certain features (i.e. image transformations)."})]})]})]}),(0,a.jsx)(m.A,{abbrev:!1,className:"mt-6",href:"https://supabase.com/docs/guides/platform/project-transfer","data-sentry-element":"DocsButton","data-sentry-source-file":"TransferProjectButton.tsx"})]}),(0,a.jsx)(eW.A.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectButton.tsx"}),(0,a.jsx)(eW.A.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectButton.tsx",children:u&&(0,a.jsx)("div",{className:"space-y-2",children:0===u.length?(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-surface-200 p-3 text-sm rounded-md border",children:[(0,a.jsx)(es.mo,{})," You do not have any organizations you can transfer your project to."]}):(0,a.jsxs)(eQ.A,{label:"Select Target Organization",layout:"vertical",value:x,onChange:e=>f(e),placeholder:"Select Organization",children:[(0,a.jsx)(eQ.A.Option,{disabled:!0,label:"Select Organization",value:"",children:"Select Organization"},"no-results"),u.map(e=>(0,a.jsx)(eQ.A.Option,{label:e.name,value:e.slug,addOnBefore:()=>(0,a.jsx)(eV.A,{}),children:e.name},e.id))]})})}),void 0!==x&&(0,a.jsx)(eZ.A,{active:void 0!==x&&g,children:(0,a.jsx)(eW.A.Content,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[y&&y.errors.length>0&&(0,a.jsxs)(eJ.Z,{type:"danger",title:"Project cannot be transferred",children:[(0,a.jsx)("div",{className:"space-y-1",children:y.errors.map(e=>(0,a.jsx)("p",{children:e.message},e.key))}),y.members_exceeding_free_project_limit.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"These members have reached their maximum limits for the number of active Free plan projects within organizations where they are an administrator or owner:"}),(0,a.jsx)("ul",{className:"pl-5 text-sm list-disc text-foreground-light",children:(y.members_exceeding_free_project_limit||[]).map((e,t)=>(0,a.jsxs)("li",{children:[e.name," (Limit: ",e.limit," free projects)"]},"member-".concat(t)))}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"These members will need to either delete, pause, or upgrade one or more of their projects before you can transfer this project."})]})]}),y&&(y.warnings.length>0||y.info.length>0)&&(0,a.jsx)(eJ.Z,{type:"caution",showIcon:!1,className:"mt-3",children:(0,a.jsxs)("div",{className:"space-y-1",children:[y.warnings.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(es.id,{className:"flex-shrink-0 mt-0.25"}),(0,a.jsx)("p",{className:"mb-0.5",children:e.message})]},e.key)),y.info.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(es.mo,{className:"flex-shrink-0 mt-0.25"}),(0,a.jsx)("p",{className:"mb-0.5",children:e.message})]},e.key))]})}),v&&!h&&(0,a.jsx)(eJ.Z,{type:"danger",title:"Project cannot be transferred",description:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{children:v.message})})}),h&&(0,a.jsx)(eJ.Z,{type:"danger",title:"Project cannot be transferred",description:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{children:h.message})})})]})})})]})]})},e0=(0,s(15740).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),e1=()=>void 0===(0,eC.KT)()?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)("section",{id:"transfer-project","data-sentry-component":"TransferProjectPanel","data-sentry-source-file":"TransferProjectPanel.tsx",children:[(0,a.jsx)(x.M,{title:"Transfer Project",description:"Transfer your project to a different organization.","data-sentry-element":"FormHeader","data-sentry-source-file":"TransferProjectPanel.tsx"}),(0,a.jsx)(E.A,{"data-sentry-element":"Panel","data-sentry-source-file":"TransferProjectPanel.tsx",children:(0,a.jsx)(E.A.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectPanel.tsx",children:(0,a.jsxs)("div",{className:"flex justify-between items-center gap-8",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)(e0,{className:"mt-1","data-sentry-element":"Truck","data-sentry-source-file":"TransferProjectPanel.tsx"}),(0,a.jsxs)("div",{className:"space-y-1 xl:max-w-lg",children:[(0,a.jsx)("p",{className:"text-sm",children:"Transfer project to another organization"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"To transfer projects, the owner must be a member of both the source and target organizations."})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(eK,{"data-sentry-element":"TransferProjectButton","data-sentry-source-file":"TransferProjectPanel.tsx"})})]})})})]}),e2=()=>{let e=(0,L.a)(),{project:t}=(0,d.Om)();if(void 0===t)return null;let s=(null==e?void 0:e.managed_by)==="vercel-marketplace"?"Deleting this project will also remove your database and uninstall the resource on Vercel.":"Deleting this project will also remove your database.",r=(null==e?void 0:e.managed_by)==="vercel-marketplace"?"Make sure you have made a backup if you want to keep your data, and that no Vercel project is connected to this resource.":"Make sure you have made a backup if you want to keep your data.";return(0,a.jsxs)("section",{id:"delete-project","data-sentry-component":"DeleteProjectPanel","data-sentry-source-file":"DeleteProjectPanel.tsx",children:[(0,a.jsx)(x.M,{title:"Delete Project",description:"","data-sentry-element":"FormHeader","data-sentry-source-file":"DeleteProjectPanel.tsx"}),(0,a.jsxs)(Y.Fc,{variant:"destructive","data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"DeleteProjectPanel.tsx",children:[(0,a.jsx)(es.HV,{"data-sentry-element":"CriticalIcon","data-sentry-source-file":"DeleteProjectPanel.tsx"}),(0,a.jsx)(Y.XL,{className:"mt-2","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"DeleteProjectPanel.tsx",children:s}),(0,a.jsx)(Y.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"DeleteProjectPanel.tsx",children:r}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(ey,{"data-sentry-element":"DeleteProjectButton","data-sentry-source-file":"DeleteProjectPanel.tsx"})})]})]})};var e4=s(1356),e3=s(66452),e5=s(92882),e6=s(33233),e8=s(97600);let e9=()=>{let{project:e}=(0,d.Om)(),t=(0,L.a)(),s=!!(null==e?void 0:e.parent_project_ref),{projectsTransfer:n}=(0,e8.x)(["projects:transfer"]),{data:o}=(0,e6.j5)({orgSlug:null==t?void 0:t.slug}),i=(0,r.BP)(o);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e5.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"general.tsx",children:(0,a.jsx)(e5.Uw,{"data-sentry-element":"ScaffoldHeader","data-sentry-source-file":"general.tsx",children:(0,a.jsx)(e5.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"general.tsx",children:"Project Settings"})})}),(0,a.jsxs)(e5.eh,{className:"flex flex-col gap-10",bottomPadding:!0,"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"general.tsx",children:[(0,a.jsx)(eB,{"data-sentry-element":"General","data-sentry-source-file":"general.tsx"}),!s&&i&&(0,a.jsx)(k,{}),(0,a.jsx)(ep,{"data-sentry-element":"CustomDomainConfig","data-sentry-source-file":"general.tsx"}),!s&&n&&(0,a.jsx)(e1,{}),!s&&(0,a.jsx)(e2,{})]})]})};e9.getLayout=e=>(0,a.jsx)(e4.A,{children:(0,a.jsx)(e3.A,{title:"General",children:e})});let e7=e9},43242:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>x});var a=s(80263),r=s(53239),n=s(70800),o=s(51500),i=s(24771);function l(e){let{children:t,className:s,tag:r="div",style:n}=e;return(0,a.jsx)("".concat(r),{style:n,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}l.Title=function(e){let{className:t,level:s=1,children:r,style:n}=e;return(0,a.jsx)("h".concat(s),{style:n,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:r})},l.Text=function(e){let{className:t,children:s,style:r,type:n,disabled:o,mark:i,code:l,keyboard:c,underline:d,strikethrough:u,strong:m,small:x}=e;return l?(0,a.jsx)("code",{style:r,children:s}):i?(0,a.jsx)("mark",{style:r,children:s}):c?(0,a.jsx)("kbd",{style:r,children:s}):m?(0,a.jsx)("strong",{style:r,children:s}):(0,a.jsx)("span",{style:r,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:s})},l.Link=i.A;let c=(0,r.createContext)({type:"text"}),d=e=>{let{type:t}=e;return(0,a.jsx)(c.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},u=()=>{let e=(0,r.useContext)(c);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function m(e){let{children:t,className:s,ulClassName:r,style:n,type:o="text"}=e;return(0,a.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:n,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(d,{type:o,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("ul",{className:r,children:t})})})}m.Item=function(e){let{children:t,icon:s,active:r,rounded:i,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:m}=e,x=(0,n.A)("menu"),{type:f}=u(),p=[x.item.base];p.push(x.item.variants[f].base),r?p.push(x.item.variants[f].active):p.push(x.item.variants[f].normal);let h=[x.item.content.base];r?h.push(x.item.content.active):h.push(x.item.content.normal);let j=[x.item.icon.base];return r?j.push(x.item.icon.active):j.push(x.item.icon.normal),(0,a.jsxs)("li",{role:"menuitem",className:(0,o.cn)("outline-none",p),style:m,onClick:l,"aria-current":r?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[s&&(0,a.jsx)("div",{className:"".concat(j.join(" ")," min-w-fit"),children:s}),(0,a.jsx)("span",{className:h.join(" "),children:t})]})},m.Group=function(e){let{children:t,icon:s,title:r}=e,o=(0,n.A)("menu"),{type:i}=u();return(0,a.jsxs)("div",{className:[o.group.base,o.group.variants[i]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[s&&(0,a.jsx)("span",{className:o.group.icon,children:s}),(0,a.jsx)("span",{className:o.group.content,children:r}),t]})},m.Misc=function(e){let{children:t}=e;return(0,a.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(l.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("span",{children:t})})})};let x=m},44326:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(80263),r=s(53239),n=s(67120),o=s(27642),i=s(40022);let l=e=>{let{visible:t=!1,danger:s=!1,title:l="",description:c="",size:d="small",buttonLabel:u="",buttonLoadingLabel:m="",onSelectCancel:x=()=>{},onSelectConfirm:f=()=>{}}=e;(0,r.useEffect)(()=>{t&&h(!1)},[t]);let[p,h]=(0,r.useState)(!1),j=()=>{h(!0),f()};return(0,a.jsx)(n.A,{header:l,visible:t,title:l,description:c,size:d,hideFooter:!0,onCancel:x,"data-sentry-element":"Modal","data-sentry-component":"ConfirmModal","data-sentry-source-file":"ConfirmDialog.tsx",children:(0,a.jsx)(o.A,{initialValues:{},validateOnBlur:!0,onSubmit:()=>j(),validate:()=>[],"data-sentry-element":"Form","data-sentry-source-file":"ConfirmDialog.tsx",children:()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.A.Content,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.$,{block:!0,htmlType:"button",type:"default",onClick:x,disabled:p,children:"Cancel"}),(0,a.jsx)(i.$,{htmlType:"submit",block:!0,type:s?"danger":"primary",disabled:p,loading:p,children:m&&p?m:u||"Confirm"})]})})})})})}},44893:(e,t,s)=>{"use strict";s.d(t,{bL:()=>b,zi:()=>N});var a=s(54993),r=s(53239),n=s(91968),o=s(63774),i=s(68436),l=s(87990),c=s(15630),d=s(89422),u=s(70297);let m="Switch",[x,f]=(0,i.A)(m),[p,h]=x(m),j=(0,r.forwardRef)((e,t)=>{let{__scopeSwitch:s,name:i,checked:c,defaultChecked:d,required:m,disabled:x,value:f="on",onCheckedChange:h,...j}=e,[y,b]=(0,r.useState)(null),N=(0,o.s)(t,e=>b(e)),w=(0,r.useRef)(!1),C=!y||!!y.closest("form"),[A=!1,S]=(0,l.i)({prop:c,defaultProp:d,onChange:h});return(0,r.createElement)(p,{scope:s,checked:A,disabled:x},(0,r.createElement)(u.sG.button,(0,a.A)({type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":g(A),"data-disabled":x?"":void 0,disabled:x,value:f},j,{ref:N,onClick:(0,n.m)(e.onClick,e=>{S(e=>!e),C&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})})),C&&(0,r.createElement)(v,{control:y,bubbles:!w.current,name:i,value:f,checked:A,required:m,disabled:x,style:{transform:"translateX(-100%)"}}))}),y=(0,r.forwardRef)((e,t)=>{let{__scopeSwitch:s,...n}=e,o=h("SwitchThumb",s);return(0,r.createElement)(u.sG.span,(0,a.A)({"data-state":g(o.checked),"data-disabled":o.disabled?"":void 0},n,{ref:t}))}),v=e=>{let{control:t,checked:s,bubbles:n=!0,...o}=e,i=(0,r.useRef)(null),l=(0,c.Z)(s),u=(0,d.X)(t);return(0,r.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&t){let a=new Event("click",{bubbles:n});t.call(e,s),e.dispatchEvent(a)}},[l,s,n]),(0,r.createElement)("input",(0,a.A)({type:"checkbox","aria-hidden":!0,defaultChecked:s},o,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function g(e){return e?"checked":"unchecked"}let b=j,N=y},45412:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(80263),r=s(40022);let n=e=>{let{form:t,hasChanges:s,handleReset:n,helper:o,disabled:i=!1,isSubmitting:l,submitText:c="Save"}=e,d=l||i||!s&&void 0!==s;return(0,a.jsxs)("div",{className:["flex w-full items-center gap-2",o?"justify-between":"justify-end"].join(" "),"data-sentry-component":"FormActions","data-sentry-source-file":"FormActions.tsx",children:[o&&(0,a.jsx)("span",{className:"text-sm text-foreground-lighter",children:o}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.$,{disabled:d,type:"default",htmlType:"reset",onClick:()=>n(),"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:"Cancel"}),(0,a.jsx)(r.$,{form:t,type:"primary",htmlType:"submit",disabled:d,loading:l,"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:c})]})]})}},55567:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/general",function(){return s(35721)}])},66452:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var a=s(80263),r=s(24400),n=s(53239),o=s(90478),i=s(90226),l=s(97600),c=s(23385),d=s(5483),u=s(52361),m=s(63492),x=s(78098),f=s(60018);let p=(0,u.r)(e=>{let{title:t,children:s}=e,u=(0,r.useRouter)(),{ref:p}=(0,o.g)(),h=(0,d.KT)(),j=(0,c.a)();(0,n.useEffect)(()=>{m.pe||u.push("/project/default")},[u]);let y=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:v,projectEdgeFunctionAll:g,projectStorageAll:b,billingInvoices:N}=(0,l.x)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),w=(0,f.M)(p,h,j,{auth:v,edgeFunctions:g,storage:b,invoices:N});return(0,a.jsx)(x.A,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,a.jsx)(i.l,{page:y,menu:w}),"data-sentry-element":"ProjectLayout","data-sentry-component":"SettingsLayout","data-sentry-source-file":"SettingsLayout.tsx",children:s})})},73047:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(80263),r=s(15601),n=s.n(r),o=s(43242),i=s(2119),l=s(40022);let c=e=>{let{name:t="",isActive:s,isExternal:r,icon:c,rightIcon:d,url:u="",target:m="_self",onClick:x,textClassName:f="",hoverText:p="",label:h}=e,j=(0,a.jsx)(o.Ay.Item,{icon:c,rounded:!0,active:s,onClick:x,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{title:p||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+f,children:[(0,a.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==h&&(0,a.jsx)(i.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:h})]}),d&&(0,a.jsx)("div",{children:d})]})});return u?r?(0,a.jsx)(l.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,a.jsx)(n(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,a.jsx)(n(),{href:u,className:"block",target:m,children:j}):j}},84357:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},90226:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var a=s(80263),r=s(43242),n=s(2119),o=s(73047);let i=e=>{let{page:t,menu:s}=e;return(0,a.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,a.jsx)(r.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:s.map((e,i)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(r.Ay.Group,{title:e.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:e.title}),e.isPreview&&(0,a.jsx)(n.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:e.items.map(e=>{let s=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,a.jsx)(o.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:s,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),i!==s.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},92512:(e,t,s)=>{"use strict";s.d(t,{M:()=>o});var a=s(80263),r=s(51500),n=s(62136);let o=e=>{let{title:t,description:s,docsUrl:o,actions:i,className:l}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(l)),"data-sentry-component":"FormHeader","data-sentry-source-file":"FormHeader.tsx",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),s&&(0,a.jsx)("div",{className:"prose text-sm max-w-2xl",children:s})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==o&&(0,a.jsx)(n.A,{href:o}),i]})]})}},92882:(e,t,s)=>{"use strict";s.d(t,{BS:()=>i,Dm:()=>d,HJ:()=>v,Rf:()=>j,Uw:()=>c,Vw:()=>N,Xr:()=>b,aw:()=>p,bV:()=>o,cJ:()=>x,dX:()=>u,eh:()=>l,fh:()=>g,gu:()=>m,sZ:()=>f,tn:()=>y,xp:()=>h});var a=s(80263),r=s(53239),n=s(51500);let o="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",l=(0,r.forwardRef)((e,t)=>{let{className:s,bottomPadding:r,size:o="default",...l}=e;return(0,a.jsx)("div",{ref:t,...l,className:(0,n.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[o],i,r&&"pb-16",s)})}),c=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("header",{...r,ref:t,className:(0,n.cn)("w-full","flex-col gap-3 py-6",s)})}),d=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h1",{ref:t,...r,className:(0,n.cn)("text-2xl",s)})}),u=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",s)})}),m=(0,r.forwardRef)((e,t)=>{let{className:s,isFullWidth:r,topPadding:o,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,n.cn)("flex flex-col first:pt-12 py-6",r?"w-full":"gap-3 lg:grid md:grid-cols-12",s)})}),x=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("w-full h-px bg-border",s)})}),f=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,...r,className:(0,n.cn)("text-foreground text-xl",s)})}),p=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",s)})}),h=(0,r.forwardRef)((e,t)=>{let{className:s,children:r,title:o,...i}=e;return(0,a.jsxs)("div",{ref:t,...i,className:(0,n.cn)("col-span-4 xl:col-span-5 prose text-sm",s),children:[o&&(0,a.jsx)("h2",{children:o}),r]})}),j=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",s)})}),y=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3 items-center",s)})}),v=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex w-full items-center",s)})}),g=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-row gap-3",s)})}),b=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3","min-w-[420px]",s)})}),N=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)(o,i,"my-8 flex flex-col gap-8",s)})});c.displayName="ScaffoldHeader",d.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",l.displayName="ScaffoldContainer",x.displayName="ScaffoldDivider",m.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",j.displayName="ScaffoldSectionContent",y.displayName="ScaffoldFilterAndContent",v.displayName="ScaffoldActionsContainer",g.displayName="ScaffoldActionsGroup",N.displayName="ScaffoldContainerLegacy",f.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"}},e=>{var t=t=>e(e.s=t);e.O(0,[89,726,4280,3730,2981,6110,386,7661,5599,8445,4024,3019,2310,8274,7803,9146,5549,5007,4017,8398,4560,7795,3895,4444,7182,279,6692,7686,8821,2690,1356,5756,8098,6593,636,8792],()=>t(55567)),_N_E=e.O()}]);