!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ac7f9803-9f3b-4932-a8c3-d236f65bd2e3",e._sentryDebugIdIdentifier="sentry-dbid-ac7f9803-9f3b-4932-a8c3-d236f65bd2e3")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4027],{8185:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(15740).A)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},11042:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(80263),i=s(51500),n=s(40022),r=s(58696);let l=e=>{let{isLoading:t,isRefetching:s,refetch:l,hideDbInspectCTA:o}=e;return(0,a.jsxs)("div",{className:"px-6 py-6 flex gap-x-4 border-t ","data-sentry-component":"LinterPageFooter","data-sentry-source-file":"LinterPageFooter.tsx",children:[(0,a.jsxs)("div",{className:(0,i.cn)(o?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,a.jsx)("p",{children:"Reset suggestions"}),(0,a.jsx)("p",{className:"text-xs text-foreground-light",children:"Consider resetting the analysis making any changes"}),(0,a.jsx)(n.$,{type:"default",className:"!mt-3 w-min",disabled:t||s,loading:t||s,onClick:()=>l(),"data-sentry-element":"Button","data-sentry-source-file":"LinterPageFooter.tsx",children:"Rerun linter"})]}),(0,a.jsxs)("div",{className:(0,i.cn)(o?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,a.jsx)("p",{children:"How are these suggestions generated?"}),(0,a.jsx)("div",{className:"prose text-xs",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{children:"These suggestions use "}),(0,a.jsx)("a",{href:"https://github.com/supabase/splinter",target:"",rel:"",children:"splinter (Supabase Postgres LINTER)"}),"."]})})]}),!o&&(0,a.jsxs)("div",{className:"w-[33%] flex flex-col gap-y-1 text-sm",children:[(0,a.jsx)("p",{children:"Inspect your database for potential issues"}),(0,a.jsx)(r.o,{className:"text-xs",content:"The Supabase CLI comes with a range of tools to help inspect your Postgres instances for potential issues. [Learn more here](https://supabase.com/docs/guides/database/inspect)."})]})]})}},15134:(e,t,s)=>{s.d(t,{R:()=>a,T:()=>i});var a=function(e){return e.ERROR="ERROR",e.WARN="WARN",e.INFO="INFO",e}({});let i=[{id:"ERROR",label:"Errors",description:"You should consider these issues urgent and fix them as soon as you can.",descriptionShort:"Require immediate attention"},{id:"WARN",label:"Warnings",description:"You should try and read through these issues and fix them if necessary.",descriptionShort:"To resolve only if necessary"},{id:"INFO",label:"Info",description:"You should read through these suggestions and consider implementing them.",descriptionShort:"For consideration to implement"}]},18354:(e,t,s)=>{s.d(t,{A:()=>j});var a=s(80263),i=s(25643),n=s(23445),r=s(15601),l=s.n(r),o=s(53239),d=s(24560),c=s(86953),u=s(90478),m=s(66218),p=s(24400),x=s(11810),h=s(51500),g=s(65841),f=s(40022),y=s(80586),b=s(52786),k=s(27799);let j=e=>{var t,s,r;let{isLoading:j,filteredLints:_,selectedLint:v,setSelectedLint:N,currentTab:w}=e,L=(0,o.useRef)(null),{ref:A}=(0,u.g)(),R=(0,p.useRouter)(),z=(0,x.xd)(),[T,W]=(0,o.useState)("details"),V=[{id:"name",name:"Issue type",description:void 0,minWidth:240,value:e=>{var t,s;return(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"shrink-0",children:null==(t=m.ah.find(t=>e.name===t.name))?void 0:t.icon}),(0,a.jsx)("h3",{className:"text-xs",children:null==(s=m.ah.find(t=>e.name===t.name))?void 0:s.title})]})}},{id:"metadata.name",name:"Entity/item",description:void 0,minWidth:230,value:e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,a.jsx)("span",{className:"shrink-0",children:(0,a.jsx)(m.L,{type:null==(t=e.metadata)?void 0:t.type})}),(0,a.jsx)(m.VL,{metadata:e.metadata})]})}},{id:"description",name:"Description",description:void 0,minWidth:400,value:e=>(0,a.jsx)(c.$,{className:"text-xs",children:e.description})}].map(e=>{var t;return{key:e.id,name:e.name,resizable:!0,minWidth:null!=(t=e.minWidth)?t:120,headerCellClass:"first:pl-6 cursor-pointer",renderHeaderCell:()=>(0,a.jsx)("div",{className:"flex items-center justify-between font-mono font-normal text-xs w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("p",{className:"!text-foreground",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-foreground-lighter",children:e.description})]})}),renderCell:t=>{let s=e.value(t.row);return(0,a.jsx)("div",{className:(0,h.cn)("w-full flex flex-col justify-center font-mono text-xs","number"==typeof s?"text-right":""),children:(0,a.jsx)("span",{children:s})})}}});return(0,a.jsxs)(g.HK,{direction:"horizontal",className:"relative flex flex-grow bg-alternative min-h-0",autoSaveId:"linter-layout-v1","data-sentry-element":"ResizablePanelGroup","data-sentry-component":"LinterDataGrid","data-sentry-source-file":"LinterDataGrid.tsx",children:[(0,a.jsx)(g.wV,{defaultSize:1,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LinterDataGrid.tsx",children:(0,a.jsx)(d.Ay,{ref:L,style:{height:"100%"},className:(0,h.cn)("flex-1 flex-grow h-full"),rowHeight:44,headerRowHeight:36,columns:V,rows:null!=_?_:[],rowClass:e=>{let t=e.cache_key===(null==v?void 0:v.cache_key);return["".concat(t?"bg-surface-300 dark:bg-surface-300":"bg-200"," cursor-pointer"),"".concat(t?"[&>div:first-child]:border-l-4 border-l-secondary [&>div]:border-l-foreground":""),"[&>.rdg-cell]:border-box [&>.rdg-cell]:outline-none [&>.rdg-cell]:shadow-none","[&>.rdg-cell:first-child>div]:ml-4"].join(" ")},renderers:{renderRow:(e,t)=>(0,a.jsx)(d.fI,{...t,onClick:()=>{if("number"==typeof e&&e>=0){var s;N(t.row),null==(s=L.current)||s.scrollToCell({idx:0,rowIdx:e});let{id:a,...i}=R.query;R.push({...R,query:{...i,id:t.row.cache_key}})}}},t.row.cache_key),noRowsFallback:j?(0,a.jsx)("div",{className:"absolute top-14 px-6 w-full",children:(0,a.jsx)(k.y,{})}):(0,a.jsx)(m._N,{level:w})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LinterDataGrid.tsx"})}),null!==v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.WM,{withHandle:!0}),(0,a.jsxs)(g.wV,{defaultSize:30,maxSize:45,minSize:30,className:"bg-studio border-t",children:[(0,a.jsx)(f.$,{type:"text",className:"absolute top-3 right-3 px-1",icon:(0,a.jsx)(i.A,{}),onClick:function(){N(null);let{id:e,...t}=R.query;R.push({query:t})}}),(0,a.jsxs)(y.tU,{value:T,className:"flex flex-col h-full",onValueChange:e=>{W(e)},children:[(0,a.jsx)(y.j7,{className:"px-5 flex gap-x-4 min-h-[46px]",children:(0,a.jsx)(y.Xi,{value:"details",className:"px-0 pb-0 h-full text-xs  data-[state=active]:bg-transparent !shadow-none",children:"Overview"})}),(0,a.jsx)(y.av,{value:"details",className:"mt-0 flex-grow min-h-0 overflow-y-auto prose",children:v&&(0,a.jsxs)("div",{className:"py-4 px-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,a.jsx)("h3",{className:"text-sm m-0",children:null==(t=m.ah.find(e=>e.name===v.name))?void 0:t.title}),(0,a.jsx)(m.pr,{category:v.categories[0]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mt-4",children:[(0,a.jsx)("span",{children:"Entity"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-surface-200 border rounded-lg ",children:[(0,a.jsx)(m.L,{type:null==(s=v.metadata)?void 0:s.type}),(0,a.jsx)(m.VL,{metadata:v.metadata})]})]}),(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm",children:"Issue"}),(0,a.jsx)(c.$,{className:"leading-6 text-sm",children:v.detail.replace(/\\`/g,"`")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm",children:"Description"}),(0,a.jsx)(c.$,{className:"text-sm",children:v.description.replace(/\\`/g,"`")})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("h3",{className:"text-sm",children:"Resolve"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.$,{icon:(0,a.jsx)(b.M,{className:"scale-75 w-3 h-3"}),onClick:()=>{var e,t,s,a;z.newChat({name:"Summarize lint",open:!0,initialInput:"Summarize the issue and suggest fixes: ".concat(null==(e=m.ah.find(e=>e.name===v.name))?void 0:e.title,"\n                                \nEntity: ").concat(null!=(s=v.metadata&&(v.metadata.entity||v.metadata.schema&&v.metadata.name&&"".concat(v.metadata.schema,".").concat(v.metadata.name)))?s:"","\n                                \nSchema: ").concat(null!=(a=null==(t=v.metadata)?void 0:t.schema)?a:"","\n                                \nIssue: ").concat(v.detail.replace(/\\`/g,"`"),"\n                                \nDescription: ").concat(v.description.replace(/\\`/g,"`"),"\n")})},children:"Ask Assistant"}),(0,a.jsx)(m.W7,{title:v.name,projectRef:A,metadata:v.metadata}),(0,a.jsx)(f.$,{asChild:!0,type:"text",children:(0,a.jsx)(l(),{href:(null==(r=m.ah.find(e=>e.name===v.name))?void 0:r.docsLink)||"https://supabase.com/docs/guides/database/database-linter",target:"_blank",rel:"noreferrer",className:"no-underline",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Learn more ",(0,a.jsx)(n.A,{size:14})]})})})]})]})]})]})})]})]})]})]})}},23227:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(80263),i=s(90478),n=s(15134),r=s(54273),l=s(12070),o=s(43181),d=s(40022);let c=e=>{let{filterOptions:t,activeLints:s,filteredLints:c,currentTab:u,filters:m,isLoading:p,setFilters:x,onClickRefresh:h}=e,{ref:g}=(0,i.g)(),f=(e,t)=>{let s=[...m],a=s.findIndex(t=>t.level===e);-1!==a&&(s[a]={...s[a],filters:t},x(s))};return(0,a.jsxs)("div",{className:"px-6 py-2 -mt-px flex bg-surface-200 items-center justify-between border-t","data-sentry-component":"LinterFilters","data-sentry-source-file":"LinterFilters.tsx",children:[n.T.map(e=>{var i;return(0,a.jsx)("div",{className:e.id===u?"":"hidden",children:(0,a.jsx)(l.I,{name:"Filter",className:"w-52",options:t,disabled:0===s.filter(t=>t.level===e.id).length,labelKey:"name",valueKey:"value",activeOptions:(null==(i=m.find(t=>t.level===e.id))?void 0:i.filters)||[],onSaveFilters:t=>f(e.id,t)})},e.id)}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(d.$,{size:"tiny",type:"default",disabled:p,onClick:h,icon:(0,a.jsx)(o.A,{className:"text-foreground-light ".concat(p?"animate-spin":"")}),"data-sentry-element":"Button","data-sentry-source-file":"LinterFilters.tsx",children:"Refresh"}),(0,a.jsx)(r.b,{align:"end",results:c,fileName:"Supabase Performance Security Lints (".concat(g,")"),"data-sentry-element":"DownloadResultsButton","data-sentry-source-file":"LinterFilters.tsx"})]})]})}},36902:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(15740).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},57091:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(80263);let i=(0,s(15740).A)("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);var n=s(52554),r=s(80586),l=s(51500),o=s(78721),d=s(15134),c=s(90437),u=s(24400);let m=e=>{let{currentTab:t,setCurrentTab:s,setSelectedLint:m,isLoading:p,activeLints:x}=e,h=(0,u.useRouter)(),g=x.filter(e=>"WARN"===e.level).length,f=x.filter(e=>"ERROR"===e.level).length,y=x.filter(e=>"INFO"===e.level).length,b=e=>{let{tab:t}=e,s=0,i="";return t.id===d.R.ERROR&&(s=f,i="errors"),t.id===d.R.WARN&&(s=g,i="warnings"),t.id===d.R.INFO&&(s=y,i="suggestions"),(0,a.jsx)("span",{className:"text-xs text-foreground-muted group-hover:text-foreground-lighter group-data-[state=active]:text-foreground-lighter transition","data-sentry-component":"LintCountLabel","data-sentry-source-file":"LintPageTabs.tsx",children:p?(0,a.jsx)(c.A,{className:"w-20 pt-1"}):(0,a.jsxs)(a.Fragment,{children:[s," ",i]})})};return(0,a.jsx)(r.tU,{defaultValue:t,onValueChange:e=>{s(e),m(null);let{sort:t,search:a,...i}=h.query;h.push({...h,query:{...i,preset:e,id:null}})},"data-sentry-element":"Tabs_Shadcn_","data-sentry-component":"LintPageTabs","data-sentry-source-file":"LintPageTabs.tsx",children:(0,a.jsx)(r.j7,{className:(0,l.cn)("flex gap-0 border-0 items-end z-10 relative"),"data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LintPageTabs.tsx",children:d.T.map(e=>(0,a.jsxs)(r.Xi,{value:e.id,className:(0,l.cn)("group relative","px-6 py-3 border-b-0 flex flex-col items-start !shadow-none border-default border-t","even:border-x last:border-r even:!border-x-strong last:!border-r-strong",e.id===t?"!bg-surface-200":"!bg-surface-200/[33%]","hover:!bg-surface-100","data-[state=active]:!bg-surface-200","hover:text-foreground-light","transition"),children:[e.id===t&&(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-foreground"}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("span",{className:e.id===d.R.ERROR?"text-destructive-600":e.id===d.R.WARN?"text-warning-600":"text-brand-500",children:(0,a.jsx)(i,{size:14,fill:"currentColor",strokeWidth:0})}),(0,a.jsx)("span",{className:"",children:e.label}),(0,a.jsxs)(o.m_,{children:[(0,a.jsx)(o.k$,{asChild:!0,children:(0,a.jsx)(n.A,{className:"transition text-foreground-muted w-3 h-3 data-[state=delayed-open]:text-foreground-light"})}),(0,a.jsx)(o.ZI,{side:"top",children:e.description})]})]}),(0,a.jsx)(b,{tab:e})]},e.id))})})}},59450:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(15740).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},66218:(e,t,s)=>{s.d(t,{L:()=>k,W7:()=>b,pr:()=>_,VL:()=>j,_N:()=>v,ah:()=>y});var a=s(80263),i=s(36760),n=s(36902),r=s(81774),l=s(8185),o=s(17233);let d=(0,s(15740).A)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var c=s(59450),u=s(52542),m=s(24533),p=s(15601),x=s.n(p),h=s(15134),g=s(40022),f=s(2119);let y=[{name:"unindexed_foreign_keys",title:"Unindexed foreign keys",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema)},linkText:"Create an index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0001_unindexed_foreign_keys",category:"performance"},{name:"auth_users_exposed",title:"Exposed Auth Users",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/editor")},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0002_auth_users_exposed",category:"security"},{name:"auth_rls_initplan",title:"Auth RLS Initialization Plan",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/policies")},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0003_auth_rls_initplan",category:"performance"},{name:"no_primary_key",title:"No Primary Key",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/editor")},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0004_no_primary_key",category:"performance"},{name:"unused_index",title:"Unused Index",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema,"&table=").concat(null==s?void 0:s.name)},linkText:"View index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0005_unused_index",category:"performance"},{name:"multiple_permissive_policies",title:"Multiple Permissive Policies",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0006_multiple_permissive_policies",category:"performance"},{name:"policy_exists_rls_disabled",title:"Policy Exists RLS Disabled",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0007_policy_exists_rls_disabled",category:"security"},{name:"rls_enabled_no_policy",title:"RLS Enabled No Policy",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0008_rls_enabled_no_policy",category:"security"},{name:"duplicate_index",title:"Duplicate Index",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema,"&table=").concat(null==s?void 0:s.name)},linkText:"View index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0009_duplicate_index",category:"performance"},{name:"security_definer_view",title:"Security Definer View",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0010_security_definer_view",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0010_security_definer_view",category:"security"},{name:"function_search_path_mutable",title:"Function Search Path Mutable",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/functions?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View functions",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0011_function_search_path_mutable",category:"security"},{name:"rls_disabled_in_public",title:"RLS Disabled in Public",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0013_rls_disabled_in_public",category:"security"},{name:"extension_in_public",title:"Extension in Public",icon:(0,a.jsx)(l.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/extensions?filter=").concat(null==s?void 0:s.name)},linkText:"View extension",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0014_extension_in_public",category:"security"},{name:"auth_otp_long_expiry",title:"Auth OTP Long Expiry",icon:(0,a.jsx)(o.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"auth_otp_short_length",title:"Auth OTP Short Length",icon:(0,a.jsx)(d,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"rls_references_user_metadata",title:"RLS references user metadata",icon:(0,a.jsx)(c.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/policies")},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0015_rls_references_user_metadata",category:"security"},{name:"materialized_view_in_api",title:"Materialized View in API",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-advisors?lint=0016_materialized_view_in_api",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-advisors?lint=0016_materialized_view_in_api",category:"security"},{name:"foreign_table_in_api",title:"Foreign Table in API",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-linter?lint=0017_foreign_table_in_api",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-linter?lint=0017_foreign_table_in_api",category:"security"},{name:"unsupported_reg_types",title:"Unsupported reg types",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-advisors?lint=0018_unsupported_reg_types&queryGroups=lint",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-advisors?lint=0018_unsupported_reg_types&queryGroups=lint",category:"security"},{name:"ssl_not_enforced",title:"SSL not enforced",icon:(0,a.jsx)(d,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/settings/database")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/ssl-enforcement",category:"security"},{name:"network_restrictions_not_set",title:"No network restrictions",icon:(0,a.jsx)(d,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/settings/database")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/network-restrictions",category:"security"},{name:"password_requirements_min_length",title:"Minimum password length not set or inadequate",icon:(0,a.jsx)(d,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"pitr_not_enabled",title:"PITR not enabled",icon:(0,a.jsx)(d,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/database/backups/pitr")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/backups#point-in-time-recovery",category:"security"},{name:"auth_leaked_password_protection",title:"Leaked Password Protection Disabled",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/password-security#password-strength-and-leaked-password-protection",category:"security"},{name:"auth_insufficient_mfa_options",title:"Insufficient MFA Options",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/mfa")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/auth-mfa",category:"security"},{name:"auth_password_policy_missing",title:"Password Policy Missing",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/password-security",category:"security"},{name:"leaked_service_key",title:"Leaked Service Key Detected",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/settings/api")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/api/api-keys#the-servicerole-key",category:"security"},{name:"no_backup_admin",title:"No Backup Admin Detected",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/mfa")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/auth-mfa",category:"security"}],b=e=>{let{title:t,projectRef:s,metadata:i}=e,n=y.find(e=>e.name===t);if(!n)return null;let r=n.link({projectRef:s,metadata:i}),l=n.linkText;return(0,a.jsx)(g.$,{asChild:!0,type:"default","data-sentry-element":"Button","data-sentry-component":"LintCTA","data-sentry-source-file":"Linter.utils.tsx",children:(0,a.jsx)(x(),{href:r,target:"_blank",rel:"noreferrer",className:"no-underline","data-sentry-element":"Link","data-sentry-source-file":"Linter.utils.tsx",children:l})})},k=e=>{let{type:t}=e;switch(t){case"table":return(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1});case"view":return(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5});case"auth":return(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5});default:return(0,a.jsx)(u.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5})}},j=e=>{var t;let{metadata:s}=e;return null!=(t=s&&(s.entity||s.schema&&s.name&&"".concat(s.schema,".").concat(s.name)))?t:void 0},_=e=>{let{category:t}=e;return(0,a.jsx)(f.E,{variant:"SECURITY"===t?"destructive":"warning",className:"capitalize","data-sentry-element":"Badge","data-sentry-component":"LintCategoryBadge","data-sentry-source-file":"Linter.utils.tsx",children:t.toLowerCase()})},v=e=>{let{level:t}=e,s=t===h.R.ERROR?"errors":"warnings";return(0,a.jsxs)("div",{className:"absolute top-28 px-6 flex flex-col items-center justify-center w-full gap-y-2","data-sentry-component":"NoIssuesFound","data-sentry-source-file":"Linter.utils.tsx",children:[(0,a.jsx)(m.A,{className:"text-foreground-muted",strokeWidth:1,"data-sentry-element":"TextSearch","data-sentry-source-file":"Linter.utils.tsx"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-foreground",children:["No ",s," detected"]}),(0,a.jsxs)("p",{className:"text-foreground-light",children:["Congrats! There are no ",s," detected for this database"]})]})]})}}}]);